{"meta":{"version":1,"warehouse":"4.0.2"},"models":{"Asset":[{"_id":"source/images/hello-bg.png","path":"images/hello-bg.png","modified":0,"renderable":0},{"_id":"themes/archer/source/assets/algolia_logo.svg","path":"assets/algolia_logo.svg","modified":0,"renderable":1},{"_id":"themes/archer/source/assets/beian.png","path":"assets/beian.png","modified":0,"renderable":1},{"_id":"themes/archer/source/assets/example_qr.png","path":"assets/example_qr.png","modified":0,"renderable":1},{"_id":"themes/archer/source/assets/favicon.ico","path":"assets/favicon.ico","modified":0,"renderable":1},{"_id":"themes/archer/source/assets/favicon_bak.ico","path":"assets/favicon_bak.ico","modified":0,"renderable":1},{"_id":"themes/archer/source/assets/loading.svg","path":"assets/loading.svg","modified":0,"renderable":1},{"_id":"themes/archer/source/assets/wechat_qr.jpg","path":"assets/wechat_qr.jpg","modified":0,"renderable":1},{"_id":"themes/archer/source/avatar/Misaka.jpg","path":"avatar/Misaka.jpg","modified":0,"renderable":1},{"_id":"themes/archer/source/css/dark.css","path":"css/dark.css","modified":0,"renderable":1},{"_id":"themes/archer/source/css/dark.css.map","path":"css/dark.css.map","modified":0,"renderable":1},{"_id":"themes/archer/source/css/mobile.css","path":"css/mobile.css","modified":0,"renderable":1},{"_id":"themes/archer/source/css/mobile.css.map","path":"css/mobile.css.map","modified":0,"renderable":1},{"_id":"themes/archer/source/css/style.css.map","path":"css/style.css.map","modified":0,"renderable":1},{"_id":"themes/archer/source/font/Source Sans Pro.woff","path":"font/Source Sans Pro.woff","modified":0,"renderable":1},{"_id":"themes/archer/source/css/style.css","path":"css/style.css","modified":0,"renderable":1},{"_id":"themes/archer/source/font/Source Sans Pro.woff2","path":"font/Source Sans Pro.woff2","modified":0,"renderable":1},{"_id":"themes/archer/source/font/Oswald-Regular.ttf","path":"font/Oswald-Regular.ttf","modified":0,"renderable":1},{"_id":"themes/archer/source/font/SourceCodePro-Regular.ttf.woff","path":"font/SourceCodePro-Regular.ttf.woff","modified":0,"renderable":1},{"_id":"themes/archer/source/font/SourceCodePro-Regular.ttf.woff2","path":"font/SourceCodePro-Regular.ttf.woff2","modified":0,"renderable":1},{"_id":"themes/archer/source/intro/404-bg.jpg","path":"intro/404-bg.jpg","modified":0,"renderable":1},{"_id":"themes/archer/source/intro/about-bg.jpg","path":"intro/about-bg.jpg","modified":0,"renderable":1},{"_id":"themes/archer/source/intro/index-bg.jpg","path":"intro/index-bg.jpg","modified":0,"renderable":1},{"_id":"themes/archer/source/intro/post-bg.jpg","path":"intro/post-bg.jpg","modified":0,"renderable":1},{"_id":"themes/archer/source/lib/jquery.min.js","path":"lib/jquery.min.js","modified":0,"renderable":1},{"_id":"themes/archer/source/lib/webfontloader.min.js","path":"lib/webfontloader.min.js","modified":0,"renderable":1},{"_id":"themes/archer/source/scripts/customFontLoader.js","path":"scripts/customFontLoader.js","modified":0,"renderable":1},{"_id":"themes/archer/source/scripts/customFontLoader.js.map","path":"scripts/customFontLoader.js.map","modified":0,"renderable":1},{"_id":"themes/archer/source/scripts/dark.js","path":"scripts/dark.js","modified":0,"renderable":1},{"_id":"themes/archer/source/scripts/dark.js.map","path":"scripts/dark.js.map","modified":0,"renderable":1},{"_id":"themes/archer/source/scripts/main.js","path":"scripts/main.js","modified":0,"renderable":1},{"_id":"themes/archer/source/scripts/main.js.LICENSE.txt","path":"scripts/main.js.LICENSE.txt","modified":0,"renderable":1},{"_id":"themes/archer/source/scripts/search.js","path":"scripts/search.js","modified":0,"renderable":1},{"_id":"themes/archer/source/scripts/main.js.map","path":"scripts/main.js.map","modified":0,"renderable":1},{"_id":"themes/archer/source/scripts/search.js.LICENSE.txt","path":"scripts/search.js.LICENSE.txt","modified":0,"renderable":1},{"_id":"themes/archer/source/scripts/search.js.map","path":"scripts/search.js.map","modified":0,"renderable":1},{"_id":"themes/archer/source/scripts/share.js","path":"scripts/share.js","modified":0,"renderable":1},{"_id":"themes/archer/source/scripts/share.js.map","path":"scripts/share.js.map","modified":0,"renderable":1},{"_id":"themes/archer/source/avatar/Jason.jpg","path":"avatar/Jason.jpg","modified":0,"renderable":1},{"_id":"source/images/http/http-request.png","path":"images/http/http-request.png","modified":0,"renderable":0},{"_id":"source/images/http/request-methods.png","path":"images/http/request-methods.png","modified":0,"renderable":0},{"_id":"source/images/http/TCP-connection-1.png","path":"images/http/TCP-connection-1.png","modified":0,"renderable":0},{"_id":"source/images/http/curl-header.png","path":"images/http/curl-header.png","modified":0,"renderable":0},{"_id":"source/images/http/handshake-1.png","path":"images/http/handshake-1.png","modified":0,"renderable":0},{"_id":"source/images/http/perisitent-connection.png","path":"images/http/perisitent-connection.png","modified":0,"renderable":0},{"_id":"source/images/http/auto-disconnect.png","path":"images/http/auto-disconnect.png","modified":0,"renderable":0},{"_id":"source/images/http/auto-disconnect2.png","path":"images/http/auto-disconnect2.png","modified":0,"renderable":0},{"_id":"source/images/http/handshake-2.png","path":"images/http/handshake-2.png","modified":0,"renderable":0},{"_id":"source/images/http/http-keep-alive-header.png","path":"images/http/http-keep-alive-header.png","modified":0,"renderable":0},{"_id":"source/images/internal-loss/depressed.jpg","path":"images/internal-loss/depressed.jpg","modified":0,"renderable":0},{"_id":"source/images/http/timeout-auto-disconnect.png","path":"images/http/timeout-auto-disconnect.png","modified":0,"renderable":0},{"_id":"source/images/internal-loss/20231109_sy_01.jpg","path":"images/internal-loss/20231109_sy_01.jpg","modified":0,"renderable":0},{"_id":"source/images/internal-loss/996.jpg","path":"images/internal-loss/996.jpg","modified":0,"renderable":0},{"_id":"source/images/garnet/client.png","path":"images/garnet/client.png","modified":0,"renderable":0},{"_id":"source/images/garnet/compatible.png","path":"images/garnet/compatible.png","modified":0,"renderable":0},{"_id":"source/images/garnet/compare1.png","path":"images/garnet/compare1.png","modified":0,"renderable":0},{"_id":"source/images/garnet/log.png","path":"images/garnet/log.png","modified":0,"renderable":0},{"_id":"source/images/garnet/1.png","path":"images/garnet/1.png","modified":0,"renderable":0},{"_id":"source/images/garnet/connect.png","path":"images/garnet/connect.png","modified":0,"renderable":0},{"_id":"source/images/garnet/custom-command.png","path":"images/garnet/custom-command.png","modified":0,"renderable":0},{"_id":"source/images/https/bg.jpg","path":"images/https/bg.jpg","modified":0,"renderable":0},{"_id":"source/images/https/expire.png","path":"images/https/expire.png","modified":0,"renderable":0},{"_id":"source/images/garnet/running.png","path":"images/garnet/running.png","modified":0,"renderable":0},{"_id":"source/images/https/ca.png","path":"images/https/ca.png","modified":0,"renderable":0},{"_id":"source/images/https/ca2.png","path":"images/https/ca2.png","modified":0,"renderable":0},{"_id":"source/images/https/client-hello.png","path":"images/https/client-hello.png","modified":0,"renderable":0},{"_id":"source/images/https/encrypted.png","path":"images/https/encrypted.png","modified":0,"renderable":0},{"_id":"source/images/https/security.png","path":"images/https/security.png","modified":0,"renderable":0},{"_id":"source/images/https/negotiated-cipher-suite.png","path":"images/https/negotiated-cipher-suite.png","modified":0,"renderable":0},{"_id":"source/images/https/cipher-suites.png","path":"images/https/cipher-suites.png","modified":0,"renderable":0},{"_id":"source/images/https/handshake.png","path":"images/https/handshake.png","modified":0,"renderable":0},{"_id":"source/images/redis-interview/recruitment.png","path":"images/redis-interview/recruitment.png","modified":0,"renderable":0},{"_id":"source/images/dump/bg.png","path":"images/dump/bg.png","modified":0,"renderable":0},{"_id":"source/images/dump/crash.jpeg","path":"images/dump/crash.jpeg","modified":0,"renderable":0},{"_id":"source/images/redis-interview/bg.png","path":"images/redis-interview/bg.png","modified":0,"renderable":0},{"_id":"source/images/redis-interview/cache-avalanche.png","path":"images/redis-interview/cache-avalanche.png","modified":0,"renderable":0},{"_id":"source/images/redis-interview/cache-breakdown.png","path":"images/redis-interview/cache-breakdown.png","modified":0,"renderable":0},{"_id":"source/images/redis-interview/memory.png","path":"images/redis-interview/memory.png","modified":0,"renderable":0},{"_id":"source/images/redis-interview/cache-penetration.png","path":"images/redis-interview/cache-penetration.png","modified":0,"renderable":0},{"_id":"source/images/dump/windbg_2.png","path":"images/dump/windbg_2.png","modified":0,"renderable":0},{"_id":"source/images/dump/windbg_4.png","path":"images/dump/windbg_4.png","modified":0,"renderable":0},{"_id":"source/images/dump/windbg_1.png","path":"images/dump/windbg_1.png","modified":0,"renderable":0},{"_id":"source/images/dump/windbg_3.png","path":"images/dump/windbg_3.png","modified":0,"renderable":0},{"_id":"source/images/dead-message/bg.jpg","path":"images/dead-message/bg.jpg","modified":0,"renderable":0},{"_id":"source/images/dead-message/dead-letter-exchange-1.png","path":"images/dead-message/dead-letter-exchange-1.png","modified":0,"renderable":0},{"_id":"source/images/dead-message/dead-letter-2.jpg","path":"images/dead-message/dead-letter-2.jpg","modified":0,"renderable":0},{"_id":"source/images/dead-message/dead-letter-3.png","path":"images/dead-message/dead-letter-3.png","modified":0,"renderable":0},{"_id":"source/images/dead-message/delay_comsuption_2.png","path":"images/dead-message/delay_comsuption_2.png","modified":0,"renderable":0},{"_id":"source/images/dead-message/delay_comsuption_1.png","path":"images/dead-message/delay_comsuption_1.png","modified":0,"renderable":0},{"_id":"source/images/image-search/images.png","path":"images/image-search/images.png","modified":1,"renderable":0},{"_id":"source/images/image-search/search.gif","path":"images/image-search/search.gif","modified":1,"renderable":0},{"_id":"source/images/task-completion-source/pause-1.png","path":"images/task-completion-source/pause-1.png","modified":1,"renderable":0},{"_id":"source/images/task-completion-source/pause-2.png","path":"images/task-completion-source/pause-2.png","modified":1,"renderable":0}],"Cache":[{"_id":"source/_posts/hello-world-bak.md1","hash":"1e16dbc0dbf8b18e83f47dbbdffd0d1f27cfe955","modified":1710398484836},{"_id":"themes/archer/layout/_partial/comment/custom.ejs","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1688482306000},{"_id":"themes/archer/.eslintignore","hash":"304e696987e3f31cd0a7a13a835d58d8bda3aa6c","modified":1688482306000},{"_id":"themes/archer/.gitattributes","hash":"82c1a621642d5b620275ae1ed59845c3f7015a64","modified":1688482306000},{"_id":"themes/archer/.babelrc","hash":"078678843ebb6992f0cc44304faa6f1cb082bd4a","modified":1688482306000},{"_id":"themes/archer/.gitignore","hash":"9a5e5d0a05fc5bee9bf00a0c5cefc712b4bf0904","modified":1688482306000},{"_id":"themes/archer/.eslintrc.json","hash":"352a07b94efa124a5658b502bf973683be09fd00","modified":1688482306000},{"_id":"themes/archer/.editorconfig","hash":"3a7f38d9586f73ed1c46cfbc9839b3465ec57d7c","modified":1688482306000},{"_id":"themes/archer/.prettierignore","hash":"29648a30c14f6df709eb6610f506c82825910cc8","modified":1688482306000},{"_id":"source/_posts/hello-world.md","hash":"3c422ea24b75465e6ea2a80c268251ca0a03e042","modified":1714100836002},{"_id":"themes/archer/LICENSE","hash":"0da0c361bf299375739c6b668a44af0f5faf37bb","modified":1688482306000},{"_id":"themes/archer/CHANGELOG.md","hash":"6fbf3e5e8ed6ae6fb68fd74bfd2b53d99db4b1fd","modified":1688482306000},{"_id":"themes/archer/.prettierrc.js","hash":"bae1d8dab7bf8b68207386f366e092778940540c","modified":1688482306000},{"_id":"themes/archer/package.json","hash":"81af75826e854ac80f6337dc4f1ce4b51f066b0b","modified":1688482306000},{"_id":"themes/archer/_config.yml","hash":"0dd04e79b90209217c5bdff1e8160f2976b30312","modified":1710819811209},{"_id":"themes/archer/webpack.dev.js","hash":"7c740341894bd584f72145512a58703bb134ea60","modified":1688482306000},{"_id":"themes/archer/README.md","hash":"63eb0f874bc056d407ee343f853adee9a5765434","modified":1688482306000},{"_id":"themes/archer/webpack.prod.js","hash":"a34abc06d6cd8fa4e267069468726322a3656e2b","modified":1688482306000},{"_id":"themes/archer/gulpfile.js","hash":"ee1ad57aa5113a084091fd86fca2c34e1b9e4b95","modified":1688482306000},{"_id":"themes/archer/dev/archer.sh","hash":"4065c4e55462d5ecf016464adea0d1db967ef4b4","modified":1688482306000},{"_id":"themes/archer/webpack.config.js","hash":"e090744d8e7a0d0906d1d6b8192eb906092d1e9b","modified":1688482306000},{"_id":"themes/archer/docs/README-en.md","hash":"f5e40c5803071bd6dafc94070c6939aa0c02d061","modified":1688482306000},{"_id":"themes/archer/docs/develop-guide-en.md","hash":"c62510d3d14b38126b5a86ff30416cb71abc1d9a","modified":1688482306000},{"_id":"themes/archer/docs/develop-guide-zh.md","hash":"451b304c1a5d081313f0532a4f5665f0855d4cfd","modified":1688482306000},{"_id":"themes/archer/languages/default.yml","hash":"e937791c5080868c3abe20bab4cf266a342b5922","modified":1688482306000},{"_id":"themes/archer/languages/en.yml","hash":"5a1a85fed95dab4f01671714ee8cc5420936c05f","modified":1688482306000},{"_id":"themes/archer/layout/404.ejs","hash":"9137c0b1153ca8cd32e60a38fd79b7e4b91c8bf4","modified":1688482306000},{"_id":"themes/archer/layout/about.ejs","hash":"748786bebad03b1ef79c551f26522fa2bee1b9dd","modified":1688482306000},{"_id":"themes/archer/layout/site-meta.ejs","hash":"562e446a742fde07e0880343d5693bf8cb0dec23","modified":1688482306000},{"_id":"themes/archer/layout/index.ejs","hash":"093f8dbe875cad94b9618f181d1b5621d8874b19","modified":1688482306000},{"_id":"themes/archer/.github/ISSUE_TEMPLATE/-----feature-request-.md","hash":"edb6b06041660beb656fd5e4062d5a21577cbb3a","modified":1688482306000},{"_id":"themes/archer/.github/ISSUE_TEMPLATE/-----------bug--help-wanted-or-bug-report-.md","hash":"55e843652d99fae32534a7630e698d2394020baf","modified":1688482306000},{"_id":"themes/archer/.github/ISSUE_TEMPLATE/-----other-issue-.md","hash":"05f24b2df012808f6410f1ef2230d4fd1a5d6cf5","modified":1688482306000},{"_id":"themes/archer/.github/workflows/deploy-demo-page.yml","hash":"91c065ee0ec29f7bb10263fefa6f3072bc493a38","modified":1688482306000},{"_id":"themes/archer/layout/_partial/algolia.ejs","hash":"c7bf50dd6e60fd8e8dfbeab9960172359af7307e","modified":1688482306000},{"_id":"themes/archer/layout/layout.ejs","hash":"1bee90a75c1f4b04c90421419dd68acdec15b998","modified":1688482306000},{"_id":"themes/archer/layout/_partial/base-footer-fixed.ejs","hash":"e4dbde6594c0c2d1c5de71ddf968be0879ceddb7","modified":1688482306000},{"_id":"themes/archer/layout/post.ejs","hash":"d421aba0ab93e2b7a22d060da4c56441bf97cdb9","modified":1688482306000},{"_id":"themes/archer/layout/_partial/base-background-image.ejs","hash":"18365516cd8819de853716f0d47a72a60a5edc46","modified":1688482306000},{"_id":"themes/archer/layout/_partial/base-footer.ejs","hash":"236e6550d94519d44292e6b14e30ea8234050025","modified":1711684219591},{"_id":"themes/archer/layout/_partial/base-header.ejs","hash":"57d1ae0fd6f9f1ab52a64c44a8ae17ee71de22ef","modified":1688482306000},{"_id":"themes/archer/layout/_partial/base-head.ejs","hash":"687c08823e7ce43e6ebb44f2fb4b75549abfed29","modified":1688482306000},{"_id":"themes/archer/layout/_partial/base-social.ejs","hash":"0190f06c2f0345cec00eba2074bbfd1b56a7fdc9","modified":1688482306000},{"_id":"themes/archer/layout/_partial/base-title-tags.ejs","hash":"1d5a95782ffc382fdb6b1239b3b97db125984fa0","modified":1688482306000},{"_id":"themes/archer/layout/_partial/base-preload-polyfill.ejs","hash":"d046322674052b0667775dca0886f14e0d812897","modified":1688482306000},{"_id":"themes/archer/layout/_partial/custom-font.ejs","hash":"bc6bfda53f8856e1473263a44fd861e96cc00719","modified":1688482306000},{"_id":"themes/archer/source/assets/beian.png","hash":"a99df13e8eb11db86edebf6e5ac246eb59f4b3c4","modified":1688482306000},{"_id":"themes/archer/source/assets/algolia_logo.svg","hash":"90035272fa31a3f65b3c0e2cb8a633876ef457dc","modified":1688482306000},{"_id":"themes/archer/source/assets/example_qr.png","hash":"cce20432c34875f4d9c6df927ede0fc0f00bb194","modified":1688482306000},{"_id":"themes/archer/layout/_partial/base-profile.ejs","hash":"f63032391dd75905b6663628a9ca231fa0283350","modified":1688482306000},{"_id":"themes/archer/source/assets/favicon_bak.ico","hash":"8b200c575d273d41a179c102442e191414e74eae","modified":1688482306000},{"_id":"themes/archer/source/assets/loading.svg","hash":"45be17d07697d604d8981890eb21e308530c7a38","modified":1688482306000},{"_id":"themes/archer/source/avatar/Misaka.jpg","hash":"74a0372523f98dfbba992bf80642e160d04dc9b1","modified":1688482306000},{"_id":"themes/archer/layout/_partial/intro-height.ejs","hash":"7b8b078b1c1e5b216e46b32a0cab67330c92c734","modified":1688482306000},{"_id":"themes/archer/source/css/dark.css","hash":"4db211216f16a5e66d4d499158f4005a1bbb39f5","modified":1688482306000},{"_id":"themes/archer/source/assets/wechat_qr.jpg","hash":"20763d666624facc585e34645018deadb343b4b5","modified":1705482083315},{"_id":"themes/archer/source/css/dark.css.map","hash":"f49556935deae49df3158c2eb2265464129ef978","modified":1688482306000},{"_id":"themes/archer/source/css/mobile.css.map","hash":"c9f9dade45b119ae2eb7a93be0160baef4d494f8","modified":1688482306000},{"_id":"themes/archer/source/css/mobile.css","hash":"acb0dfcce26ec93f59c6ec4936006abbe8daefee","modified":1688482306000},{"_id":"themes/archer/source/font/Source Sans Pro.woff","hash":"a6722c9b6439b7a020a9be3d3178970757a9265c","modified":1688482306000},{"_id":"themes/archer/source/font/Source Sans Pro.woff2","hash":"da65f527a8da65d5eb6721626d28cfdb46ab104a","modified":1688482306000},{"_id":"themes/archer/source/css/style.css","hash":"f08b1ec3a5fe1bf936401a238d55e0487296b42c","modified":1688482306000},{"_id":"themes/archer/source/scripts/customFontLoader.js.map","hash":"702a44b0b1b450263592bfb1199c8d36ea9834a2","modified":1688482306000},{"_id":"themes/archer/source/lib/webfontloader.min.js","hash":"4c69aeb4e4f355912503d1c460e8e7aa6ea6963e","modified":1688482306000},{"_id":"themes/archer/source/scripts/dark.js.map","hash":"feb9e1905c4b313b839c1c3b69ad61c05f265a9a","modified":1688482306000},{"_id":"themes/archer/source/scripts/dark.js","hash":"28ba818b2ab8a9454a52fe2710b5a8a81a195e4d","modified":1688482306000},{"_id":"themes/archer/source/scripts/customFontLoader.js","hash":"7c2f03fbd2b8340b77b1b02778a34e5ac10b560c","modified":1688482306000},{"_id":"themes/archer/source/scripts/main.js.LICENSE.txt","hash":"959bfc660011bc6a0800fe9e7974080f64c062aa","modified":1688482306000},{"_id":"themes/archer/source/scripts/search.js.LICENSE.txt","hash":"2c9b607ded909550f2ed2d0f2e7271781d9f78d9","modified":1688482306000},{"_id":"themes/archer/src/js/browser.js","hash":"c56e0094a04d6f20564f8f0da1496cb7631d4dc2","modified":1688482306000},{"_id":"themes/archer/source/scripts/share.js","hash":"2210dd8dacea4f1ca11c0047dfafd0a170abd953","modified":1688482306000},{"_id":"themes/archer/src/js/customFontLoader.js","hash":"98bb3a1c0f69bc2675bfa6579df2dde38ba6fded","modified":1688482306000},{"_id":"themes/archer/src/js/fancybox.js","hash":"6dfc8015d6000c76806424876f5472f39e5485af","modified":1688482306000},{"_id":"themes/archer/src/js/dark.js","hash":"2cd243df8593b18a1a293f483d2db18503c53547","modified":1688482306000},{"_id":"themes/archer/src/js/fontawsome.js","hash":"43e852899ee1bc22495253428a2ff3bdedf89882","modified":1688482306000},{"_id":"themes/archer/src/js/init.js","hash":"dee0a1c959bd4dc3953428b1b2137f42bc659b32","modified":1688482306000},{"_id":"themes/archer/src/js/initSidebar.js","hash":"c9c030a451ed394934c1858c7d55ec5a7b588305","modified":1688482306000},{"_id":"themes/archer/src/js/main.js","hash":"658565fbf20adc5b9b237a53c973d0685ce60202","modified":1688482306000},{"_id":"themes/archer/src/js/mobile.js","hash":"4ae6837e18b729f85b5097867fc742ba2d1edf25","modified":1688482306000},{"_id":"themes/archer/src/js/sidebar.js","hash":"2518f2b0b7947530851e6c73245dddc96a618a08","modified":1688482306000},{"_id":"themes/archer/src/js/share.js","hash":"c2e6a3d8d6883cde0c67484daca5e742ebb8e0d1","modified":1688482306000},{"_id":"themes/archer/src/js/scroll.js","hash":"3017b329329888b287ad233831138428475749be","modified":1688482306000},{"_id":"themes/archer/src/js/toc.js","hash":"96a7e07d1976eb29a77799ac2b7abb47907f4b45","modified":1688482306000},{"_id":"themes/archer/src/js/tag.js","hash":"395db7eb2d09e2df6eefcf3f4c7da5cd809a6221","modified":1688482306000},{"_id":"themes/archer/src/js/util.js","hash":"e49b30f6ba82d5183d005fc0192d2d673969586b","modified":1688482306000},{"_id":"themes/archer/src/scss/_common.scss","hash":"e80acb4f0049d24260f0a32a301f985ae7e166b8","modified":1688482306000},{"_id":"themes/archer/src/js/search.js","hash":"0bf92b51fef092989f4fe16fb7ef7724d11e9f58","modified":1688482306000},{"_id":"themes/archer/src/scss/_normalize.scss","hash":"a2dbeb38ad08bb8975856d75954cc697bf8e5ff7","modified":1688482306000},{"_id":"themes/archer/src/scss/dark.scss","hash":"739af46f0ef8c0c89c3e78ec577e844678f737b5","modified":1688482306000},{"_id":"themes/archer/src/scss/_mixin.scss","hash":"78da2632e7150baa0fd1f6d04fc59ca5e304903d","modified":1688482306000},{"_id":"themes/archer/src/scss/_variables.scss","hash":"01e5cab2b5fc686c52145d65229f17db13a3cc54","modified":1688482306000},{"_id":"themes/archer/src/scss/mobile.scss","hash":"2b542af943a8502aae26362dd2af1fbcf68eac1c","modified":1688482306000},{"_id":"themes/archer/src/scss/style.scss","hash":"b10b9a44efaa293b7ac220e66c963dca04ad4bc7","modified":1688482306000},{"_id":"themes/archer/layout/_partial/comment/gitment.ejs","hash":"eda79ada5171ed44e4f3ae4d8a345ad2c7adb2df","modified":1688482306000},{"_id":"themes/archer/source/avatar/Jason.jpg","hash":"0eae332ea91f9e04b54f35d2ed1b17b5b37aee64","modified":1710397722571},{"_id":"themes/archer/layout/_partial/comment/disqus.ejs","hash":"0f0612ce9ca5c3dc349153a87fdc9dba5f93c52c","modified":1688482306000},{"_id":"themes/archer/layout/_partial/comment/gitalk.ejs","hash":"840279fd3e21dc1cdb1932fe4d9a3be5f670e764","modified":1688482306000},{"_id":"themes/archer/layout/_partial/comment/changyan.ejs","hash":"cc02b3cf9586135d2d7f822c7ad97d81fdf6d4e5","modified":1688482306000},{"_id":"themes/archer/layout/_partial/comment/utteranc.ejs","hash":"f4ec58c74e6870b8c22032ad3a3c1ee33e5ec41d","modified":1688482306000},{"_id":"themes/archer/layout/_partial/comment/livere.ejs","hash":"d65d9372fca4b316b94ae511f8ccfb0b92d7b065","modified":1688482306000},{"_id":"themes/archer/layout/_partial/comment/valine.ejs","hash":"24cd7b9e28ceb4b2083ddccce26517de64b35119","modified":1688482306000},{"_id":"themes/archer/layout/_partial/critical-css/critical-style.ejs","hash":"e67a7a2f6bcbfd97e95577446872e217e0c48e80","modified":1688482306000},{"_id":"themes/archer/layout/_partial/comment/youyan.ejs","hash":"2f4ef49a74a8d63310af60ecda6d765b8c386ff4","modified":1688482306000},{"_id":"themes/archer/layout/_partial/comment/waline.ejs","hash":"c2208d6f05490bbf1b35cdf1519a39933212c33e","modified":1688482306000},{"_id":"themes/archer/layout/_partial/math/mathjax.ejs","hash":"84c40a07765e95213045e9b9f7a8c9aaa9c69161","modified":1688482306000},{"_id":"themes/archer/layout/_partial/sidebar/base-sidebar.ejs","hash":"bdf08beebbe454da9d4c55b35efd317d5f222be5","modified":1688482306000},{"_id":"themes/archer/layout/_partial/sidebar/sidebar-categories.ejs","hash":"02f407d9f9968d228a6a47f2a283b8cf41836a1a","modified":1688482306000},{"_id":"themes/archer/layout/_partial/sidebar/sidebar-tags.ejs","hash":"469455994771da166ddecb4839efa9ef28f2775d","modified":1688482306000},{"_id":"themes/archer/layout/_partial/script/font-loader.ejs","hash":"0473335774025d185dcbaf641496b25a8f33f7af","modified":1688482306000},{"_id":"themes/archer/src/scss/_dark/_common-dark.scss","hash":"fc03470312c57a39bc131a1e86cdd3ea2ddb164a","modified":1688482306000},{"_id":"themes/archer/src/scss/_partial/_404.scss","hash":"9e5cb20871e5bf1af4cf50694a73bd7c9fe64685","modified":1688482306000},{"_id":"themes/archer/src/scss/_partial/_algolia.scss","hash":"fd7716d8559a9f58f7caef576c553ca7ba1a85e1","modified":1688482306000},{"_id":"themes/archer/src/scss/_partial/_index-page.scss","hash":"91dc2a0c1ca8d25b1f27d91fa1c81ceb5ff8c3bc","modified":1688482306000},{"_id":"themes/archer/src/scss/_dark/_partial/_algolia-dark.scss","hash":"e9ea52ca5410c6a6eb53d2a6de1419d3db97d8ca","modified":1688482306000},{"_id":"themes/archer/src/scss/_partial/_post-page.scss","hash":"7583c8c2004e333c5b94e4b868ac778357e0d21e","modified":1688482306000},{"_id":"themes/archer/src/scss/_dark/_partial/_index-page-dark.scss","hash":"4c1406e82b2d4503e027443f64f0984fe0942e1d","modified":1688482306000},{"_id":"themes/archer/src/scss/_dark/_partial/_post-page-dark.scss","hash":"d61059785c72c626990f5b473dc3570cb52c0d73","modified":1688482306000},{"_id":"themes/archer/src/scss/_mobile/_partial/_index-page-mobile.scss","hash":"2d166bb6f234b8773a9ea12457b10e94902a32f1","modified":1688482306000},{"_id":"themes/archer/layout/_partial/sidebar/sidebar-archives.ejs","hash":"6360da867c23b8daa5e34e62c5c5552e2974e360","modified":1688482306000},{"_id":"themes/archer/src/scss/_partial/_comment/_gitalk.scss","hash":"341bb251987f30221936e36b44374b2b5ce0d218","modified":1688482306000},{"_id":"themes/archer/src/scss/_partial/_partial/_footer.scss","hash":"4aafefa6834c8a8583c1cdace620a31306676a57","modified":1688482306000},{"_id":"themes/archer/src/scss/_partial/_partial/_header.scss","hash":"ce683553806293fea0466f363b18de0ee341dd4e","modified":1688482306000},{"_id":"themes/archer/src/scss/_partial/_partial/_footer-fixed.scss","hash":"1eb918f6c16054ef2b53b9eea60c751ad89bbd55","modified":1688482306000},{"_id":"themes/archer/src/scss/_partial/_partial/_intro.scss","hash":"4567b9081f063e5fb388b0671f3bc322bdc9acfa","modified":1688482306000},{"_id":"themes/archer/src/scss/_partial/_partial/_profile.scss","hash":"4771add895f8a47917ae2d0d34b92cb327329bf1","modified":1688482306000},{"_id":"themes/archer/src/scss/_partial/_partial/_paginator.scss","hash":"67c2e697a5fbb3b8006cf358ea45eb7f75b496f8","modified":1688482306000},{"_id":"themes/archer/src/scss/_partial/_partial/_scrollbar.scss","hash":"424c08f4acc3f643567f138ffea7d8337791d2c4","modified":1688482306000},{"_id":"themes/archer/src/scss/_partial/_post/_code.scss","hash":"504f9fdb723c7b287d958211189d25919ac592f6","modified":1688482306000},{"_id":"themes/archer/src/scss/_partial/_post/_writing-enhance.scss","hash":"4cb495c64d144b2bcf225f2b87641017bd652e66","modified":1688482306000},{"_id":"themes/archer/src/scss/_partial/_sidebar/_sidebar-archive.scss","hash":"a7374f46ca31bf8ebf5bafea909100921d0c52a4","modified":1688482306000},{"_id":"themes/archer/src/scss/_partial/_sidebar/_sidebar-tags.scss","hash":"93cc82cb56663e83e90fbd6fe31ffdd38e694f3b","modified":1688482306000},{"_id":"themes/archer/src/scss/_partial/_sidebar/_sidebar.scss","hash":"b2870a9cdaea9b9c8426d406d6859a8f3f1a995f","modified":1688482306000},{"_id":"themes/archer/src/scss/_dark/_partial/_comment/_gitalk-dark.scss","hash":"57accaee4bb5b502d5d3e94c7981ac6996804cf0","modified":1688482306000},{"_id":"themes/archer/src/scss/_dark/_partial/_partial/_footer-fixed-dark.scss","hash":"f4e3eb7aa19c1061b5d9df4f6a7745902e5843f2","modified":1688482306000},{"_id":"themes/archer/src/scss/_dark/_partial/_partial/_footer-dark.scss","hash":"d074a8fef75ba626dd3448cc42290a8c722fd182","modified":1688482306000},{"_id":"themes/archer/src/scss/_dark/_partial/_partial/_profile-dark.scss","hash":"c0fe68f6e9c196157adc71fea0d97f6f70f0a31b","modified":1688482306000},{"_id":"themes/archer/src/scss/_dark/_partial/_partial/_header-dark.scss","hash":"ed815d959a37cccdf9137ace91c68bea8ca922c2","modified":1688482306000},{"_id":"themes/archer/src/scss/_dark/_partial/_post/_code-dark.scss","hash":"9ded8203699f816558fd1493a3ce7cf3d38818e9","modified":1688482306000},{"_id":"themes/archer/src/scss/_dark/_partial/_sidebar/_sidebar-archive-dark.scss","hash":"79b7548214339807ff713f0c7454a227d24d6d0d","modified":1688482306000},{"_id":"themes/archer/src/scss/_dark/_partial/_sidebar/_sidebar-dark.scss","hash":"8e77738f83a425eebb00513ee98e487fe71fdc22","modified":1688482306000},{"_id":"themes/archer/src/scss/_dark/_partial/_sidebar/_sidebar-tags-dark.scss","hash":"6621db2ff1182e3cd14286af4b8f3d8c5bd14e2a","modified":1688482306000},{"_id":"themes/archer/src/scss/_mobile/_partial/_sidebar/_sidebar-tags-mobile.scss","hash":"b5c62234defe693b4cfa65bda188d71c937eeaf9","modified":1688482306000},{"_id":"themes/archer/source/assets/favicon.ico","hash":"c136618e070daf370da961ac730973293a088b9e","modified":1710382119333},{"_id":"themes/archer/source/font/Oswald-Regular.ttf","hash":"965d729546a43a8490ad4cf33c25ac475682100c","modified":1688482306000},{"_id":"themes/archer/source/css/style.css.map","hash":"dbe8f8c1fccf8bd9d28ecf3874036a2281319aa0","modified":1688482306000},{"_id":"themes/archer/source/font/SourceCodePro-Regular.ttf.woff","hash":"12eef75e1ad3eca9dae42b65505010ce4464a315","modified":1688482306000},{"_id":"themes/archer/src/scss/_mobile/_partial/_post/_writing-enhance-mobile.scss","hash":"9e714c1cdc61a4ebd5510667e87e879d0b14de67","modified":1688482306000},{"_id":"themes/archer/source/lib/jquery.min.js","hash":"ad886e472b3557f3dc7dfa2bc43468ab8d1cef5b","modified":1688482306000},{"_id":"themes/archer/source/intro/404-bg.jpg","hash":"3afb5bb26f4ff0bd0e0a28df955c8aa7d746d3c5","modified":1688482306000},{"_id":"themes/archer/source/font/SourceCodePro-Regular.ttf.woff2","hash":"f5991289ec17884cb641da0646d278d36702a190","modified":1688482306000},{"_id":"themes/archer/source/intro/post-bg.jpg","hash":"525fafb2238c27754d8fa751f143ff1de9b8482d","modified":1688482306000},{"_id":"themes/archer/source/intro/about-bg.jpg","hash":"ab388276822417cc4e703312c14e20280ec783b3","modified":1688482306000},{"_id":"themes/archer/source/scripts/search.js","hash":"ac8e9d130ea410832a421d661898abee63bd8e67","modified":1688482306000},{"_id":"themes/archer/source/intro/index-bg.jpg","hash":"96b52e177b8bc53e64ec6ee1e10b2b6a4e13083b","modified":1688482306000},{"_id":"themes/archer/source/scripts/share.js.map","hash":"1e018aa465800a066480e33c848f380880af6743","modified":1688482306000},{"_id":"themes/archer/package-lock.json","hash":"400ab1cc2a2f1380a5e9ab69abe3a5b93f923d8d","modified":1688482306000},{"_id":"themes/archer/source/scripts/main.js","hash":"11fd75dddcbef7157fbfb8717b3463a80fda1fb3","modified":1688482306000},{"_id":"themes/archer/source/scripts/main.js.map","hash":"79d928070b7e5333ca241c5563ab4fe9cab31b74","modified":1688482306000},{"_id":"source/images/hello-bg.png","hash":"f70f2a6805ceb4ab1175e391c03923b7264bc431","modified":1705386424945},{"_id":"themes/archer/source/scripts/search.js.map","hash":"bd469588b3bee82b3cf72b72d447c854f4d76875","modified":1688482306000},{"_id":"themes/archer/docs/snap.png","hash":"0b2a8bf016f6eed576abfdcdb7dcf8de51c12562","modified":1688482306000},{"_id":"public/index.html","hash":"f025dd61ff56e7eebc3475a3c9d7f434c3909600","modified":1713255953227},{"_id":"public/2024/03/13/hello-world/index.html","hash":"4bf0b296c696bab720be5dcec3e6b959ce39cb6d","modified":1713255953227},{"_id":"public/archives/index.html","hash":"11ad5b8b9080e766721066453dbc969fce5154e3","modified":1713255953227},{"_id":"public/archives/2024/index.html","hash":"61a561d1066a58c3b3640c451d4e830ce36bb500","modified":1713255953227},{"_id":"public/archives/2024/03/index.html","hash":"d36a33e3caa67d60e085245ce530e16fd1525c2f","modified":1713255953227},{"_id":"public/assets/algolia_logo.svg","hash":"90035272fa31a3f65b3c0e2cb8a633876ef457dc","modified":1713255953227},{"_id":"public/assets/example_qr.png","hash":"cce20432c34875f4d9c6df927ede0fc0f00bb194","modified":1713255953227},{"_id":"public/assets/loading.svg","hash":"45be17d07697d604d8981890eb21e308530c7a38","modified":1713255953227},{"_id":"public/assets/favicon_bak.ico","hash":"8b200c575d273d41a179c102442e191414e74eae","modified":1713255953227},{"_id":"public/assets/beian.png","hash":"a99df13e8eb11db86edebf6e5ac246eb59f4b3c4","modified":1713255953227},{"_id":"public/assets/wechat_qr.jpg","hash":"20763d666624facc585e34645018deadb343b4b5","modified":1713255953227},{"_id":"public/avatar/Misaka.jpg","hash":"74a0372523f98dfbba992bf80642e160d04dc9b1","modified":1713255953227},{"_id":"public/css/dark.css.map","hash":"f49556935deae49df3158c2eb2265464129ef978","modified":1713255953227},{"_id":"public/css/mobile.css.map","hash":"c9f9dade45b119ae2eb7a93be0160baef4d494f8","modified":1713255953227},{"_id":"public/font/Source Sans Pro.woff","hash":"a6722c9b6439b7a020a9be3d3178970757a9265c","modified":1713255953227},{"_id":"public/font/Source Sans Pro.woff2","hash":"da65f527a8da65d5eb6721626d28cfdb46ab104a","modified":1713255953227},{"_id":"public/scripts/customFontLoader.js.map","hash":"702a44b0b1b450263592bfb1199c8d36ea9834a2","modified":1713255953227},{"_id":"public/scripts/dark.js.map","hash":"feb9e1905c4b313b839c1c3b69ad61c05f265a9a","modified":1713255953227},{"_id":"public/scripts/main.js.LICENSE.txt","hash":"959bfc660011bc6a0800fe9e7974080f64c062aa","modified":1713255953227},{"_id":"public/scripts/search.js.LICENSE.txt","hash":"2c9b607ded909550f2ed2d0f2e7271781d9f78d9","modified":1713255953227},{"_id":"public/avatar/Jason.jpg","hash":"0eae332ea91f9e04b54f35d2ed1b17b5b37aee64","modified":1713255953227},{"_id":"public/assets/favicon.ico","hash":"c136618e070daf370da961ac730973293a088b9e","modified":1713255953227},{"_id":"public/css/style.css.map","hash":"dbe8f8c1fccf8bd9d28ecf3874036a2281319aa0","modified":1713255953227},{"_id":"public/font/Oswald-Regular.ttf","hash":"965d729546a43a8490ad4cf33c25ac475682100c","modified":1713255953227},{"_id":"public/font/SourceCodePro-Regular.ttf.woff","hash":"12eef75e1ad3eca9dae42b65505010ce4464a315","modified":1713255953227},{"_id":"public/intro/404-bg.jpg","hash":"3afb5bb26f4ff0bd0e0a28df955c8aa7d746d3c5","modified":1713255953227},{"_id":"public/font/SourceCodePro-Regular.ttf.woff2","hash":"f5991289ec17884cb641da0646d278d36702a190","modified":1713255953227},{"_id":"public/css/dark.css","hash":"4db211216f16a5e66d4d499158f4005a1bbb39f5","modified":1713255953227},{"_id":"public/css/mobile.css","hash":"acb0dfcce26ec93f59c6ec4936006abbe8daefee","modified":1713255953227},{"_id":"public/lib/webfontloader.min.js","hash":"4c69aeb4e4f355912503d1c460e8e7aa6ea6963e","modified":1713255953227},{"_id":"public/scripts/customFontLoader.js","hash":"7c2f03fbd2b8340b77b1b02778a34e5ac10b560c","modified":1713255953227},{"_id":"public/scripts/dark.js","hash":"28ba818b2ab8a9454a52fe2710b5a8a81a195e4d","modified":1713255953227},{"_id":"public/intro/post-bg.jpg","hash":"525fafb2238c27754d8fa751f143ff1de9b8482d","modified":1713255953227},{"_id":"public/scripts/share.js.map","hash":"1e018aa465800a066480e33c848f380880af6743","modified":1713255953227},{"_id":"public/scripts/share.js","hash":"2210dd8dacea4f1ca11c0047dfafd0a170abd953","modified":1713255953227},{"_id":"public/css/style.css","hash":"f08b1ec3a5fe1bf936401a238d55e0487296b42c","modified":1713255953227},{"_id":"public/intro/index-bg.jpg","hash":"96b52e177b8bc53e64ec6ee1e10b2b6a4e13083b","modified":1713255953227},{"_id":"public/intro/about-bg.jpg","hash":"ab388276822417cc4e703312c14e20280ec783b3","modified":1713255953227},{"_id":"public/lib/jquery.min.js","hash":"ad886e472b3557f3dc7dfa2bc43468ab8d1cef5b","modified":1713255953227},{"_id":"public/images/hello-bg.png","hash":"f70f2a6805ceb4ab1175e391c03923b7264bc431","modified":1713255953227},{"_id":"public/scripts/search.js.map","hash":"bd469588b3bee82b3cf72b72d447c854f4d76875","modified":1713255953227},{"_id":"public/scripts/search.js","hash":"ac8e9d130ea410832a421d661898abee63bd8e67","modified":1713255953227},{"_id":"public/scripts/main.js.map","hash":"79d928070b7e5333ca241c5563ab4fe9cab31b74","modified":1713255953227},{"_id":"public/scripts/main.js","hash":"11fd75dddcbef7157fbfb8717b3463a80fda1fb3","modified":1713255953227},{"_id":"source/_posts/http.md","hash":"e538858062edce06c26c8060d05f61b3e6fe772b","modified":1714100804259},{"_id":"source/images/http-request.png","hash":"eed1c7354200ef63062c4290552839cea43c5c07","modified":1710907639923},{"_id":"source/images/http/http-request.png","hash":"4d29675c37a4cc0df885db03cff820aa3f98080c","modified":1710926387387},{"_id":"source/images/http/request-methods.png","hash":"5914a2642fc3c771aaddbb5a4db79d020c75ba27","modified":1710917201189},{"_id":"source/images/http/handshake-1.png","hash":"698f25b0696249dbbadbf1b71ea5e3e48b57348e","modified":1711100170452},{"_id":"source/images/http/curl-header.png","hash":"e5c4a20f54045759a1a29f7f35a344d45ee51ecb","modified":1711013282028},{"_id":"source/images/http/TCP-connection-1.png","hash":"588cade2c5e791bee0f282a6290889ba15c3a039","modified":1711091658444},{"_id":"source/images/http/perisitent-connection.png","hash":"0e16961aaa4851908823dccfa904d3f4f6989c08","modified":1711092222874},{"_id":"source/_posts/organization-internal-loss.md","hash":"b157730ebdda6cfd58233ff8ec9d9bfed27d37b1","modified":1714100795957},{"_id":"source/images/http/http-keep-alive-header.png","hash":"d2b1f6ccc2903ffbd4308627c2562b42c80a2cb7","modified":1711435826469},{"_id":"source/images/http/handshake-2.png","hash":"f50dd3fab7ff21a20cd91622aefb077b7ec74b89","modified":1711353457535},{"_id":"source/images/http/timeout-auto-disconnect.png","hash":"87f74686dc596abb5be91260a40dcf38ed3d0d17","modified":1711433208748},{"_id":"source/images/http/auto-disconnect.png","hash":"6eb07b19f5350b86e32c41503abdef786d1cc8a3","modified":1711368567428},{"_id":"source/images/internal-loss/depressed.jpg","hash":"8ff19e979ef211030d79fc29eca3bef0ed42f9e9","modified":1711678444570},{"_id":"source/images/http/auto-disconnect2.png","hash":"d96b55fe2a3d138263e29ec9ba3a171b78eaf003","modified":1711356920847},{"_id":"source/_posts/garnet.md","hash":"9fa10e3a47f78d4b6f8465f3e49e33da56758f21","modified":1714100842478},{"_id":"source/images/internal-loss/996.jpg","hash":"d712414d1167ea1a5790683d549a3dbf56cc3c8c","modified":1711684344049},{"_id":"source/images/internal-loss/20231109_sy_01.jpg","hash":"f637ac12cf901b7e557077687482f7232bbc2a72","modified":1711685199687},{"_id":"source/_posts/https.md","hash":"00df307cec478b57c6b9ab848f2b3d2ef578098a","modified":1714100800272},{"_id":"source/images/garnet/compatible.png","hash":"1714c1d5f1c6fd0421b4594015595976b5fd4ee4","modified":1712567994543},{"_id":"source/images/garnet/compare1.png","hash":"ed8a21697688433ffe376d2a4ccaa7ec53c667ff","modified":1712648062046},{"_id":"source/images/garnet/client.png","hash":"4889111b6b22a0f07ed3e80b70ee4e1e99c8045e","modified":1712652420303},{"_id":"source/images/https/expire.png","hash":"801009fef98fa9d46a677f153f097e6476c139e2","modified":1712824416637},{"_id":"source/images/garnet/connect.png","hash":"82d4fc4511b032c7c797018845ca40d83ac7aa9d","modified":1712650225409},{"_id":"source/images/garnet/custom-command.png","hash":"bea263307a51c77205885ace2c3060272e444339","modified":1712736760989},{"_id":"source/images/garnet/1.png","hash":"0d8a64004413ec34a334cce4925372781b3c88b0","modified":1712566365601},{"_id":"source/images/garnet/log.png","hash":"0c32a044823dd2b85353c2816c9109c9df0626b4","modified":1712721260633},{"_id":"source/images/garnet/running.png","hash":"3253e7a14adf9509baead2613151f614a0012ab5","modified":1712567881514},{"_id":"source/images/https/bg.jpg","hash":"9424b491fdae5f8c91344596469c3980217e2206","modified":1712821936174},{"_id":"source/images/https/ca.png","hash":"a3f65f3b7f108a2e18c61d13c3024d761586a9ca","modified":1712826407187},{"_id":"source/images/https/encrypted.png","hash":"51f01f7c79cbb8e5ace366b423a46c677483d4f3","modified":1712827358003},{"_id":"source/images/https/client-hello.png","hash":"65039f3b5656ce343d9c36842642aedef464f9d1","modified":1712827328350},{"_id":"source/images/https/ca2.png","hash":"e71ae267fc6a9eda8943e4881e2f408b0a84055f","modified":1712827074795},{"_id":"source/images/https/security.png","hash":"e040846f476100e1ac38f67dec1fc9735978fc9f","modified":1713148972216},{"_id":"source/images/https/handshake.png","hash":"9d2b92013eb6b78a0f3b84855a383b29962da2ba","modified":1713152131440},{"_id":"source/images/https/negotiated-cipher-suite.png","hash":"32d7a6f6ad24e6c5755d2ba2626e0ba71520fd50","modified":1713149675775},{"_id":"source/images/https/cipher-suites.png","hash":"e9faeff8e36d3efd82a5a0800c85a8e23d6ebf56","modified":1713149632927},{"_id":"public/2024/04/11/https/index.html","hash":"2362c2a6c75b4e53e8b103cbd0b2835a053c196d","modified":1713255953227},{"_id":"public/2024/04/07/garnet/index.html","hash":"7cff3ee5ac31859ab0e80195973947cb53b47b7f","modified":1713255953227},{"_id":"public/2024/03/28/organization-internal-loss/index.html","hash":"0f5834ba9bf426bc3eaa541aad3e766ab0999293","modified":1713255953227},{"_id":"public/2024/03/19/http/index.html","hash":"a4dbd8c74d50450f71d405b53817e86e364bd775","modified":1713255953227},{"_id":"public/archives/2024/04/index.html","hash":"568ad7f062ee32b31612d64d952b5b0bb9d75d5e","modified":1713255953227},{"_id":"public/tags/http-httpÂçèËÆÆ-Connection/index.html","hash":"d3497d1a24185c46cbedbaf85f299faa6b8a3bbc","modified":1713255953227},{"_id":"public/tags/ÁªÑÁªá-ÂÜÖËÄó/index.html","hash":"d61eae406afac4c434fce25687e14d64f23503d2","modified":1713255953227},{"_id":"public/tags/Garnet-ÁºìÂ≠ò-ÂæÆËΩØ/index.html","hash":"c4ced32b5309e68eb92157930783b0c1be407091","modified":1713255953227},{"_id":"public/tags/https-http-ssl-tls/index.html","hash":"919e587f1e97e883ec79744b4e764b6dd551bd7f","modified":1713255953227},{"_id":"public/images/http/http-request.png","hash":"4d29675c37a4cc0df885db03cff820aa3f98080c","modified":1713255953227},{"_id":"public/images/http/TCP-connection-1.png","hash":"588cade2c5e791bee0f282a6290889ba15c3a039","modified":1713255953227},{"_id":"public/images/http/handshake-1.png","hash":"698f25b0696249dbbadbf1b71ea5e3e48b57348e","modified":1713255953227},{"_id":"public/images/http/curl-header.png","hash":"e5c4a20f54045759a1a29f7f35a344d45ee51ecb","modified":1713255953227},{"_id":"public/images/http/perisitent-connection.png","hash":"0e16961aaa4851908823dccfa904d3f4f6989c08","modified":1713255953227},{"_id":"public/images/internal-loss/depressed.jpg","hash":"8ff19e979ef211030d79fc29eca3bef0ed42f9e9","modified":1713255953227},{"_id":"public/images/http/http-keep-alive-header.png","hash":"d2b1f6ccc2903ffbd4308627c2562b42c80a2cb7","modified":1713255953227},{"_id":"public/images/garnet/client.png","hash":"4889111b6b22a0f07ed3e80b70ee4e1e99c8045e","modified":1713255953227},{"_id":"public/images/garnet/compatible.png","hash":"1714c1d5f1c6fd0421b4594015595976b5fd4ee4","modified":1713255953227},{"_id":"public/images/garnet/compare1.png","hash":"ed8a21697688433ffe376d2a4ccaa7ec53c667ff","modified":1713255953227},{"_id":"public/images/garnet/connect.png","hash":"82d4fc4511b032c7c797018845ca40d83ac7aa9d","modified":1713255953227},{"_id":"public/images/garnet/custom-command.png","hash":"bea263307a51c77205885ace2c3060272e444339","modified":1713255953227},{"_id":"public/images/https/bg.jpg","hash":"9424b491fdae5f8c91344596469c3980217e2206","modified":1713255953227},{"_id":"public/images/https/expire.png","hash":"801009fef98fa9d46a677f153f097e6476c139e2","modified":1713255953227},{"_id":"public/images/garnet/running.png","hash":"3253e7a14adf9509baead2613151f614a0012ab5","modified":1713255953227},{"_id":"public/images/https/ca.png","hash":"a3f65f3b7f108a2e18c61d13c3024d761586a9ca","modified":1713255953227},{"_id":"public/images/https/security.png","hash":"e040846f476100e1ac38f67dec1fc9735978fc9f","modified":1713255953227},{"_id":"public/images/https/handshake.png","hash":"9d2b92013eb6b78a0f3b84855a383b29962da2ba","modified":1713255953227},{"_id":"public/images/http/auto-disconnect.png","hash":"6eb07b19f5350b86e32c41503abdef786d1cc8a3","modified":1713255953227},{"_id":"public/images/http/timeout-auto-disconnect.png","hash":"87f74686dc596abb5be91260a40dcf38ed3d0d17","modified":1713255953227},{"_id":"public/images/internal-loss/20231109_sy_01.jpg","hash":"f637ac12cf901b7e557077687482f7232bbc2a72","modified":1713255953227},{"_id":"public/images/http/handshake-2.png","hash":"f50dd3fab7ff21a20cd91622aefb077b7ec74b89","modified":1713255953227},{"_id":"public/images/garnet/log.png","hash":"0c32a044823dd2b85353c2816c9109c9df0626b4","modified":1713255953227},{"_id":"public/images/garnet/1.png","hash":"0d8a64004413ec34a334cce4925372781b3c88b0","modified":1713255953227},{"_id":"public/images/internal-loss/996.jpg","hash":"d712414d1167ea1a5790683d549a3dbf56cc3c8c","modified":1713255953227},{"_id":"public/images/http/auto-disconnect2.png","hash":"d96b55fe2a3d138263e29ec9ba3a171b78eaf003","modified":1713255953227},{"_id":"public/images/https/encrypted.png","hash":"51f01f7c79cbb8e5ace366b423a46c677483d4f3","modified":1713255953227},{"_id":"public/images/https/negotiated-cipher-suite.png","hash":"32d7a6f6ad24e6c5755d2ba2626e0ba71520fd50","modified":1713255953227},{"_id":"public/images/https/cipher-suites.png","hash":"e9faeff8e36d3efd82a5a0800c85a8e23d6ebf56","modified":1713255953227},{"_id":"public/images/http/request-methods.png","hash":"5914a2642fc3c771aaddbb5a4db79d020c75ba27","modified":1713255953227},{"_id":"public/images/https/client-hello.png","hash":"65039f3b5656ce343d9c36842642aedef464f9d1","modified":1713255953227},{"_id":"public/images/https/ca2.png","hash":"e71ae267fc6a9eda8943e4881e2f408b0a84055f","modified":1713255953227},{"_id":"source/_posts/redis-interview.md","hash":"f83cab69b0f20b5d7300c5e68729006e9be6d913","modified":1713425000574},{"_id":"source/images/redis-interview/recruitment.png","hash":"9da7eff910bfb50b7f11618614003b6153e71d98","modified":1713425715760},{"_id":"source/_posts/redis-interview-1.md","hash":"951b57d41f67b3f9287684d1808c63e0ab08023d","modified":1714102286087},{"_id":"source/_posts/dump.md","hash":"fc0d11e98d4a2c35e8f590fc901c33ec87cf1654","modified":1715157478693},{"_id":"source/images/dump/crash.jpeg","hash":"e25f4327f9073e01e8b1a3e13c209ca732880e15","modified":1714290837084},{"_id":"source/images/redis-interview/memory.png","hash":"37fadd91ec8573c6c30ec5fd32562f2c3d22d5a9","modified":1714031983730},{"_id":"source/images/dump/bg.png","hash":"32c7ad31ef1117233e7691e74198041f62870e63","modified":1714290251488},{"_id":"source/images/redis-interview/cache-avalanche.png","hash":"8bcdb1787aa12c08febeb8c2324cf7fa9c6d3c02","modified":1714100497420},{"_id":"source/images/redis-interview/bg.png","hash":"e5be0650aa2343b4a62218b58ebae10c4f4b9ba6","modified":1714101428369},{"_id":"source/images/redis-interview/cache-breakdown.png","hash":"de31f8ba0958f9428c1148746206f8351fa1bf18","modified":1714100525728},{"_id":"source/images/redis-interview/cache-penetration.png","hash":"17f21e18052f40f20189a31c4bfbf749a1dedcbc","modified":1714100540904},{"_id":"source/images/dump/windbg_3.png","hash":"47fa0c7ac253a9a44eef9bc6d5dce90d96445ba2","modified":1715068901454},{"_id":"source/images/dump/windbg_2.png","hash":"e55722d89679167f37e0b851a53e27ae989663f8","modified":1714439116512},{"_id":"source/images/dump/windbg_4.png","hash":"5618b95c756aab451803e23e9c0f77b5fa94e6b4","modified":1715069009388},{"_id":"source/images/dump/windbg_1.png","hash":"fec01b96435a46269b0a241c8feb13764458b0e9","modified":1714438955774},{"_id":"source/_posts/dead-message.md","hash":"e0a8e83a589cd97cb599fd243d348f4b1896eb71","modified":1716628987803},{"_id":"source/images/dead-message/bg.jpg","hash":"e0de32bdd097eeb58f534882e876a282606db679","modified":1716366165441},{"_id":"source/images/dead-message/dead-letter-exchange-1.png","hash":"7b141675f4bd37c8d65a63b5d22612430b945720","modified":1716621402662},{"_id":"source/images/dead-message/dead-letter-2.jpg","hash":"424a4237b4485e845ed3e9e6e74ee1f34485d196","modified":1716542966790},{"_id":"source/_posts/TaskCompletionSource.md","hash":"a2bcfbda71ac8d8406e1bd14fa333169457384e5","modified":1717658556858},{"_id":"source/images/dead-message/delay_comsuption_2.png","hash":"f9b57ebe4ba7cefabad08a139f92e619fd1aae8f","modified":1716627676317},{"_id":"source/images/dead-message/dead-letter-3.png","hash":"d8017b10c2efd5448993b92f0a35783e4d0b71f7","modified":1716626485267},{"_id":"source/images/dead-message/delay_comsuption_1.png","hash":"c093bbb3f975f40087d037aa56b8fd32ed866332","modified":1716627815685},{"_id":"source/_posts/similar-image-search.md","hash":"a91310abbb89d6e291d0a697c2a966b177c92ed6","modified":1717765757632},{"_id":"source/images/task-completion-source/pause-2.png","hash":"f681d83790b004e1703e18560c2f7d2db0cd6d01","modified":1717658059375},{"_id":"source/images/task-completion-source/pause-1.png","hash":"14d301e1283ad280dd8ea0525be0e5c38531ef74","modified":1717658041988},{"_id":"source/images/image-search/search.gif","hash":"eb44e6dcab6b4292eb95ef63cbf64035ed01c878","modified":1717770772367},{"_id":"source/images/image-search/images.png","hash":"b2a77e00a2290543613f0df77f8c30337c91f441","modified":1717681798910}],"Category":[],"Data":[],"Page":[],"Post":[{"title":"Ê¨¢ËøéÊù•Âà∞ ITProHubÔºÅ","_content":"![background](/images/hello-bg.png)\n# üåê Ê¨¢ËøéÊù•Âà∞ ITProHubÔºÅ\n\n## üöÄ ‰Ω†ÁöÑ‰ø°ÊÅØÊäÄÊúØ‰∏ì‰∏ö‰∏≠ÂøÉ üöÄ\n\nÂú® ITProHubÔºåÊàë‰ª¨Ëá¥Âäõ‰∫éÊàê‰∏∫‰ø°ÊÅØÊäÄÊúØÈ¢ÜÂüüÁöÑ‰∏≠ÂøÉÊû¢Á∫ΩÔºå‰∏∫‰∏ì‰∏ö‰∫∫Â£´„ÄÅÂ≠¶‰π†ËÄÖÂíåÊäÄÊúØÁà±Â•ΩËÄÖÊèê‰æõ‰∏∞ÂØåÁöÑËµÑÊ∫ê„ÄÅÊäÄËÉΩÂüπËÆ≠ÂíåÁ§æÂå∫‰∫§ÊµÅÂπ≥Âè∞„ÄÇ\n\n### üîç ITPro: ‰∏ì‰∏öÁöÑ‰ø°ÊÅØÊäÄÊúØÊîØÊåÅ\n\nÊó†ËÆ∫‰Ω†ÊòØÊ≠£Âú®ÂØªÊâæITËÅå‰∏öÂèëÂ±ïÁöÑÈÅìË∑ØÔºåËøòÊòØÊÉ≥ÊèêÂçá‰Ω†ÁöÑ‰∏ì‰∏öÊäÄËÉΩÔºåITProHubÈÉΩ‰∏∫‰Ω†Êèê‰æõ‰∫ÜÂÖ®Èù¢ÁöÑËµÑÊ∫êÂíåÊåáÂØº„ÄÇÊàë‰ª¨ÂÖ≥Ê≥®Ë°å‰∏öË∂ãÂäøÔºåÂàÜ‰∫´ÊúÄÊñ∞ÁöÑÊäÄÊúØÁü•ËØÜÔºåÂä©‰Ω†Êàê‰∏∫Êõ¥‰∏ì‰∏öÁöÑIT‰ªé‰∏öËÄÖ„ÄÇ\n\n### üíº Hub: ‰∏≠ÂøÉÂåñÁöÑËµÑÊ∫êÂíåÁ§æÂå∫\n\nITProHubÊòØ‰∏Ä‰∏™Ê±áËÅöÂêÑÁßçITËµÑÊ∫êÁöÑ‰∏≠ÂøÉÔºåÂåÖÊã¨ËÅå‰∏öÊåáÂØº„ÄÅÊäÄÊúØÊñáÁ´†„ÄÅÂüπËÆ≠ËØæÁ®ãÁ≠â„ÄÇÂú®Êàë‰ª¨ÁöÑÁ§æÂå∫‰∏≠Ôºå‰Ω†ÂèØ‰ª•‰∏éÂÖ∂‰ªñIT‰∏ì‰∏ö‰∫∫Â£´Âª∫Á´ãËÅîÁ≥ªÔºåÂàÜ‰∫´ÁªèÈ™åÔºåÂÖ±ÂêåÊàêÈïø„ÄÇ\n\n#### ‚ú® Êàë‰ª¨ÁöÑÁâπËâ≤ÊúçÂä°ÂíåÂÜÖÂÆπÂåÖÊã¨Ôºö\n\nüéì ‰∏ì‰∏öÁöÑITÊäÄËÉΩÂüπËÆ≠ËØæÁ®ã\n\nüì∞ Ë°å‰∏öË∂ãÂäøÂíåÊäÄÊúØÊñáÁ´†ÂàÜ‰∫´\n\nüöÄ ËÅå‰∏öÂèëÂ±ïÊåáÂØºÂíåÊãõËÅò‰ø°ÊÅØ\n\nüí¨ ‰∏é‰∏ì‰∏ö‰∫∫Â£´‰∫íÂä®ÁöÑÁ§æ‰∫§Âπ≥Âè∞\n\nüë• Âä†ÂÖ•Êàë‰ª¨ÁöÑÁ§æÂå∫Ôºå‰Ω†Â∞ÜËé∑ÂæóÔºö\n\n‰∏éÂêåË°å‰∏ì‰∏ö‰∫∫Â£´ÁöÑ‰∫íÂä®Âíå‰∫§ÊµÅÊú∫‰ºö\n\nËé∑ÂèñÂÆûÁî®ÁöÑËÅå‰∏öÂèëÂ±ïÂª∫ËÆÆÂíåÊäÄÊúØÊîØÊåÅ\n\nÂèÇ‰∏é‰∏∞ÂØåÂ§öÂΩ©ÁöÑÁ∫ø‰∏äÂíåÁ∫ø‰∏ãÊ¥ªÂä®\n\nÊó†ËÆ∫‰Ω†ÊòØÂàöÂàöË∏èÂÖ•ITÈ¢ÜÂüüÔºåËøòÊòØÂØªÊ±ÇÊõ¥È´òÁ∫ßÂà´ÁöÑÊäÄÊúØÊåëÊàòÔºåITProHubÈÉΩÊòØ‰Ω†‰ø°ÊÅØÊäÄÊúØ‰πãÊóÖÁöÑÁêÜÊÉ≥‰º¥‰æ£„ÄÇ\n\n\n## üåê Êé¢Á¥¢Êó†ÈôêÂèØËÉΩÔºåÂä†ÂÖ• ITProHub ÔºÅüåê\n\nÂÖ¨‰ºóÂè∑Â∞Ü‰∏çÂÆöÊúüÊõ¥Êñ∞ÔºåÊ¨¢ËøéËÆ¢ÈòÖÔºÅ\n\n#ITProHub #‰ø°ÊÅØÊäÄÊúØ #‰∏ì‰∏öÂèëÂ±ï #Á§æÂå∫‰∫§ÊµÅ\n\n\n\nÊõ¥Â§ö‰∏ÄÊâãËÆØÊÅØÔºåÂèØÂÖ≥Ê≥®ÂÖ¨‰ºóÂè∑Ôºö[ITProHub](https://myom-dev.oss-cn-hangzhou.aliyuncs.com/WechatPublicPlatformQrCode.jpg)\n\n![ITProHub](https://myom-dev.oss-cn-hangzhou.aliyuncs.com/WechatPublicPlatformQrCode.jpg)","source":"_posts/hello-world.md","raw":"---\ntitle: Ê¨¢ËøéÊù•Âà∞ ITProHubÔºÅ\n---\n![background](/images/hello-bg.png)\n# üåê Ê¨¢ËøéÊù•Âà∞ ITProHubÔºÅ\n\n## üöÄ ‰Ω†ÁöÑ‰ø°ÊÅØÊäÄÊúØ‰∏ì‰∏ö‰∏≠ÂøÉ üöÄ\n\nÂú® ITProHubÔºåÊàë‰ª¨Ëá¥Âäõ‰∫éÊàê‰∏∫‰ø°ÊÅØÊäÄÊúØÈ¢ÜÂüüÁöÑ‰∏≠ÂøÉÊû¢Á∫ΩÔºå‰∏∫‰∏ì‰∏ö‰∫∫Â£´„ÄÅÂ≠¶‰π†ËÄÖÂíåÊäÄÊúØÁà±Â•ΩËÄÖÊèê‰æõ‰∏∞ÂØåÁöÑËµÑÊ∫ê„ÄÅÊäÄËÉΩÂüπËÆ≠ÂíåÁ§æÂå∫‰∫§ÊµÅÂπ≥Âè∞„ÄÇ\n\n### üîç ITPro: ‰∏ì‰∏öÁöÑ‰ø°ÊÅØÊäÄÊúØÊîØÊåÅ\n\nÊó†ËÆ∫‰Ω†ÊòØÊ≠£Âú®ÂØªÊâæITËÅå‰∏öÂèëÂ±ïÁöÑÈÅìË∑ØÔºåËøòÊòØÊÉ≥ÊèêÂçá‰Ω†ÁöÑ‰∏ì‰∏öÊäÄËÉΩÔºåITProHubÈÉΩ‰∏∫‰Ω†Êèê‰æõ‰∫ÜÂÖ®Èù¢ÁöÑËµÑÊ∫êÂíåÊåáÂØº„ÄÇÊàë‰ª¨ÂÖ≥Ê≥®Ë°å‰∏öË∂ãÂäøÔºåÂàÜ‰∫´ÊúÄÊñ∞ÁöÑÊäÄÊúØÁü•ËØÜÔºåÂä©‰Ω†Êàê‰∏∫Êõ¥‰∏ì‰∏öÁöÑIT‰ªé‰∏öËÄÖ„ÄÇ\n\n### üíº Hub: ‰∏≠ÂøÉÂåñÁöÑËµÑÊ∫êÂíåÁ§æÂå∫\n\nITProHubÊòØ‰∏Ä‰∏™Ê±áËÅöÂêÑÁßçITËµÑÊ∫êÁöÑ‰∏≠ÂøÉÔºåÂåÖÊã¨ËÅå‰∏öÊåáÂØº„ÄÅÊäÄÊúØÊñáÁ´†„ÄÅÂüπËÆ≠ËØæÁ®ãÁ≠â„ÄÇÂú®Êàë‰ª¨ÁöÑÁ§æÂå∫‰∏≠Ôºå‰Ω†ÂèØ‰ª•‰∏éÂÖ∂‰ªñIT‰∏ì‰∏ö‰∫∫Â£´Âª∫Á´ãËÅîÁ≥ªÔºåÂàÜ‰∫´ÁªèÈ™åÔºåÂÖ±ÂêåÊàêÈïø„ÄÇ\n\n#### ‚ú® Êàë‰ª¨ÁöÑÁâπËâ≤ÊúçÂä°ÂíåÂÜÖÂÆπÂåÖÊã¨Ôºö\n\nüéì ‰∏ì‰∏öÁöÑITÊäÄËÉΩÂüπËÆ≠ËØæÁ®ã\n\nüì∞ Ë°å‰∏öË∂ãÂäøÂíåÊäÄÊúØÊñáÁ´†ÂàÜ‰∫´\n\nüöÄ ËÅå‰∏öÂèëÂ±ïÊåáÂØºÂíåÊãõËÅò‰ø°ÊÅØ\n\nüí¨ ‰∏é‰∏ì‰∏ö‰∫∫Â£´‰∫íÂä®ÁöÑÁ§æ‰∫§Âπ≥Âè∞\n\nüë• Âä†ÂÖ•Êàë‰ª¨ÁöÑÁ§æÂå∫Ôºå‰Ω†Â∞ÜËé∑ÂæóÔºö\n\n‰∏éÂêåË°å‰∏ì‰∏ö‰∫∫Â£´ÁöÑ‰∫íÂä®Âíå‰∫§ÊµÅÊú∫‰ºö\n\nËé∑ÂèñÂÆûÁî®ÁöÑËÅå‰∏öÂèëÂ±ïÂª∫ËÆÆÂíåÊäÄÊúØÊîØÊåÅ\n\nÂèÇ‰∏é‰∏∞ÂØåÂ§öÂΩ©ÁöÑÁ∫ø‰∏äÂíåÁ∫ø‰∏ãÊ¥ªÂä®\n\nÊó†ËÆ∫‰Ω†ÊòØÂàöÂàöË∏èÂÖ•ITÈ¢ÜÂüüÔºåËøòÊòØÂØªÊ±ÇÊõ¥È´òÁ∫ßÂà´ÁöÑÊäÄÊúØÊåëÊàòÔºåITProHubÈÉΩÊòØ‰Ω†‰ø°ÊÅØÊäÄÊúØ‰πãÊóÖÁöÑÁêÜÊÉ≥‰º¥‰æ£„ÄÇ\n\n\n## üåê Êé¢Á¥¢Êó†ÈôêÂèØËÉΩÔºåÂä†ÂÖ• ITProHub ÔºÅüåê\n\nÂÖ¨‰ºóÂè∑Â∞Ü‰∏çÂÆöÊúüÊõ¥Êñ∞ÔºåÊ¨¢ËøéËÆ¢ÈòÖÔºÅ\n\n#ITProHub #‰ø°ÊÅØÊäÄÊúØ #‰∏ì‰∏öÂèëÂ±ï #Á§æÂå∫‰∫§ÊµÅ\n\n\n\nÊõ¥Â§ö‰∏ÄÊâãËÆØÊÅØÔºåÂèØÂÖ≥Ê≥®ÂÖ¨‰ºóÂè∑Ôºö[ITProHub](https://myom-dev.oss-cn-hangzhou.aliyuncs.com/WechatPublicPlatformQrCode.jpg)\n\n![ITProHub](https://myom-dev.oss-cn-hangzhou.aliyuncs.com/WechatPublicPlatformQrCode.jpg)","slug":"hello-world","published":1,"date":"2024-03-13T07:54:13.172Z","updated":"2024-04-26T03:07:16.002Z","_id":"cltwq4btx0000f4p1f3yha908","comments":1,"layout":"post","photos":[],"link":"","content":"<p><img src=\"/images/hello-bg.png\" alt=\"background\"></p>\n<h1 id=\"üåê-Ê¨¢ËøéÊù•Âà∞-ITProHubÔºÅ\"><a href=\"#üåê-Ê¨¢ËøéÊù•Âà∞-ITProHubÔºÅ\" class=\"headerlink\" title=\"üåê Ê¨¢ËøéÊù•Âà∞ ITProHubÔºÅ\"></a>üåê Ê¨¢ËøéÊù•Âà∞ ITProHubÔºÅ</h1><h2 id=\"üöÄ-‰Ω†ÁöÑ‰ø°ÊÅØÊäÄÊúØ‰∏ì‰∏ö‰∏≠ÂøÉ-üöÄ\"><a href=\"#üöÄ-‰Ω†ÁöÑ‰ø°ÊÅØÊäÄÊúØ‰∏ì‰∏ö‰∏≠ÂøÉ-üöÄ\" class=\"headerlink\" title=\"üöÄ ‰Ω†ÁöÑ‰ø°ÊÅØÊäÄÊúØ‰∏ì‰∏ö‰∏≠ÂøÉ üöÄ\"></a>üöÄ ‰Ω†ÁöÑ‰ø°ÊÅØÊäÄÊúØ‰∏ì‰∏ö‰∏≠ÂøÉ üöÄ</h2><p>Âú® ITProHubÔºåÊàë‰ª¨Ëá¥Âäõ‰∫éÊàê‰∏∫‰ø°ÊÅØÊäÄÊúØÈ¢ÜÂüüÁöÑ‰∏≠ÂøÉÊû¢Á∫ΩÔºå‰∏∫‰∏ì‰∏ö‰∫∫Â£´„ÄÅÂ≠¶‰π†ËÄÖÂíåÊäÄÊúØÁà±Â•ΩËÄÖÊèê‰æõ‰∏∞ÂØåÁöÑËµÑÊ∫ê„ÄÅÊäÄËÉΩÂüπËÆ≠ÂíåÁ§æÂå∫‰∫§ÊµÅÂπ≥Âè∞„ÄÇ</p>\n<h3 id=\"üîç-ITPro-‰∏ì‰∏öÁöÑ‰ø°ÊÅØÊäÄÊúØÊîØÊåÅ\"><a href=\"#üîç-ITPro-‰∏ì‰∏öÁöÑ‰ø°ÊÅØÊäÄÊúØÊîØÊåÅ\" class=\"headerlink\" title=\"üîç ITPro: ‰∏ì‰∏öÁöÑ‰ø°ÊÅØÊäÄÊúØÊîØÊåÅ\"></a>üîç ITPro: ‰∏ì‰∏öÁöÑ‰ø°ÊÅØÊäÄÊúØÊîØÊåÅ</h3><p>Êó†ËÆ∫‰Ω†ÊòØÊ≠£Âú®ÂØªÊâæITËÅå‰∏öÂèëÂ±ïÁöÑÈÅìË∑ØÔºåËøòÊòØÊÉ≥ÊèêÂçá‰Ω†ÁöÑ‰∏ì‰∏öÊäÄËÉΩÔºåITProHubÈÉΩ‰∏∫‰Ω†Êèê‰æõ‰∫ÜÂÖ®Èù¢ÁöÑËµÑÊ∫êÂíåÊåáÂØº„ÄÇÊàë‰ª¨ÂÖ≥Ê≥®Ë°å‰∏öË∂ãÂäøÔºåÂàÜ‰∫´ÊúÄÊñ∞ÁöÑÊäÄÊúØÁü•ËØÜÔºåÂä©‰Ω†Êàê‰∏∫Êõ¥‰∏ì‰∏öÁöÑIT‰ªé‰∏öËÄÖ„ÄÇ</p>\n<h3 id=\"üíº-Hub-‰∏≠ÂøÉÂåñÁöÑËµÑÊ∫êÂíåÁ§æÂå∫\"><a href=\"#üíº-Hub-‰∏≠ÂøÉÂåñÁöÑËµÑÊ∫êÂíåÁ§æÂå∫\" class=\"headerlink\" title=\"üíº Hub: ‰∏≠ÂøÉÂåñÁöÑËµÑÊ∫êÂíåÁ§æÂå∫\"></a>üíº Hub: ‰∏≠ÂøÉÂåñÁöÑËµÑÊ∫êÂíåÁ§æÂå∫</h3><p>ITProHubÊòØ‰∏Ä‰∏™Ê±áËÅöÂêÑÁßçITËµÑÊ∫êÁöÑ‰∏≠ÂøÉÔºåÂåÖÊã¨ËÅå‰∏öÊåáÂØº„ÄÅÊäÄÊúØÊñáÁ´†„ÄÅÂüπËÆ≠ËØæÁ®ãÁ≠â„ÄÇÂú®Êàë‰ª¨ÁöÑÁ§æÂå∫‰∏≠Ôºå‰Ω†ÂèØ‰ª•‰∏éÂÖ∂‰ªñIT‰∏ì‰∏ö‰∫∫Â£´Âª∫Á´ãËÅîÁ≥ªÔºåÂàÜ‰∫´ÁªèÈ™åÔºåÂÖ±ÂêåÊàêÈïø„ÄÇ</p>\n<h4 id=\"‚ú®-Êàë‰ª¨ÁöÑÁâπËâ≤ÊúçÂä°ÂíåÂÜÖÂÆπÂåÖÊã¨Ôºö\"><a href=\"#‚ú®-Êàë‰ª¨ÁöÑÁâπËâ≤ÊúçÂä°ÂíåÂÜÖÂÆπÂåÖÊã¨Ôºö\" class=\"headerlink\" title=\"‚ú® Êàë‰ª¨ÁöÑÁâπËâ≤ÊúçÂä°ÂíåÂÜÖÂÆπÂåÖÊã¨Ôºö\"></a>‚ú® Êàë‰ª¨ÁöÑÁâπËâ≤ÊúçÂä°ÂíåÂÜÖÂÆπÂåÖÊã¨Ôºö</h4><p>üéì ‰∏ì‰∏öÁöÑITÊäÄËÉΩÂüπËÆ≠ËØæÁ®ã</p>\n<p>üì∞ Ë°å‰∏öË∂ãÂäøÂíåÊäÄÊúØÊñáÁ´†ÂàÜ‰∫´</p>\n<p>üöÄ ËÅå‰∏öÂèëÂ±ïÊåáÂØºÂíåÊãõËÅò‰ø°ÊÅØ</p>\n<p>üí¨ ‰∏é‰∏ì‰∏ö‰∫∫Â£´‰∫íÂä®ÁöÑÁ§æ‰∫§Âπ≥Âè∞</p>\n<p>üë• Âä†ÂÖ•Êàë‰ª¨ÁöÑÁ§æÂå∫Ôºå‰Ω†Â∞ÜËé∑ÂæóÔºö</p>\n<p>‰∏éÂêåË°å‰∏ì‰∏ö‰∫∫Â£´ÁöÑ‰∫íÂä®Âíå‰∫§ÊµÅÊú∫‰ºö</p>\n<p>Ëé∑ÂèñÂÆûÁî®ÁöÑËÅå‰∏öÂèëÂ±ïÂª∫ËÆÆÂíåÊäÄÊúØÊîØÊåÅ</p>\n<p>ÂèÇ‰∏é‰∏∞ÂØåÂ§öÂΩ©ÁöÑÁ∫ø‰∏äÂíåÁ∫ø‰∏ãÊ¥ªÂä®</p>\n<p>Êó†ËÆ∫‰Ω†ÊòØÂàöÂàöË∏èÂÖ•ITÈ¢ÜÂüüÔºåËøòÊòØÂØªÊ±ÇÊõ¥È´òÁ∫ßÂà´ÁöÑÊäÄÊúØÊåëÊàòÔºåITProHubÈÉΩÊòØ‰Ω†‰ø°ÊÅØÊäÄÊúØ‰πãÊóÖÁöÑÁêÜÊÉ≥‰º¥‰æ£„ÄÇ</p>\n<h2 id=\"üåê-Êé¢Á¥¢Êó†ÈôêÂèØËÉΩÔºåÂä†ÂÖ•-ITProHub-ÔºÅüåê\"><a href=\"#üåê-Êé¢Á¥¢Êó†ÈôêÂèØËÉΩÔºåÂä†ÂÖ•-ITProHub-ÔºÅüåê\" class=\"headerlink\" title=\"üåê Êé¢Á¥¢Êó†ÈôêÂèØËÉΩÔºåÂä†ÂÖ• ITProHub ÔºÅüåê\"></a>üåê Êé¢Á¥¢Êó†ÈôêÂèØËÉΩÔºåÂä†ÂÖ• ITProHub ÔºÅüåê</h2><p>ÂÖ¨‰ºóÂè∑Â∞Ü‰∏çÂÆöÊúüÊõ¥Êñ∞ÔºåÊ¨¢ËøéËÆ¢ÈòÖÔºÅ</p>\n<p>#ITProHub #‰ø°ÊÅØÊäÄÊúØ #‰∏ì‰∏öÂèëÂ±ï #Á§æÂå∫‰∫§ÊµÅ</p>\n<p>Êõ¥Â§ö‰∏ÄÊâãËÆØÊÅØÔºåÂèØÂÖ≥Ê≥®ÂÖ¨‰ºóÂè∑Ôºö<a href=\"https://myom-dev.oss-cn-hangzhou.aliyuncs.com/WechatPublicPlatformQrCode.jpg\">ITProHub</a></p>\n<p><img src=\"https://myom-dev.oss-cn-hangzhou.aliyuncs.com/WechatPublicPlatformQrCode.jpg\" alt=\"ITProHub\"></p>\n","site":{"data":{}},"excerpt":"","more":"<p><img src=\"/images/hello-bg.png\" alt=\"background\"></p>\n<h1 id=\"üåê-Ê¨¢ËøéÊù•Âà∞-ITProHubÔºÅ\"><a href=\"#üåê-Ê¨¢ËøéÊù•Âà∞-ITProHubÔºÅ\" class=\"headerlink\" title=\"üåê Ê¨¢ËøéÊù•Âà∞ ITProHubÔºÅ\"></a>üåê Ê¨¢ËøéÊù•Âà∞ ITProHubÔºÅ</h1><h2 id=\"üöÄ-‰Ω†ÁöÑ‰ø°ÊÅØÊäÄÊúØ‰∏ì‰∏ö‰∏≠ÂøÉ-üöÄ\"><a href=\"#üöÄ-‰Ω†ÁöÑ‰ø°ÊÅØÊäÄÊúØ‰∏ì‰∏ö‰∏≠ÂøÉ-üöÄ\" class=\"headerlink\" title=\"üöÄ ‰Ω†ÁöÑ‰ø°ÊÅØÊäÄÊúØ‰∏ì‰∏ö‰∏≠ÂøÉ üöÄ\"></a>üöÄ ‰Ω†ÁöÑ‰ø°ÊÅØÊäÄÊúØ‰∏ì‰∏ö‰∏≠ÂøÉ üöÄ</h2><p>Âú® ITProHubÔºåÊàë‰ª¨Ëá¥Âäõ‰∫éÊàê‰∏∫‰ø°ÊÅØÊäÄÊúØÈ¢ÜÂüüÁöÑ‰∏≠ÂøÉÊû¢Á∫ΩÔºå‰∏∫‰∏ì‰∏ö‰∫∫Â£´„ÄÅÂ≠¶‰π†ËÄÖÂíåÊäÄÊúØÁà±Â•ΩËÄÖÊèê‰æõ‰∏∞ÂØåÁöÑËµÑÊ∫ê„ÄÅÊäÄËÉΩÂüπËÆ≠ÂíåÁ§æÂå∫‰∫§ÊµÅÂπ≥Âè∞„ÄÇ</p>\n<h3 id=\"üîç-ITPro-‰∏ì‰∏öÁöÑ‰ø°ÊÅØÊäÄÊúØÊîØÊåÅ\"><a href=\"#üîç-ITPro-‰∏ì‰∏öÁöÑ‰ø°ÊÅØÊäÄÊúØÊîØÊåÅ\" class=\"headerlink\" title=\"üîç ITPro: ‰∏ì‰∏öÁöÑ‰ø°ÊÅØÊäÄÊúØÊîØÊåÅ\"></a>üîç ITPro: ‰∏ì‰∏öÁöÑ‰ø°ÊÅØÊäÄÊúØÊîØÊåÅ</h3><p>Êó†ËÆ∫‰Ω†ÊòØÊ≠£Âú®ÂØªÊâæITËÅå‰∏öÂèëÂ±ïÁöÑÈÅìË∑ØÔºåËøòÊòØÊÉ≥ÊèêÂçá‰Ω†ÁöÑ‰∏ì‰∏öÊäÄËÉΩÔºåITProHubÈÉΩ‰∏∫‰Ω†Êèê‰æõ‰∫ÜÂÖ®Èù¢ÁöÑËµÑÊ∫êÂíåÊåáÂØº„ÄÇÊàë‰ª¨ÂÖ≥Ê≥®Ë°å‰∏öË∂ãÂäøÔºåÂàÜ‰∫´ÊúÄÊñ∞ÁöÑÊäÄÊúØÁü•ËØÜÔºåÂä©‰Ω†Êàê‰∏∫Êõ¥‰∏ì‰∏öÁöÑIT‰ªé‰∏öËÄÖ„ÄÇ</p>\n<h3 id=\"üíº-Hub-‰∏≠ÂøÉÂåñÁöÑËµÑÊ∫êÂíåÁ§æÂå∫\"><a href=\"#üíº-Hub-‰∏≠ÂøÉÂåñÁöÑËµÑÊ∫êÂíåÁ§æÂå∫\" class=\"headerlink\" title=\"üíº Hub: ‰∏≠ÂøÉÂåñÁöÑËµÑÊ∫êÂíåÁ§æÂå∫\"></a>üíº Hub: ‰∏≠ÂøÉÂåñÁöÑËµÑÊ∫êÂíåÁ§æÂå∫</h3><p>ITProHubÊòØ‰∏Ä‰∏™Ê±áËÅöÂêÑÁßçITËµÑÊ∫êÁöÑ‰∏≠ÂøÉÔºåÂåÖÊã¨ËÅå‰∏öÊåáÂØº„ÄÅÊäÄÊúØÊñáÁ´†„ÄÅÂüπËÆ≠ËØæÁ®ãÁ≠â„ÄÇÂú®Êàë‰ª¨ÁöÑÁ§æÂå∫‰∏≠Ôºå‰Ω†ÂèØ‰ª•‰∏éÂÖ∂‰ªñIT‰∏ì‰∏ö‰∫∫Â£´Âª∫Á´ãËÅîÁ≥ªÔºåÂàÜ‰∫´ÁªèÈ™åÔºåÂÖ±ÂêåÊàêÈïø„ÄÇ</p>\n<h4 id=\"‚ú®-Êàë‰ª¨ÁöÑÁâπËâ≤ÊúçÂä°ÂíåÂÜÖÂÆπÂåÖÊã¨Ôºö\"><a href=\"#‚ú®-Êàë‰ª¨ÁöÑÁâπËâ≤ÊúçÂä°ÂíåÂÜÖÂÆπÂåÖÊã¨Ôºö\" class=\"headerlink\" title=\"‚ú® Êàë‰ª¨ÁöÑÁâπËâ≤ÊúçÂä°ÂíåÂÜÖÂÆπÂåÖÊã¨Ôºö\"></a>‚ú® Êàë‰ª¨ÁöÑÁâπËâ≤ÊúçÂä°ÂíåÂÜÖÂÆπÂåÖÊã¨Ôºö</h4><p>üéì ‰∏ì‰∏öÁöÑITÊäÄËÉΩÂüπËÆ≠ËØæÁ®ã</p>\n<p>üì∞ Ë°å‰∏öË∂ãÂäøÂíåÊäÄÊúØÊñáÁ´†ÂàÜ‰∫´</p>\n<p>üöÄ ËÅå‰∏öÂèëÂ±ïÊåáÂØºÂíåÊãõËÅò‰ø°ÊÅØ</p>\n<p>üí¨ ‰∏é‰∏ì‰∏ö‰∫∫Â£´‰∫íÂä®ÁöÑÁ§æ‰∫§Âπ≥Âè∞</p>\n<p>üë• Âä†ÂÖ•Êàë‰ª¨ÁöÑÁ§æÂå∫Ôºå‰Ω†Â∞ÜËé∑ÂæóÔºö</p>\n<p>‰∏éÂêåË°å‰∏ì‰∏ö‰∫∫Â£´ÁöÑ‰∫íÂä®Âíå‰∫§ÊµÅÊú∫‰ºö</p>\n<p>Ëé∑ÂèñÂÆûÁî®ÁöÑËÅå‰∏öÂèëÂ±ïÂª∫ËÆÆÂíåÊäÄÊúØÊîØÊåÅ</p>\n<p>ÂèÇ‰∏é‰∏∞ÂØåÂ§öÂΩ©ÁöÑÁ∫ø‰∏äÂíåÁ∫ø‰∏ãÊ¥ªÂä®</p>\n<p>Êó†ËÆ∫‰Ω†ÊòØÂàöÂàöË∏èÂÖ•ITÈ¢ÜÂüüÔºåËøòÊòØÂØªÊ±ÇÊõ¥È´òÁ∫ßÂà´ÁöÑÊäÄÊúØÊåëÊàòÔºåITProHubÈÉΩÊòØ‰Ω†‰ø°ÊÅØÊäÄÊúØ‰πãÊóÖÁöÑÁêÜÊÉ≥‰º¥‰æ£„ÄÇ</p>\n<h2 id=\"üåê-Êé¢Á¥¢Êó†ÈôêÂèØËÉΩÔºåÂä†ÂÖ•-ITProHub-ÔºÅüåê\"><a href=\"#üåê-Êé¢Á¥¢Êó†ÈôêÂèØËÉΩÔºåÂä†ÂÖ•-ITProHub-ÔºÅüåê\" class=\"headerlink\" title=\"üåê Êé¢Á¥¢Êó†ÈôêÂèØËÉΩÔºåÂä†ÂÖ• ITProHub ÔºÅüåê\"></a>üåê Êé¢Á¥¢Êó†ÈôêÂèØËÉΩÔºåÂä†ÂÖ• ITProHub ÔºÅüåê</h2><p>ÂÖ¨‰ºóÂè∑Â∞Ü‰∏çÂÆöÊúüÊõ¥Êñ∞ÔºåÊ¨¢ËøéËÆ¢ÈòÖÔºÅ</p>\n<p>#ITProHub #‰ø°ÊÅØÊäÄÊúØ #‰∏ì‰∏öÂèëÂ±ï #Á§æÂå∫‰∫§ÊµÅ</p>\n<p>Êõ¥Â§ö‰∏ÄÊâãËÆØÊÅØÔºåÂèØÂÖ≥Ê≥®ÂÖ¨‰ºóÂè∑Ôºö<a href=\"https://myom-dev.oss-cn-hangzhou.aliyuncs.com/WechatPublicPlatformQrCode.jpg\">ITProHub</a></p>\n<p><img src=\"https://myom-dev.oss-cn-hangzhou.aliyuncs.com/WechatPublicPlatformQrCode.jpg\" alt=\"ITProHub\"></p>\n"},{"title":"Ê∑±ÂÖ•ÁêÜËß£ HTTP Connection Â§¥","date":"2024-03-19T08:11:52.000Z","_content":"HTTP Connection Â§¥ÊòØ HTTP ÂçèËÆÆ‰∏≠ÁöÑ‰∏Ä‰∏™ÈáçË¶ÅÂ§¥ÈÉ®Â≠óÊÆµÔºåÂÆÉÁî®‰∫éÊéßÂà∂ÂÆ¢Êà∑Á´ØÂíåÊúçÂä°Âô®‰πãÈó¥ÁöÑËøûÊé•Ë°å‰∏∫„ÄÇÂú®Êú¨Êñá‰∏≠ÔºåÊàë‰ª¨Â∞ÜÊ∑±ÂÖ•Êé¢ËÆ® HTTP Connection Â§¥ÈÉ®ÁöÑ‰ΩúÁî®„ÄÅÁî®Ê≥ïÔºåÂπ∂ÁªìÂêàÂÆûÈôÖÂºÄÂèëÊ°à‰æãÂ±ïÁ§∫ÂÖ∂Âú®Â∫îÁî®Á®ãÂ∫èÂºÄÂèë‰∏≠ÁöÑÂ∫îÁî®„ÄÇ\n\nÂú®ÂºÄÂßãÊú¨ÊñáÁöÑÈòÖËØª‰πãÂâçÔºåÈªòËÆ§Â±èÂπïÂâçÁöÑËÄÅÈìÅÂ∑≤ÁªèÂØπHTTPÊúâ‰∫ÜÂü∫Á°ÄÁöÑËÆ§ËØÜ„ÄÇÂ¶ÇÊûú‰∏çÊòØÔºåËØ∑ÁßªÊ≠•Â≠¶‰π†[Ë∂ÖÊñáÊú¨‰º†ËæìÂçèËÆÆ](https://zh.wikipedia.org/wiki/%E8%B6%85%E6%96%87%E6%9C%AC%E4%BC%A0%E8%BE%93%E5%8D%8F%E8%AE%AE#)\n\n\n## ‰ΩúÁî®‰∏éËØ≠Ê≥ï\nHTTP ConnectionÂ§¥ÊòØÈÄöÁî®Á±ªÂûãÊ†áÂ§¥ÔºåÂÖÅËÆ∏ÂèëÈÄÅÊñπÊàñÂÆ¢Êà∑Á´ØÊåáÂÆöËØ•ÁâπÂÆöËøûÊé•ÊâÄÈúÄÁöÑÈÄâÈ°π„ÄÇConnection Â∏ÆÂä©‰ΩøÁî®Âçï‰∏™ TCP ËøûÊé•ÂèëÈÄÅÊàñÊé•Êî∂Â§ö‰∏™ HTTP ËØ∑Ê±Ç/ÂìçÂ∫îÔºåËÄå‰∏çÊòØ‰∏∫ÊØè‰∏™ËØ∑Ê±Ç/ÂìçÂ∫îÊâìÂºÄ‰∏Ä‰∏™Êñ∞ËøûÊé•„ÄÇÂÆÉËøòÊéßÂà∂ÂΩìÂâç‰∫ãÂä°ÂÆåÊàêÂêéÁΩëÁªúÊòØÂê¶‰øùÊåÅÊâìÂºÄÊàñÂÖ≥Èó≠Áä∂ÊÄÅ„ÄÇ\n\n### ËØ≠Ê≥ï\n```http request\nConnection: keep-alive\nConnection: close\n```\n\nHTTP ConnectionÂ§¥Êé•Âèó‰∏äÈù¢ÊèêÂà∞ÁöÑ‰∏§‰∏™Êåá‰ª§ÔºåÂπ∂Â¶Ç‰∏ãÊâÄËø∞Ôºö\n\n+ keep-aliveËØ•Êåá‰ª§Ë°®ÊòéÂÆ¢Êà∑Á´ØÂú®ÂèëÈÄÅÂìçÂ∫îÊ∂àÊÅØÂêéÂ∏åÊúõ‰øùÊåÅËøûÊé•ÊâìÂºÄÊàñÊ¥ªÂä®„ÄÇÂú® HTTP 1.1 ÁâàÊú¨‰∏≠ÔºåÈªòËÆ§ÊÉÖÂÜµ‰∏ã‰ΩøÁî®ÊåÅ‰πÖËøûÊé•ÔºåËØ•ËøûÊé•Âú®‰∫ãÂä°Âêé‰∏ç‰ºöËá™Âä®ÂÖ≥Èó≠„ÄÇ‰ΩÜHTTP 1.0‰∏ç‰ºöÂ∞ÜËøûÊé•ËßÜ‰∏∫ÊåÅ‰πÖËøûÊé•ÔºåÂõ†Ê≠§Â¶ÇÊûúË¶Å‰øùÊåÅËøûÊé•Â§Ñ‰∫éÊ¥ªÂä®Áä∂ÊÄÅÔºåÂàôÈúÄË¶ÅÂåÖÂê´‰∏Ä‰∏™‰øùÊåÅÊ¥ªÂä®ËøûÊé•Ê†áÂ§¥„ÄÇ\n+ closeËøô‰∏™ÂÖ≥Èó≠ËøûÊé•Êåá‰ª§Ë°®ÊòéÂÆ¢Êà∑Á´ØÂú®ÂèëÈÄÅÂìçÂ∫îÊ∂àÊÅØÂêéÊÉ≥Ë¶ÅÂÖ≥Èó≠ËøûÊé•„ÄÇÂú® HTTP 1.0 ‰∏≠ÔºåÈªòËÆ§ÊÉÖÂÜµ‰∏ãËøûÊé•‰ºöÂÖ≥Èó≠„ÄÇ‰ΩÜÂú® HTTP 1.1 ‰∏≠ÔºåÂ¶ÇÊûúÊÇ®Â∏åÊúõÂÖ≥Èó≠ËøûÊé•ÔºåÂàôÈúÄË¶ÅÂ∞ÜÂÖ∂ÂåÖÂê´Âú®Ê†áÂ§¥‰∏≠„ÄÇ\n\nHttp1.1 ‰ª•ÂêéÔºåKeep-AliveÂ∑≤ÁªèÈªòËÆ§ÊîØÊåÅÂπ∂ÂºÄÂêØ„ÄÇÂÆ¢Êà∑Á´ØÔºàÂåÖÊã¨‰ΩÜ‰∏çÈôê‰∫éÊµèËßàÂô®ÔºâÂèëÈÄÅËØ∑Ê±ÇÊó∂‰ºöÂú® Header ‰∏≠Â¢ûÂä†‰∏Ä‰∏™ËØ∑Ê±ÇÂ§¥Connection: Keep-AliveÔºåÂΩìÊúçÂä°Âô®Êî∂Âà∞ÈôÑÂ∏¶ÊúâConnection: Keep-AliveÁöÑËØ∑Ê±ÇÊó∂Ôºå‰πü‰ºöÂú®ÂìçÂ∫îÂ§¥‰∏≠Ê∑ªÂä† Keep-Alive„ÄÇËøôÊ†∑‰∏ÄÊù•ÔºåÂÆ¢Êà∑Á´ØÂíåÊúçÂä°Âô®‰πãÈó¥ÁöÑ HTTP ËøûÊé•Â∞±‰ºöË¢´‰øùÊåÅÔºå‰∏ç‰ºöÊñ≠ÂºÄÔºàÊñ≠ÂºÄÊñπÂºè‰∏ãÈù¢‰ªãÁªçÔºâÔºåÂΩìÂÆ¢Êà∑Á´ØÂèëÈÄÅÂè¶Â§ñ‰∏Ä‰∏™ËØ∑Ê±ÇÊó∂ÔºåÂ∞±ÂèØ‰ª•Â§çÁî®Â∑≤Âª∫Á´ãÁöÑËøûÊé•„ÄÇ\n\n_‰øùÊåÅËøûÊé•Âíå‰∏ç‰øùÊåÅËøûÊé•Âå∫Âà´ÂèØ‰ª•ÂèÇËÄÉ‰∏ãÈù¢ÁöÑÂõæ_\n![handshake](/images/http/perisitent-connection.png)\n\n\n## Keep-AliveÁöÑ‰ºòÁº∫ÁÇπ\nkeep-alive Ëøô‰πàÂÆåÁæé‰πàÔºü\n### ‰ºòÁÇπÔºö\n\n1. ÂáèÂ∞ëËøûÊé•Âª∫Á´ãÂíåÊñ≠ÂºÄÁöÑÂºÄÈîÄÔºö ‰ΩøÁî®ÈïøËøûÊé•ÂèØ‰ª•ÈÅøÂÖçÂú®ÊØèÊ¨°ËØ∑Ê±ÇÊó∂ÈÉΩÈáçÊñ∞Âª∫Á´ãËøûÊé•Ôºå‰ªéËÄåÂáèÂ∞ë‰∫ÜËøûÊé•Âª∫Á´ãÂíåÊñ≠ÂºÄÁöÑÊó∂Èó¥ÂíåÂºÄÈîÄ„ÄÇ\n2. ÂáèÂ∞ëÁΩëÁªúÂª∂ËøüÔºö Áî±‰∫éËøûÊé•Â∑≤ÁªèÂª∫Á´ãÔºåÂèØ‰ª•Áõ¥Êé•ËøõË°åÊï∞ÊçÆ‰º†ËæìÔºå‰∏çÈúÄË¶ÅÁ≠âÂæÖËøûÊé•ÁöÑÂª∫Á´ãËøáÁ®ãÔºå‰ªéËÄåÂáèÂ∞ë‰∫ÜÁΩëÁªúÂª∂ËøüÔºåÊèêÈ´ò‰∫ÜÊï∞ÊçÆ‰º†ËæìÊïàÁéá„ÄÇ\n3. ÊèêÈ´òÊÄßËÉΩÔºö ÈïøËøûÊé•ÂèØ‰ª•ÂÆûÁé∞ËøûÊé•ÁöÑÂ§çÁî®ÔºåÂ§ö‰∏™ËØ∑Ê±ÇÂèØ‰ª•ÂÖ±‰∫´Âêå‰∏Ä‰∏™ËøûÊé•Ôºå‰ªéËÄåÂáèÂ∞ë‰∫ÜÊúçÂä°Âô®ÁöÑË¥üÊãÖÔºåÊèêÈ´ò‰∫ÜÁ≥ªÁªüÁöÑÊï¥‰ΩìÊÄßËÉΩ„ÄÇ\n\n### Áº∫ÁÇπÔºö\n1. ËµÑÊ∫êÂç†Áî®Ôºö ÈïøËøûÊé•‰ºöÂç†Áî®ÊúçÂä°Âô®ÂíåÂÆ¢Êà∑Á´ØÁöÑËµÑÊ∫êÔºåÂ∞§ÂÖ∂ÊòØÂú®ËøûÊé•Á©∫Èó≤Êó∂Ôºå‰ºöÊåÅÁª≠Âç†Áî®ËµÑÊ∫êÔºåÂèØËÉΩÂØºËá¥ËµÑÊ∫êÊµ™Ë¥π„ÄÇ\n2. ÂèØËÉΩÈÄ†ÊàêËµÑÊ∫ê‰∏çË∂≥Ôºö Â¶ÇÊûúÈïøÊó∂Èó¥‰øùÊåÅÂ§ßÈáèÁöÑÈïøËøûÊé•ÔºåÂèØËÉΩ‰ºöËÄóÂ∞ΩÊúçÂä°Âô®ÂíåÂÆ¢Êà∑Á´ØÁöÑËµÑÊ∫êÔºåÂØºËá¥ÊÄßËÉΩ‰∏ãÈôçÁîöËá≥Â¥©Ê∫É„ÄÇ\n\n## ÊÄé‰πàÊñ≠ÂºÄËøûÊé•\n### ÈÄöËøá Keep-Alive Timeout Ê†áËØÜ\nkeep-alive‰∏ç‰ºöÊ∞∏‰πÖ‰øùÊåÅËøûÊé•ÔºåÂÆÉÊúâ‰∏Ä‰∏™‰øùÊåÅÊó∂Èó¥ÔºåÂèØ‰ª•Âú®‰∏çÂêåÁöÑÊúçÂä°Âô®ËΩØ‰ª∂ÔºàÂ¶ÇApacheÔºâ‰∏≠ËÆæÂÆöËøô‰∏™Êó∂Èó¥„ÄÇÂÆûÁé∞ÈïøËøûÊé•ÈúÄË¶ÅÂÆ¢Êà∑Á´ØÂíåÊúçÂä°Á´ØÈÉΩÊîØÊåÅÈïøËøûÊé•„ÄÇ\nKeep-AliveÔºöÂ¶ÇÊûúÊµèËßàÂô®ËØ∑Ê±Ç‰øùÊåÅËøûÊé•ÔºåÂàôËØ•Â§¥ÈÉ®Ë°®ÊòéÂ∏åÊúõ WEB ÊúçÂä°Âô®‰øùÊåÅËøûÊé•Â§öÈïøÊó∂Èó¥ÔºàÁßíÔºâ„ÄÇ‰æãÂ¶ÇÔºö\n```http request\nKeep-Alive:timeout=5\n```\n<font color=\"#dd0000\">Ê≥®ÊÑèÔºöMozilla Âíå Konquor ÊµèËßàÂô®ËÉΩËØÜÂà´ ‚ÄúKeep-AliveÔºöTimeout=Time‚Äù Êä•Â§¥Â≠óÊÆµÔºåËÄå MSIE Âú®Â§ßÁ∫¶ 60 ÁßíÂÜÖËá™Ë°åÂÖ≥Èó≠‰øùÊ¥ªËøûÊé•„ÄÇ</font>\n\n### ÈÄöËøá Connection close Ê†áËØÜ\nÈÄöÂú® Response Header ‰∏≠Â¢ûÂä†Connection closeÊ†áËØÜÔºåÊù•‰∏ªÂä®ÂëäËØâÂèëÈÄÅÁ´ØÔºåËøûÊé•Â∑≤ÁªèÊñ≠ÂºÄ‰∫ÜÔºå‰∏çËÉΩÂÜçÂ§çÁî®‰∫ÜÔºõÂÆ¢Êà∑Á´ØÊé•Êî∂Âà∞Ê≠§Ê†áÁ§∫ÂêéÔºå‰ºöÈîÄÊØÅËøûÊé•ÔºåÂÜçÊ¨°ËØ∑Ê±ÇÊó∂‰ºöÈáçÊñ∞Âª∫Á´ãËøûÊé•„ÄÇ\n\nÊ≥®ÊÑèÔºöÈÖçÁΩÆ close ÈÖçÁΩÆÂêéÔºåÂπ∂‰∏çÊòØËØ¥ÊØèÊ¨°ÈÉΩÊñ∞Âª∫ËøûÊé•ÔºåËÄåÊòØÁ∫¶ÂÆöÊ≠§ËøûÊé•ÂèØ‰ª•Áî®Âá†Ê¨°ÔºåËææÂà∞Ëøô‰∏™ÊúÄÂ§ßÊ¨°Êï∞Êó∂ÔºåÊé•Êî∂Á´ØÂ∞±‰ºöËøîÂõû close Ê†áËØÜ\n\n\n## Âä®ÊâãËØï‰∏ÄËØï\n‰∏∫‰∫ÜÊõ¥Â•ΩÁöÑÁêÜËß£keep-aliveÊòØÊÄé‰πàÁé©ÁöÑÔºåÊàëÂÜô‰∫Ü‰∏Ä‰∏™ÁÆÄÂçïÁöÑ‰æãÂ≠ê\n\n+ ‰∏ªÂä®Êñ≠ÂºÄËøûÊé•\n```\n[HttpGet]\n[ActionTitle(Name = \"ÂÖ≥Èó≠ËøûÊé•\")]\n[Route(\"close.svc\")]\npublic void Close()\n{\n    Response.Headers.Connection = \"close\";\n    return;\n}\n```\n![‰∏ªÂä®Êñ≠ÂºÄËøûÊé•](/images/http/handshake-2.png)\nÈ¶ñÂÖàÔºåÊàë‰ª¨Á¨¨‰∏ÄÊ¨°Ë∞ÉÁî®startÊé•Âè£ÊâìÂºÄËøûÊé•ÔºåÂèØ‰ª•ÁúãÂà∞ÂºÄÂßãÁöÑ‰∏âÊ¨°Êè°Êâã„ÄÇÂêéÁª≠Êàë‰ª¨ÂÜçÊ¨°ÂèëÈÄÅËØ∑Ê±ÇÁöÑÊó∂ÂÄôÔºåÁî±‰∫éËøûÊé•ËøòÊ≤°ÊúâÊñ≠ÂºÄÔºåÊâÄ‰ª•Â∞±‰∏çÂÜçÊúâ‰∏âÊ¨°Êè°ÊâãÁöÑËøáÁ®ã„ÄÇ\n\nÁÑ∂ÂêéÔºåÊàë‰ª¨Âèà‰∏ªÂä®Ë∞ÉÁî®‰∫ÜcloseËøô‰∏™Êé•Âè£ÔºåËøô‰∏™Êé•Âè£ËøîÂõûÁöÑÂ§¥ÈÉ®‰ø°ÊÅØ‰∏≠Êê∫Â∏¶‰∫Ü‚Äúconnection: close‚ÄùÔºåÂëäËØâÊµèËßàÂô®Ë¶ÅÂÖ≥Èó≠ËøûÊé•„ÄÇÂõ†Ê≠§Âú®Ê≠§‰πãÂêéÊàë‰ª¨Á´ãÈ©¨Â∞±ÁúãÂà∞‰∫Ü4Ê¨°Êå•Êâã„ÄÇ\n\n+ Ë∂ÖÊó∂Êñ≠ÂºÄËøûÊé•(Mozilla)\n```C#\n[HttpGet]\n[ActionTitle(Name = \"ÂºÄÂêØËøûÊé•\")]\n[Route(\"start.svc\")]\npublic void Start()\n{\n    Response.Headers.KeepAlive = \"timeout=10, max=3\";\n    return;\n}\n```\n  ![‰∏ªÂä®Êñ≠ÂºÄËøûÊé•](/images/http/timeout-auto-disconnect.png)\nÂú®ÊúçÂä°Á´ØËÆæÁΩÆ10sË∂ÖÊó∂„ÄÇÁ¨¨‰∏ÄÊ¨°‰∏ªÂä®ÊâìÂºÄËøûÊé•Ôºå‰πãÂêéÊàë‰ª¨‰∏çÂÜçËøõË°åËØ∑Ê±ÇÔºå10s‰πãÂêéËøûÊé•Ëá™Âä®Êñ≠ÂºÄ„ÄÇ\n\n\n+ Ë¢´Âä®Êñ≠ÂºÄËøûÊé•\n![‰∏ªÂä®Êñ≠ÂºÄËøûÊé•](/images/http/auto-disconnect.png)\n‰∏äÂõæÂèØ‰ª•ÁúãÂà∞ÔºåÊàë‰ª¨Á¨¨‰∏ÄÊ¨°‰∏ªÂä®ÊâìÂºÄËøûÊé•„ÄÇ‰πãÂêéÊàë‰ª¨‰∏çÂÜçËøõË°åËØ∑Ê±ÇÔºå‰∏ÄÊÆµÊó∂Èó¥‰πãÂêéËøûÊé•Ëá™Âä®Êñ≠ÂºÄ„ÄÇ\n\n**ÂàÜÊûê‰∏äÂõæÊµÅÁ®ã**\n+ È¶ñÂÖàÔºö10.21.21.6ÔºàÊú¨Êú∫ipÔºâÁéáÂÖàÂêëÊúçÂä°Á´Ø ÂèëËµ∑‰∫Ü Keep-Alive Êä•Êñá\n+ ÊúçÂä°Á´Ø‰ºöËøõË°å Keep-Alive ACK\n+ ËßÑÂæãÊòØ ÂÆ¢Êà∑Á´Ø‰∏ÄÁõ¥Âú®ÂèëÈÄÅ Keep-Alive ÔºåÊúçÂä°Á´ØÂë¢Ôºå‰∏ÄÁõ¥Âú® Keep-Alive ACKÔºå‰∏î Seq Âíå Ack ‰∏ÄÁõ¥Ê≤°ÊúâÂèò\n+ Â§ßÊ¶ÇËøá‰∫Ü 5min ÊúçÂä°Á´ØÁéáÂÖàÂèëËµ∑ FIN ACK ËøõÂÖ• ËøõÂÖ•Êå•Êâã Êñ≠ÂºÄËøûÊé•Èò∂ÊÆµ\n\n**ÁåúÊÉ≥**\n+ ÂÆ¢Êà∑Á´Ø TCP Âú®Ê≤°ÊúâÊï∞ÊçÆÊµÅÈÄöÊó∂ÊúâËá™Â∑±ÁöÑÊé¢Ê¥ªÊú∫Âà∂ÔºåÁî±ÂÆ¢Êà∑Á´Ø‰∏äÊä• Keep-Alive Êä•ÊñáÔºåÊúçÂä°Á´Ø ACK ÔºåÂèåÊñπÁ°ÆËÆ§ÂΩºÊ≠§Ê¥ªÁùÄ„ÄÇ\n+ Êé¢Ê¥ªÊúâÊó∂Èó¥ÈôêÂà∂ÔºåË∂ÖËøáÈôêÂÆöÊó∂Èó¥ÔºåÂ¶ÇÊûú‰∏ÄÁõ¥Ê≤°ÊúâÊï∞ÊçÆ‰∫§Êç¢ÔºåÂç≥‰ΩøÊé¢Ê¥ªÂøÉË∑≥Ê≠£Â∏∏Ôºå‰πü‰ºöËøõË°åÊå•ÊâãÊñ≠ËøûÔºåÈáäÊîæËµÑÊ∫ê„ÄÇ\n\n## TCP  Keep-Alive Êú∫Âà∂\n> + TCP Keep-Alive Âπ∂‰∏çÊòØ TCP Ê†áÂáÜÁöÑ‰∏ÄÈÉ®ÂàÜÔºåËÄåÊòØÁî±ÂçèËÆÆÊ†àÂÆûÁé∞ËÄÖËøõË°åÊãìÂ±ïÂÆûÁé∞Ôºå‰∏ªÊµÅÊìç‰ΩúÁ≥ªÁªü Linux„ÄÅWindows„ÄÅMacOS ÈÉΩËøõË°å‰∫ÜÂØπÂ∫îÁöÑÂÆûÁé∞„ÄÇ \n> + TCP Keep-Alive Êä•ÊñáÊòØÁî±Êìç‰ΩúÁ≥ªÁªüÊàñÁΩëÁªúÂ∫ìÂÆûÁé∞ÁöÑÔºåËÄå‰∏çÊòØÁî±ÁâπÂÆöÁöÑÂ∫îÁî®Á®ãÂ∫èÔºàÂ¶ÇÊµèËßàÂô®ÊàñHTTPÂÆ¢Êà∑Á´ØÂ∫ìÔºâÁõ¥Êé•ÂèëÈÄÅÁöÑ„ÄÇÂÆÉÊòØ‰∏ÄÁßçÁΩëÁªúÂ±ÇÁöÑÂäüËÉΩÔºåÁî®‰∫éÁª¥ÊåÅ‰∏§‰∏™ÁΩëÁªúËÆæÂ§á‰πãÈó¥ÁöÑËøûÊé•Áä∂ÊÄÅ„ÄÇËøô‰∏™Êú∫Âà∂Âú®TCPÂçèËÆÆ‰∏≠ÂÆö‰πâÔºåÂÖÅËÆ∏‰∏ÄÊñπÂú®‰∏ÄÂÆöÊó∂Èó¥ÂÜÖÊ≤°ÊúâÊî∂Âà∞Êï∞ÊçÆÊó∂ÂèëÈÄÅÊé¢ÊµãÂåÖÔºå‰ª•Á°ÆËÆ§ËøûÊé•ÁöÑÂè¶‰∏ÄÁ´ØÊòØÂê¶‰ªçÁÑ∂ÂèØËææ„ÄÇ \n> + Âú®WindowsÊìç‰ΩúÁ≥ªÁªü‰∏≠ÔºåËøôÈÄöÂ∏∏ÈÄöËøáÂèëÈÄÅTCP Keep-AliveÊé¢ÊµãÂåÖÊù•ÂÆûÁé∞ÔºåËøô‰∫õÊé¢ÊµãÂåÖÊòØÁî±Êìç‰ΩúÁ≥ªÁªüÁöÑÁΩëÁªúÂ†ÜÊ†àËá™Âä®ÂèëÈÄÅÁöÑ„ÄÇ\n\n‰ª•‰∏ãÊòØ‰∏Ä‰∫õÂèØËÉΩÂèëÈÄÅTCP Keep-AliveÊä•ÊñáÁöÑÂÆû‰ΩìÔºö\n1. Êìç‰ΩúÁ≥ªÁªüÁΩëÁªúÂ†ÜÊ†àÔºöÂ§ßÂ§öÊï∞Áé∞‰ª£Êìç‰ΩúÁ≥ªÁªüÈÉΩ‰ºöÂÆûÁé∞TCP Keep-AliveÂäüËÉΩ„ÄÇ‰æãÂ¶ÇÔºåÂú®Windows‰∏≠ÔºåÂèØ‰ª•ÈÄöËøáÊ≥®ÂÜåË°®ËÆæÁΩÆÊàñ‰ΩøÁî®netshÂëΩ‰ª§Êù•ÈÖçÁΩÆTCP Keep-AliveÂèÇÊï∞„ÄÇ\n2. ÁΩëÁªúÂ∫ìÔºöÊüê‰∫õÁºñÁ®ãËØ≠Ë®ÄÁöÑÁΩëÁªúÂ∫ìÂèØËÉΩÂÆûÁé∞‰∫ÜËá™Â∑±ÁöÑKeep-AliveÈÄªËæë„ÄÇ‰æãÂ¶ÇÔºåJavaÁöÑHttpURLConnectionÊàñC#ÁöÑHttpClientÂèØËÉΩ‰ºöÂú®Â∫ïÂ±ÇTCPËøûÊé•‰∏äÂêØÁî®Keep-Alive„ÄÇ\n3. ÊµèËßàÂô®ÔºöËôΩÁÑ∂ÊµèËßàÂô®ÂèØËÉΩ‰∏ç‰ºöÂú®Ê≤°ÊúâHTTPËØ∑Ê±ÇÁöÑÊÉÖÂÜµ‰∏ãÂèëÈÄÅKeep-AliveÊä•ÊñáÔºå‰ΩÜÂÆÉ‰ª¨ÂèØËÉΩ‰ºöÂÆöÊúüÂèëÈÄÅHTTP/1.1ÂçèËÆÆ‰∏≠ÁöÑKeep-AliveÂ§¥ÈÉ®ÔºåËøôÊòØ‰∏ÄÁßçÂ∫îÁî®Â±ÇÁöÑÊú∫Âà∂ÔºåÁî®‰∫éÁª¥ÊåÅHTTPËøûÊé•ÁöÑÊ¥ªË∑ÉÁä∂ÊÄÅ„ÄÇ\n4. ÂÖ∂‰ªñÁΩëÁªúÂ∫îÁî®Á®ãÂ∫èÔºö‰ªª‰Ωï‰ΩøÁî®TCPËøûÊé•ÁöÑÂ∫îÁî®Á®ãÂ∫èÈÉΩÂèØËÉΩÂÆûÁé∞Ëá™Â∑±ÁöÑKeep-AliveÈÄªËæëÔºå‰ª•Á°Æ‰øùËøûÊé•ÁöÑÊåÅÁª≠ÊÄß„ÄÇ\n\n## ÁªìËØ≠\nHTTP Connection Â§¥ÊòØ HTTP ÂçèËÆÆ‰∏≠ÈùûÂ∏∏ÈáçË¶ÅÁöÑÂ§¥ÈÉ®Â≠óÊÆµ‰πã‰∏ÄÔºåÂÆÉÊéßÂà∂ÁùÄÂÆ¢Êà∑Á´ØÂíåÊúçÂä°Âô®‰πãÈó¥ÁöÑËøûÊé•Ë°å‰∏∫ÔºåÁõ¥Êé•ÂΩ±ÂìçÁùÄÈÄö‰ø°ÁöÑÊïàÁéáÂíåÊÄßËÉΩ„ÄÇÂú®ÂÆûÈôÖÂºÄÂèë‰∏≠ÔºåÂêàÁêÜ‰ΩøÁî® HTTP Connection Â§¥ÂèØ‰ª•ÊúâÊïàÂú∞ÁÆ°ÁêÜÁΩëÁªúËµÑÊ∫êÔºåÊèêÈ´òÈÄö‰ø°ÁöÑÊïàÁéá„ÄÇÂ∏åÊúõÊú¨ÊñáËÉΩÂ§üÂ∏ÆÂä©ËØªËÄÖÊõ¥Ê∑±ÂÖ•Âú∞ÁêÜËß£ HTTP Connection Â§¥ÁöÑ‰ΩúÁî®ÂíåÁî®Ê≥ïÔºåÂπ∂Âú®ÂÆûÈôÖÂºÄÂèë‰∏≠Âä†‰ª•Â∫îÁî®„ÄÇ\n\n\nÊõ¥Â§ö‰∏ÄÊâãËÆØÊÅØÔºåÂèØÂÖ≥Ê≥®ÂÖ¨‰ºóÂè∑Ôºö[ITProHub](https://myom-dev.oss-cn-hangzhou.aliyuncs.com/WechatPublicPlatformQrCode.jpg)\n\n![ITProHub](https://myom-dev.oss-cn-hangzhou.aliyuncs.com/WechatPublicPlatformQrCode.jpg)","source":"_posts/http.md","raw":"---\ntitle: Ê∑±ÂÖ•ÁêÜËß£ HTTP Connection Â§¥\ndate: 2024-03-19 16:11:52\ntags: http httpÂçèËÆÆ Connection\n---\nHTTP Connection Â§¥ÊòØ HTTP ÂçèËÆÆ‰∏≠ÁöÑ‰∏Ä‰∏™ÈáçË¶ÅÂ§¥ÈÉ®Â≠óÊÆµÔºåÂÆÉÁî®‰∫éÊéßÂà∂ÂÆ¢Êà∑Á´ØÂíåÊúçÂä°Âô®‰πãÈó¥ÁöÑËøûÊé•Ë°å‰∏∫„ÄÇÂú®Êú¨Êñá‰∏≠ÔºåÊàë‰ª¨Â∞ÜÊ∑±ÂÖ•Êé¢ËÆ® HTTP Connection Â§¥ÈÉ®ÁöÑ‰ΩúÁî®„ÄÅÁî®Ê≥ïÔºåÂπ∂ÁªìÂêàÂÆûÈôÖÂºÄÂèëÊ°à‰æãÂ±ïÁ§∫ÂÖ∂Âú®Â∫îÁî®Á®ãÂ∫èÂºÄÂèë‰∏≠ÁöÑÂ∫îÁî®„ÄÇ\n\nÂú®ÂºÄÂßãÊú¨ÊñáÁöÑÈòÖËØª‰πãÂâçÔºåÈªòËÆ§Â±èÂπïÂâçÁöÑËÄÅÈìÅÂ∑≤ÁªèÂØπHTTPÊúâ‰∫ÜÂü∫Á°ÄÁöÑËÆ§ËØÜ„ÄÇÂ¶ÇÊûú‰∏çÊòØÔºåËØ∑ÁßªÊ≠•Â≠¶‰π†[Ë∂ÖÊñáÊú¨‰º†ËæìÂçèËÆÆ](https://zh.wikipedia.org/wiki/%E8%B6%85%E6%96%87%E6%9C%AC%E4%BC%A0%E8%BE%93%E5%8D%8F%E8%AE%AE#)\n\n\n## ‰ΩúÁî®‰∏éËØ≠Ê≥ï\nHTTP ConnectionÂ§¥ÊòØÈÄöÁî®Á±ªÂûãÊ†áÂ§¥ÔºåÂÖÅËÆ∏ÂèëÈÄÅÊñπÊàñÂÆ¢Êà∑Á´ØÊåáÂÆöËØ•ÁâπÂÆöËøûÊé•ÊâÄÈúÄÁöÑÈÄâÈ°π„ÄÇConnection Â∏ÆÂä©‰ΩøÁî®Âçï‰∏™ TCP ËøûÊé•ÂèëÈÄÅÊàñÊé•Êî∂Â§ö‰∏™ HTTP ËØ∑Ê±Ç/ÂìçÂ∫îÔºåËÄå‰∏çÊòØ‰∏∫ÊØè‰∏™ËØ∑Ê±Ç/ÂìçÂ∫îÊâìÂºÄ‰∏Ä‰∏™Êñ∞ËøûÊé•„ÄÇÂÆÉËøòÊéßÂà∂ÂΩìÂâç‰∫ãÂä°ÂÆåÊàêÂêéÁΩëÁªúÊòØÂê¶‰øùÊåÅÊâìÂºÄÊàñÂÖ≥Èó≠Áä∂ÊÄÅ„ÄÇ\n\n### ËØ≠Ê≥ï\n```http request\nConnection: keep-alive\nConnection: close\n```\n\nHTTP ConnectionÂ§¥Êé•Âèó‰∏äÈù¢ÊèêÂà∞ÁöÑ‰∏§‰∏™Êåá‰ª§ÔºåÂπ∂Â¶Ç‰∏ãÊâÄËø∞Ôºö\n\n+ keep-aliveËØ•Êåá‰ª§Ë°®ÊòéÂÆ¢Êà∑Á´ØÂú®ÂèëÈÄÅÂìçÂ∫îÊ∂àÊÅØÂêéÂ∏åÊúõ‰øùÊåÅËøûÊé•ÊâìÂºÄÊàñÊ¥ªÂä®„ÄÇÂú® HTTP 1.1 ÁâàÊú¨‰∏≠ÔºåÈªòËÆ§ÊÉÖÂÜµ‰∏ã‰ΩøÁî®ÊåÅ‰πÖËøûÊé•ÔºåËØ•ËøûÊé•Âú®‰∫ãÂä°Âêé‰∏ç‰ºöËá™Âä®ÂÖ≥Èó≠„ÄÇ‰ΩÜHTTP 1.0‰∏ç‰ºöÂ∞ÜËøûÊé•ËßÜ‰∏∫ÊåÅ‰πÖËøûÊé•ÔºåÂõ†Ê≠§Â¶ÇÊûúË¶Å‰øùÊåÅËøûÊé•Â§Ñ‰∫éÊ¥ªÂä®Áä∂ÊÄÅÔºåÂàôÈúÄË¶ÅÂåÖÂê´‰∏Ä‰∏™‰øùÊåÅÊ¥ªÂä®ËøûÊé•Ê†áÂ§¥„ÄÇ\n+ closeËøô‰∏™ÂÖ≥Èó≠ËøûÊé•Êåá‰ª§Ë°®ÊòéÂÆ¢Êà∑Á´ØÂú®ÂèëÈÄÅÂìçÂ∫îÊ∂àÊÅØÂêéÊÉ≥Ë¶ÅÂÖ≥Èó≠ËøûÊé•„ÄÇÂú® HTTP 1.0 ‰∏≠ÔºåÈªòËÆ§ÊÉÖÂÜµ‰∏ãËøûÊé•‰ºöÂÖ≥Èó≠„ÄÇ‰ΩÜÂú® HTTP 1.1 ‰∏≠ÔºåÂ¶ÇÊûúÊÇ®Â∏åÊúõÂÖ≥Èó≠ËøûÊé•ÔºåÂàôÈúÄË¶ÅÂ∞ÜÂÖ∂ÂåÖÂê´Âú®Ê†áÂ§¥‰∏≠„ÄÇ\n\nHttp1.1 ‰ª•ÂêéÔºåKeep-AliveÂ∑≤ÁªèÈªòËÆ§ÊîØÊåÅÂπ∂ÂºÄÂêØ„ÄÇÂÆ¢Êà∑Á´ØÔºàÂåÖÊã¨‰ΩÜ‰∏çÈôê‰∫éÊµèËßàÂô®ÔºâÂèëÈÄÅËØ∑Ê±ÇÊó∂‰ºöÂú® Header ‰∏≠Â¢ûÂä†‰∏Ä‰∏™ËØ∑Ê±ÇÂ§¥Connection: Keep-AliveÔºåÂΩìÊúçÂä°Âô®Êî∂Âà∞ÈôÑÂ∏¶ÊúâConnection: Keep-AliveÁöÑËØ∑Ê±ÇÊó∂Ôºå‰πü‰ºöÂú®ÂìçÂ∫îÂ§¥‰∏≠Ê∑ªÂä† Keep-Alive„ÄÇËøôÊ†∑‰∏ÄÊù•ÔºåÂÆ¢Êà∑Á´ØÂíåÊúçÂä°Âô®‰πãÈó¥ÁöÑ HTTP ËøûÊé•Â∞±‰ºöË¢´‰øùÊåÅÔºå‰∏ç‰ºöÊñ≠ÂºÄÔºàÊñ≠ÂºÄÊñπÂºè‰∏ãÈù¢‰ªãÁªçÔºâÔºåÂΩìÂÆ¢Êà∑Á´ØÂèëÈÄÅÂè¶Â§ñ‰∏Ä‰∏™ËØ∑Ê±ÇÊó∂ÔºåÂ∞±ÂèØ‰ª•Â§çÁî®Â∑≤Âª∫Á´ãÁöÑËøûÊé•„ÄÇ\n\n_‰øùÊåÅËøûÊé•Âíå‰∏ç‰øùÊåÅËøûÊé•Âå∫Âà´ÂèØ‰ª•ÂèÇËÄÉ‰∏ãÈù¢ÁöÑÂõæ_\n![handshake](/images/http/perisitent-connection.png)\n\n\n## Keep-AliveÁöÑ‰ºòÁº∫ÁÇπ\nkeep-alive Ëøô‰πàÂÆåÁæé‰πàÔºü\n### ‰ºòÁÇπÔºö\n\n1. ÂáèÂ∞ëËøûÊé•Âª∫Á´ãÂíåÊñ≠ÂºÄÁöÑÂºÄÈîÄÔºö ‰ΩøÁî®ÈïøËøûÊé•ÂèØ‰ª•ÈÅøÂÖçÂú®ÊØèÊ¨°ËØ∑Ê±ÇÊó∂ÈÉΩÈáçÊñ∞Âª∫Á´ãËøûÊé•Ôºå‰ªéËÄåÂáèÂ∞ë‰∫ÜËøûÊé•Âª∫Á´ãÂíåÊñ≠ÂºÄÁöÑÊó∂Èó¥ÂíåÂºÄÈîÄ„ÄÇ\n2. ÂáèÂ∞ëÁΩëÁªúÂª∂ËøüÔºö Áî±‰∫éËøûÊé•Â∑≤ÁªèÂª∫Á´ãÔºåÂèØ‰ª•Áõ¥Êé•ËøõË°åÊï∞ÊçÆ‰º†ËæìÔºå‰∏çÈúÄË¶ÅÁ≠âÂæÖËøûÊé•ÁöÑÂª∫Á´ãËøáÁ®ãÔºå‰ªéËÄåÂáèÂ∞ë‰∫ÜÁΩëÁªúÂª∂ËøüÔºåÊèêÈ´ò‰∫ÜÊï∞ÊçÆ‰º†ËæìÊïàÁéá„ÄÇ\n3. ÊèêÈ´òÊÄßËÉΩÔºö ÈïøËøûÊé•ÂèØ‰ª•ÂÆûÁé∞ËøûÊé•ÁöÑÂ§çÁî®ÔºåÂ§ö‰∏™ËØ∑Ê±ÇÂèØ‰ª•ÂÖ±‰∫´Âêå‰∏Ä‰∏™ËøûÊé•Ôºå‰ªéËÄåÂáèÂ∞ë‰∫ÜÊúçÂä°Âô®ÁöÑË¥üÊãÖÔºåÊèêÈ´ò‰∫ÜÁ≥ªÁªüÁöÑÊï¥‰ΩìÊÄßËÉΩ„ÄÇ\n\n### Áº∫ÁÇπÔºö\n1. ËµÑÊ∫êÂç†Áî®Ôºö ÈïøËøûÊé•‰ºöÂç†Áî®ÊúçÂä°Âô®ÂíåÂÆ¢Êà∑Á´ØÁöÑËµÑÊ∫êÔºåÂ∞§ÂÖ∂ÊòØÂú®ËøûÊé•Á©∫Èó≤Êó∂Ôºå‰ºöÊåÅÁª≠Âç†Áî®ËµÑÊ∫êÔºåÂèØËÉΩÂØºËá¥ËµÑÊ∫êÊµ™Ë¥π„ÄÇ\n2. ÂèØËÉΩÈÄ†ÊàêËµÑÊ∫ê‰∏çË∂≥Ôºö Â¶ÇÊûúÈïøÊó∂Èó¥‰øùÊåÅÂ§ßÈáèÁöÑÈïøËøûÊé•ÔºåÂèØËÉΩ‰ºöËÄóÂ∞ΩÊúçÂä°Âô®ÂíåÂÆ¢Êà∑Á´ØÁöÑËµÑÊ∫êÔºåÂØºËá¥ÊÄßËÉΩ‰∏ãÈôçÁîöËá≥Â¥©Ê∫É„ÄÇ\n\n## ÊÄé‰πàÊñ≠ÂºÄËøûÊé•\n### ÈÄöËøá Keep-Alive Timeout Ê†áËØÜ\nkeep-alive‰∏ç‰ºöÊ∞∏‰πÖ‰øùÊåÅËøûÊé•ÔºåÂÆÉÊúâ‰∏Ä‰∏™‰øùÊåÅÊó∂Èó¥ÔºåÂèØ‰ª•Âú®‰∏çÂêåÁöÑÊúçÂä°Âô®ËΩØ‰ª∂ÔºàÂ¶ÇApacheÔºâ‰∏≠ËÆæÂÆöËøô‰∏™Êó∂Èó¥„ÄÇÂÆûÁé∞ÈïøËøûÊé•ÈúÄË¶ÅÂÆ¢Êà∑Á´ØÂíåÊúçÂä°Á´ØÈÉΩÊîØÊåÅÈïøËøûÊé•„ÄÇ\nKeep-AliveÔºöÂ¶ÇÊûúÊµèËßàÂô®ËØ∑Ê±Ç‰øùÊåÅËøûÊé•ÔºåÂàôËØ•Â§¥ÈÉ®Ë°®ÊòéÂ∏åÊúõ WEB ÊúçÂä°Âô®‰øùÊåÅËøûÊé•Â§öÈïøÊó∂Èó¥ÔºàÁßíÔºâ„ÄÇ‰æãÂ¶ÇÔºö\n```http request\nKeep-Alive:timeout=5\n```\n<font color=\"#dd0000\">Ê≥®ÊÑèÔºöMozilla Âíå Konquor ÊµèËßàÂô®ËÉΩËØÜÂà´ ‚ÄúKeep-AliveÔºöTimeout=Time‚Äù Êä•Â§¥Â≠óÊÆµÔºåËÄå MSIE Âú®Â§ßÁ∫¶ 60 ÁßíÂÜÖËá™Ë°åÂÖ≥Èó≠‰øùÊ¥ªËøûÊé•„ÄÇ</font>\n\n### ÈÄöËøá Connection close Ê†áËØÜ\nÈÄöÂú® Response Header ‰∏≠Â¢ûÂä†Connection closeÊ†áËØÜÔºåÊù•‰∏ªÂä®ÂëäËØâÂèëÈÄÅÁ´ØÔºåËøûÊé•Â∑≤ÁªèÊñ≠ÂºÄ‰∫ÜÔºå‰∏çËÉΩÂÜçÂ§çÁî®‰∫ÜÔºõÂÆ¢Êà∑Á´ØÊé•Êî∂Âà∞Ê≠§Ê†áÁ§∫ÂêéÔºå‰ºöÈîÄÊØÅËøûÊé•ÔºåÂÜçÊ¨°ËØ∑Ê±ÇÊó∂‰ºöÈáçÊñ∞Âª∫Á´ãËøûÊé•„ÄÇ\n\nÊ≥®ÊÑèÔºöÈÖçÁΩÆ close ÈÖçÁΩÆÂêéÔºåÂπ∂‰∏çÊòØËØ¥ÊØèÊ¨°ÈÉΩÊñ∞Âª∫ËøûÊé•ÔºåËÄåÊòØÁ∫¶ÂÆöÊ≠§ËøûÊé•ÂèØ‰ª•Áî®Âá†Ê¨°ÔºåËææÂà∞Ëøô‰∏™ÊúÄÂ§ßÊ¨°Êï∞Êó∂ÔºåÊé•Êî∂Á´ØÂ∞±‰ºöËøîÂõû close Ê†áËØÜ\n\n\n## Âä®ÊâãËØï‰∏ÄËØï\n‰∏∫‰∫ÜÊõ¥Â•ΩÁöÑÁêÜËß£keep-aliveÊòØÊÄé‰πàÁé©ÁöÑÔºåÊàëÂÜô‰∫Ü‰∏Ä‰∏™ÁÆÄÂçïÁöÑ‰æãÂ≠ê\n\n+ ‰∏ªÂä®Êñ≠ÂºÄËøûÊé•\n```\n[HttpGet]\n[ActionTitle(Name = \"ÂÖ≥Èó≠ËøûÊé•\")]\n[Route(\"close.svc\")]\npublic void Close()\n{\n    Response.Headers.Connection = \"close\";\n    return;\n}\n```\n![‰∏ªÂä®Êñ≠ÂºÄËøûÊé•](/images/http/handshake-2.png)\nÈ¶ñÂÖàÔºåÊàë‰ª¨Á¨¨‰∏ÄÊ¨°Ë∞ÉÁî®startÊé•Âè£ÊâìÂºÄËøûÊé•ÔºåÂèØ‰ª•ÁúãÂà∞ÂºÄÂßãÁöÑ‰∏âÊ¨°Êè°Êâã„ÄÇÂêéÁª≠Êàë‰ª¨ÂÜçÊ¨°ÂèëÈÄÅËØ∑Ê±ÇÁöÑÊó∂ÂÄôÔºåÁî±‰∫éËøûÊé•ËøòÊ≤°ÊúâÊñ≠ÂºÄÔºåÊâÄ‰ª•Â∞±‰∏çÂÜçÊúâ‰∏âÊ¨°Êè°ÊâãÁöÑËøáÁ®ã„ÄÇ\n\nÁÑ∂ÂêéÔºåÊàë‰ª¨Âèà‰∏ªÂä®Ë∞ÉÁî®‰∫ÜcloseËøô‰∏™Êé•Âè£ÔºåËøô‰∏™Êé•Âè£ËøîÂõûÁöÑÂ§¥ÈÉ®‰ø°ÊÅØ‰∏≠Êê∫Â∏¶‰∫Ü‚Äúconnection: close‚ÄùÔºåÂëäËØâÊµèËßàÂô®Ë¶ÅÂÖ≥Èó≠ËøûÊé•„ÄÇÂõ†Ê≠§Âú®Ê≠§‰πãÂêéÊàë‰ª¨Á´ãÈ©¨Â∞±ÁúãÂà∞‰∫Ü4Ê¨°Êå•Êâã„ÄÇ\n\n+ Ë∂ÖÊó∂Êñ≠ÂºÄËøûÊé•(Mozilla)\n```C#\n[HttpGet]\n[ActionTitle(Name = \"ÂºÄÂêØËøûÊé•\")]\n[Route(\"start.svc\")]\npublic void Start()\n{\n    Response.Headers.KeepAlive = \"timeout=10, max=3\";\n    return;\n}\n```\n  ![‰∏ªÂä®Êñ≠ÂºÄËøûÊé•](/images/http/timeout-auto-disconnect.png)\nÂú®ÊúçÂä°Á´ØËÆæÁΩÆ10sË∂ÖÊó∂„ÄÇÁ¨¨‰∏ÄÊ¨°‰∏ªÂä®ÊâìÂºÄËøûÊé•Ôºå‰πãÂêéÊàë‰ª¨‰∏çÂÜçËøõË°åËØ∑Ê±ÇÔºå10s‰πãÂêéËøûÊé•Ëá™Âä®Êñ≠ÂºÄ„ÄÇ\n\n\n+ Ë¢´Âä®Êñ≠ÂºÄËøûÊé•\n![‰∏ªÂä®Êñ≠ÂºÄËøûÊé•](/images/http/auto-disconnect.png)\n‰∏äÂõæÂèØ‰ª•ÁúãÂà∞ÔºåÊàë‰ª¨Á¨¨‰∏ÄÊ¨°‰∏ªÂä®ÊâìÂºÄËøûÊé•„ÄÇ‰πãÂêéÊàë‰ª¨‰∏çÂÜçËøõË°åËØ∑Ê±ÇÔºå‰∏ÄÊÆµÊó∂Èó¥‰πãÂêéËøûÊé•Ëá™Âä®Êñ≠ÂºÄ„ÄÇ\n\n**ÂàÜÊûê‰∏äÂõæÊµÅÁ®ã**\n+ È¶ñÂÖàÔºö10.21.21.6ÔºàÊú¨Êú∫ipÔºâÁéáÂÖàÂêëÊúçÂä°Á´Ø ÂèëËµ∑‰∫Ü Keep-Alive Êä•Êñá\n+ ÊúçÂä°Á´Ø‰ºöËøõË°å Keep-Alive ACK\n+ ËßÑÂæãÊòØ ÂÆ¢Êà∑Á´Ø‰∏ÄÁõ¥Âú®ÂèëÈÄÅ Keep-Alive ÔºåÊúçÂä°Á´ØÂë¢Ôºå‰∏ÄÁõ¥Âú® Keep-Alive ACKÔºå‰∏î Seq Âíå Ack ‰∏ÄÁõ¥Ê≤°ÊúâÂèò\n+ Â§ßÊ¶ÇËøá‰∫Ü 5min ÊúçÂä°Á´ØÁéáÂÖàÂèëËµ∑ FIN ACK ËøõÂÖ• ËøõÂÖ•Êå•Êâã Êñ≠ÂºÄËøûÊé•Èò∂ÊÆµ\n\n**ÁåúÊÉ≥**\n+ ÂÆ¢Êà∑Á´Ø TCP Âú®Ê≤°ÊúâÊï∞ÊçÆÊµÅÈÄöÊó∂ÊúâËá™Â∑±ÁöÑÊé¢Ê¥ªÊú∫Âà∂ÔºåÁî±ÂÆ¢Êà∑Á´Ø‰∏äÊä• Keep-Alive Êä•ÊñáÔºåÊúçÂä°Á´Ø ACK ÔºåÂèåÊñπÁ°ÆËÆ§ÂΩºÊ≠§Ê¥ªÁùÄ„ÄÇ\n+ Êé¢Ê¥ªÊúâÊó∂Èó¥ÈôêÂà∂ÔºåË∂ÖËøáÈôêÂÆöÊó∂Èó¥ÔºåÂ¶ÇÊûú‰∏ÄÁõ¥Ê≤°ÊúâÊï∞ÊçÆ‰∫§Êç¢ÔºåÂç≥‰ΩøÊé¢Ê¥ªÂøÉË∑≥Ê≠£Â∏∏Ôºå‰πü‰ºöËøõË°åÊå•ÊâãÊñ≠ËøûÔºåÈáäÊîæËµÑÊ∫ê„ÄÇ\n\n## TCP  Keep-Alive Êú∫Âà∂\n> + TCP Keep-Alive Âπ∂‰∏çÊòØ TCP Ê†áÂáÜÁöÑ‰∏ÄÈÉ®ÂàÜÔºåËÄåÊòØÁî±ÂçèËÆÆÊ†àÂÆûÁé∞ËÄÖËøõË°åÊãìÂ±ïÂÆûÁé∞Ôºå‰∏ªÊµÅÊìç‰ΩúÁ≥ªÁªü Linux„ÄÅWindows„ÄÅMacOS ÈÉΩËøõË°å‰∫ÜÂØπÂ∫îÁöÑÂÆûÁé∞„ÄÇ \n> + TCP Keep-Alive Êä•ÊñáÊòØÁî±Êìç‰ΩúÁ≥ªÁªüÊàñÁΩëÁªúÂ∫ìÂÆûÁé∞ÁöÑÔºåËÄå‰∏çÊòØÁî±ÁâπÂÆöÁöÑÂ∫îÁî®Á®ãÂ∫èÔºàÂ¶ÇÊµèËßàÂô®ÊàñHTTPÂÆ¢Êà∑Á´ØÂ∫ìÔºâÁõ¥Êé•ÂèëÈÄÅÁöÑ„ÄÇÂÆÉÊòØ‰∏ÄÁßçÁΩëÁªúÂ±ÇÁöÑÂäüËÉΩÔºåÁî®‰∫éÁª¥ÊåÅ‰∏§‰∏™ÁΩëÁªúËÆæÂ§á‰πãÈó¥ÁöÑËøûÊé•Áä∂ÊÄÅ„ÄÇËøô‰∏™Êú∫Âà∂Âú®TCPÂçèËÆÆ‰∏≠ÂÆö‰πâÔºåÂÖÅËÆ∏‰∏ÄÊñπÂú®‰∏ÄÂÆöÊó∂Èó¥ÂÜÖÊ≤°ÊúâÊî∂Âà∞Êï∞ÊçÆÊó∂ÂèëÈÄÅÊé¢ÊµãÂåÖÔºå‰ª•Á°ÆËÆ§ËøûÊé•ÁöÑÂè¶‰∏ÄÁ´ØÊòØÂê¶‰ªçÁÑ∂ÂèØËææ„ÄÇ \n> + Âú®WindowsÊìç‰ΩúÁ≥ªÁªü‰∏≠ÔºåËøôÈÄöÂ∏∏ÈÄöËøáÂèëÈÄÅTCP Keep-AliveÊé¢ÊµãÂåÖÊù•ÂÆûÁé∞ÔºåËøô‰∫õÊé¢ÊµãÂåÖÊòØÁî±Êìç‰ΩúÁ≥ªÁªüÁöÑÁΩëÁªúÂ†ÜÊ†àËá™Âä®ÂèëÈÄÅÁöÑ„ÄÇ\n\n‰ª•‰∏ãÊòØ‰∏Ä‰∫õÂèØËÉΩÂèëÈÄÅTCP Keep-AliveÊä•ÊñáÁöÑÂÆû‰ΩìÔºö\n1. Êìç‰ΩúÁ≥ªÁªüÁΩëÁªúÂ†ÜÊ†àÔºöÂ§ßÂ§öÊï∞Áé∞‰ª£Êìç‰ΩúÁ≥ªÁªüÈÉΩ‰ºöÂÆûÁé∞TCP Keep-AliveÂäüËÉΩ„ÄÇ‰æãÂ¶ÇÔºåÂú®Windows‰∏≠ÔºåÂèØ‰ª•ÈÄöËøáÊ≥®ÂÜåË°®ËÆæÁΩÆÊàñ‰ΩøÁî®netshÂëΩ‰ª§Êù•ÈÖçÁΩÆTCP Keep-AliveÂèÇÊï∞„ÄÇ\n2. ÁΩëÁªúÂ∫ìÔºöÊüê‰∫õÁºñÁ®ãËØ≠Ë®ÄÁöÑÁΩëÁªúÂ∫ìÂèØËÉΩÂÆûÁé∞‰∫ÜËá™Â∑±ÁöÑKeep-AliveÈÄªËæë„ÄÇ‰æãÂ¶ÇÔºåJavaÁöÑHttpURLConnectionÊàñC#ÁöÑHttpClientÂèØËÉΩ‰ºöÂú®Â∫ïÂ±ÇTCPËøûÊé•‰∏äÂêØÁî®Keep-Alive„ÄÇ\n3. ÊµèËßàÂô®ÔºöËôΩÁÑ∂ÊµèËßàÂô®ÂèØËÉΩ‰∏ç‰ºöÂú®Ê≤°ÊúâHTTPËØ∑Ê±ÇÁöÑÊÉÖÂÜµ‰∏ãÂèëÈÄÅKeep-AliveÊä•ÊñáÔºå‰ΩÜÂÆÉ‰ª¨ÂèØËÉΩ‰ºöÂÆöÊúüÂèëÈÄÅHTTP/1.1ÂçèËÆÆ‰∏≠ÁöÑKeep-AliveÂ§¥ÈÉ®ÔºåËøôÊòØ‰∏ÄÁßçÂ∫îÁî®Â±ÇÁöÑÊú∫Âà∂ÔºåÁî®‰∫éÁª¥ÊåÅHTTPËøûÊé•ÁöÑÊ¥ªË∑ÉÁä∂ÊÄÅ„ÄÇ\n4. ÂÖ∂‰ªñÁΩëÁªúÂ∫îÁî®Á®ãÂ∫èÔºö‰ªª‰Ωï‰ΩøÁî®TCPËøûÊé•ÁöÑÂ∫îÁî®Á®ãÂ∫èÈÉΩÂèØËÉΩÂÆûÁé∞Ëá™Â∑±ÁöÑKeep-AliveÈÄªËæëÔºå‰ª•Á°Æ‰øùËøûÊé•ÁöÑÊåÅÁª≠ÊÄß„ÄÇ\n\n## ÁªìËØ≠\nHTTP Connection Â§¥ÊòØ HTTP ÂçèËÆÆ‰∏≠ÈùûÂ∏∏ÈáçË¶ÅÁöÑÂ§¥ÈÉ®Â≠óÊÆµ‰πã‰∏ÄÔºåÂÆÉÊéßÂà∂ÁùÄÂÆ¢Êà∑Á´ØÂíåÊúçÂä°Âô®‰πãÈó¥ÁöÑËøûÊé•Ë°å‰∏∫ÔºåÁõ¥Êé•ÂΩ±ÂìçÁùÄÈÄö‰ø°ÁöÑÊïàÁéáÂíåÊÄßËÉΩ„ÄÇÂú®ÂÆûÈôÖÂºÄÂèë‰∏≠ÔºåÂêàÁêÜ‰ΩøÁî® HTTP Connection Â§¥ÂèØ‰ª•ÊúâÊïàÂú∞ÁÆ°ÁêÜÁΩëÁªúËµÑÊ∫êÔºåÊèêÈ´òÈÄö‰ø°ÁöÑÊïàÁéá„ÄÇÂ∏åÊúõÊú¨ÊñáËÉΩÂ§üÂ∏ÆÂä©ËØªËÄÖÊõ¥Ê∑±ÂÖ•Âú∞ÁêÜËß£ HTTP Connection Â§¥ÁöÑ‰ΩúÁî®ÂíåÁî®Ê≥ïÔºåÂπ∂Âú®ÂÆûÈôÖÂºÄÂèë‰∏≠Âä†‰ª•Â∫îÁî®„ÄÇ\n\n\nÊõ¥Â§ö‰∏ÄÊâãËÆØÊÅØÔºåÂèØÂÖ≥Ê≥®ÂÖ¨‰ºóÂè∑Ôºö[ITProHub](https://myom-dev.oss-cn-hangzhou.aliyuncs.com/WechatPublicPlatformQrCode.jpg)\n\n![ITProHub](https://myom-dev.oss-cn-hangzhou.aliyuncs.com/WechatPublicPlatformQrCode.jpg)","slug":"http","published":1,"updated":"2024-04-26T03:06:44.259Z","_id":"cltzedeaa0000d0p1ajbjc7gt","comments":1,"layout":"post","photos":[],"link":"","content":"<p>HTTP Connection Â§¥ÊòØ HTTP ÂçèËÆÆ‰∏≠ÁöÑ‰∏Ä‰∏™ÈáçË¶ÅÂ§¥ÈÉ®Â≠óÊÆµÔºåÂÆÉÁî®‰∫éÊéßÂà∂ÂÆ¢Êà∑Á´ØÂíåÊúçÂä°Âô®‰πãÈó¥ÁöÑËøûÊé•Ë°å‰∏∫„ÄÇÂú®Êú¨Êñá‰∏≠ÔºåÊàë‰ª¨Â∞ÜÊ∑±ÂÖ•Êé¢ËÆ® HTTP Connection Â§¥ÈÉ®ÁöÑ‰ΩúÁî®„ÄÅÁî®Ê≥ïÔºåÂπ∂ÁªìÂêàÂÆûÈôÖÂºÄÂèëÊ°à‰æãÂ±ïÁ§∫ÂÖ∂Âú®Â∫îÁî®Á®ãÂ∫èÂºÄÂèë‰∏≠ÁöÑÂ∫îÁî®„ÄÇ</p>\n<p>Âú®ÂºÄÂßãÊú¨ÊñáÁöÑÈòÖËØª‰πãÂâçÔºåÈªòËÆ§Â±èÂπïÂâçÁöÑËÄÅÈìÅÂ∑≤ÁªèÂØπHTTPÊúâ‰∫ÜÂü∫Á°ÄÁöÑËÆ§ËØÜ„ÄÇÂ¶ÇÊûú‰∏çÊòØÔºåËØ∑ÁßªÊ≠•Â≠¶‰π†<a href=\"https://zh.wikipedia.org/wiki/%E8%B6%85%E6%96%87%E6%9C%AC%E4%BC%A0%E8%BE%93%E5%8D%8F%E8%AE%AE#\">Ë∂ÖÊñáÊú¨‰º†ËæìÂçèËÆÆ</a></p>\n<h2 id=\"‰ΩúÁî®‰∏éËØ≠Ê≥ï\"><a href=\"#‰ΩúÁî®‰∏éËØ≠Ê≥ï\" class=\"headerlink\" title=\"‰ΩúÁî®‰∏éËØ≠Ê≥ï\"></a>‰ΩúÁî®‰∏éËØ≠Ê≥ï</h2><p>HTTP ConnectionÂ§¥ÊòØÈÄöÁî®Á±ªÂûãÊ†áÂ§¥ÔºåÂÖÅËÆ∏ÂèëÈÄÅÊñπÊàñÂÆ¢Êà∑Á´ØÊåáÂÆöËØ•ÁâπÂÆöËøûÊé•ÊâÄÈúÄÁöÑÈÄâÈ°π„ÄÇConnection Â∏ÆÂä©‰ΩøÁî®Âçï‰∏™ TCP ËøûÊé•ÂèëÈÄÅÊàñÊé•Êî∂Â§ö‰∏™ HTTP ËØ∑Ê±Ç&#x2F;ÂìçÂ∫îÔºåËÄå‰∏çÊòØ‰∏∫ÊØè‰∏™ËØ∑Ê±Ç&#x2F;ÂìçÂ∫îÊâìÂºÄ‰∏Ä‰∏™Êñ∞ËøûÊé•„ÄÇÂÆÉËøòÊéßÂà∂ÂΩìÂâç‰∫ãÂä°ÂÆåÊàêÂêéÁΩëÁªúÊòØÂê¶‰øùÊåÅÊâìÂºÄÊàñÂÖ≥Èó≠Áä∂ÊÄÅ„ÄÇ</p>\n<h3 id=\"ËØ≠Ê≥ï\"><a href=\"#ËØ≠Ê≥ï\" class=\"headerlink\" title=\"ËØ≠Ê≥ï\"></a>ËØ≠Ê≥ï</h3><figure class=\"highlight http\"><figcaption><span>request</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attribute\">Connection</span><span class=\"punctuation\">: </span>keep-alive</span><br><span class=\"line\"><span class=\"attribute\">Connection</span><span class=\"punctuation\">: </span>close</span><br></pre></td></tr></table></figure>\n\n<p>HTTP ConnectionÂ§¥Êé•Âèó‰∏äÈù¢ÊèêÂà∞ÁöÑ‰∏§‰∏™Êåá‰ª§ÔºåÂπ∂Â¶Ç‰∏ãÊâÄËø∞Ôºö</p>\n<ul>\n<li>keep-aliveËØ•Êåá‰ª§Ë°®ÊòéÂÆ¢Êà∑Á´ØÂú®ÂèëÈÄÅÂìçÂ∫îÊ∂àÊÅØÂêéÂ∏åÊúõ‰øùÊåÅËøûÊé•ÊâìÂºÄÊàñÊ¥ªÂä®„ÄÇÂú® HTTP 1.1 ÁâàÊú¨‰∏≠ÔºåÈªòËÆ§ÊÉÖÂÜµ‰∏ã‰ΩøÁî®ÊåÅ‰πÖËøûÊé•ÔºåËØ•ËøûÊé•Âú®‰∫ãÂä°Âêé‰∏ç‰ºöËá™Âä®ÂÖ≥Èó≠„ÄÇ‰ΩÜHTTP 1.0‰∏ç‰ºöÂ∞ÜËøûÊé•ËßÜ‰∏∫ÊåÅ‰πÖËøûÊé•ÔºåÂõ†Ê≠§Â¶ÇÊûúË¶Å‰øùÊåÅËøûÊé•Â§Ñ‰∫éÊ¥ªÂä®Áä∂ÊÄÅÔºåÂàôÈúÄË¶ÅÂåÖÂê´‰∏Ä‰∏™‰øùÊåÅÊ¥ªÂä®ËøûÊé•Ê†áÂ§¥„ÄÇ</li>\n<li>closeËøô‰∏™ÂÖ≥Èó≠ËøûÊé•Êåá‰ª§Ë°®ÊòéÂÆ¢Êà∑Á´ØÂú®ÂèëÈÄÅÂìçÂ∫îÊ∂àÊÅØÂêéÊÉ≥Ë¶ÅÂÖ≥Èó≠ËøûÊé•„ÄÇÂú® HTTP 1.0 ‰∏≠ÔºåÈªòËÆ§ÊÉÖÂÜµ‰∏ãËøûÊé•‰ºöÂÖ≥Èó≠„ÄÇ‰ΩÜÂú® HTTP 1.1 ‰∏≠ÔºåÂ¶ÇÊûúÊÇ®Â∏åÊúõÂÖ≥Èó≠ËøûÊé•ÔºåÂàôÈúÄË¶ÅÂ∞ÜÂÖ∂ÂåÖÂê´Âú®Ê†áÂ§¥‰∏≠„ÄÇ</li>\n</ul>\n<p>Http1.1 ‰ª•ÂêéÔºåKeep-AliveÂ∑≤ÁªèÈªòËÆ§ÊîØÊåÅÂπ∂ÂºÄÂêØ„ÄÇÂÆ¢Êà∑Á´ØÔºàÂåÖÊã¨‰ΩÜ‰∏çÈôê‰∫éÊµèËßàÂô®ÔºâÂèëÈÄÅËØ∑Ê±ÇÊó∂‰ºöÂú® Header ‰∏≠Â¢ûÂä†‰∏Ä‰∏™ËØ∑Ê±ÇÂ§¥Connection: Keep-AliveÔºåÂΩìÊúçÂä°Âô®Êî∂Âà∞ÈôÑÂ∏¶ÊúâConnection: Keep-AliveÁöÑËØ∑Ê±ÇÊó∂Ôºå‰πü‰ºöÂú®ÂìçÂ∫îÂ§¥‰∏≠Ê∑ªÂä† Keep-Alive„ÄÇËøôÊ†∑‰∏ÄÊù•ÔºåÂÆ¢Êà∑Á´ØÂíåÊúçÂä°Âô®‰πãÈó¥ÁöÑ HTTP ËøûÊé•Â∞±‰ºöË¢´‰øùÊåÅÔºå‰∏ç‰ºöÊñ≠ÂºÄÔºàÊñ≠ÂºÄÊñπÂºè‰∏ãÈù¢‰ªãÁªçÔºâÔºåÂΩìÂÆ¢Êà∑Á´ØÂèëÈÄÅÂè¶Â§ñ‰∏Ä‰∏™ËØ∑Ê±ÇÊó∂ÔºåÂ∞±ÂèØ‰ª•Â§çÁî®Â∑≤Âª∫Á´ãÁöÑËøûÊé•„ÄÇ</p>\n<p><em>‰øùÊåÅËøûÊé•Âíå‰∏ç‰øùÊåÅËøûÊé•Âå∫Âà´ÂèØ‰ª•ÂèÇËÄÉ‰∏ãÈù¢ÁöÑÂõæ</em><br><img src=\"/images/http/perisitent-connection.png\" alt=\"handshake\"></p>\n<h2 id=\"Keep-AliveÁöÑ‰ºòÁº∫ÁÇπ\"><a href=\"#Keep-AliveÁöÑ‰ºòÁº∫ÁÇπ\" class=\"headerlink\" title=\"Keep-AliveÁöÑ‰ºòÁº∫ÁÇπ\"></a>Keep-AliveÁöÑ‰ºòÁº∫ÁÇπ</h2><p>keep-alive Ëøô‰πàÂÆåÁæé‰πàÔºü</p>\n<h3 id=\"‰ºòÁÇπÔºö\"><a href=\"#‰ºòÁÇπÔºö\" class=\"headerlink\" title=\"‰ºòÁÇπÔºö\"></a>‰ºòÁÇπÔºö</h3><ol>\n<li>ÂáèÂ∞ëËøûÊé•Âª∫Á´ãÂíåÊñ≠ÂºÄÁöÑÂºÄÈîÄÔºö ‰ΩøÁî®ÈïøËøûÊé•ÂèØ‰ª•ÈÅøÂÖçÂú®ÊØèÊ¨°ËØ∑Ê±ÇÊó∂ÈÉΩÈáçÊñ∞Âª∫Á´ãËøûÊé•Ôºå‰ªéËÄåÂáèÂ∞ë‰∫ÜËøûÊé•Âª∫Á´ãÂíåÊñ≠ÂºÄÁöÑÊó∂Èó¥ÂíåÂºÄÈîÄ„ÄÇ</li>\n<li>ÂáèÂ∞ëÁΩëÁªúÂª∂ËøüÔºö Áî±‰∫éËøûÊé•Â∑≤ÁªèÂª∫Á´ãÔºåÂèØ‰ª•Áõ¥Êé•ËøõË°åÊï∞ÊçÆ‰º†ËæìÔºå‰∏çÈúÄË¶ÅÁ≠âÂæÖËøûÊé•ÁöÑÂª∫Á´ãËøáÁ®ãÔºå‰ªéËÄåÂáèÂ∞ë‰∫ÜÁΩëÁªúÂª∂ËøüÔºåÊèêÈ´ò‰∫ÜÊï∞ÊçÆ‰º†ËæìÊïàÁéá„ÄÇ</li>\n<li>ÊèêÈ´òÊÄßËÉΩÔºö ÈïøËøûÊé•ÂèØ‰ª•ÂÆûÁé∞ËøûÊé•ÁöÑÂ§çÁî®ÔºåÂ§ö‰∏™ËØ∑Ê±ÇÂèØ‰ª•ÂÖ±‰∫´Âêå‰∏Ä‰∏™ËøûÊé•Ôºå‰ªéËÄåÂáèÂ∞ë‰∫ÜÊúçÂä°Âô®ÁöÑË¥üÊãÖÔºåÊèêÈ´ò‰∫ÜÁ≥ªÁªüÁöÑÊï¥‰ΩìÊÄßËÉΩ„ÄÇ</li>\n</ol>\n<h3 id=\"Áº∫ÁÇπÔºö\"><a href=\"#Áº∫ÁÇπÔºö\" class=\"headerlink\" title=\"Áº∫ÁÇπÔºö\"></a>Áº∫ÁÇπÔºö</h3><ol>\n<li>ËµÑÊ∫êÂç†Áî®Ôºö ÈïøËøûÊé•‰ºöÂç†Áî®ÊúçÂä°Âô®ÂíåÂÆ¢Êà∑Á´ØÁöÑËµÑÊ∫êÔºåÂ∞§ÂÖ∂ÊòØÂú®ËøûÊé•Á©∫Èó≤Êó∂Ôºå‰ºöÊåÅÁª≠Âç†Áî®ËµÑÊ∫êÔºåÂèØËÉΩÂØºËá¥ËµÑÊ∫êÊµ™Ë¥π„ÄÇ</li>\n<li>ÂèØËÉΩÈÄ†ÊàêËµÑÊ∫ê‰∏çË∂≥Ôºö Â¶ÇÊûúÈïøÊó∂Èó¥‰øùÊåÅÂ§ßÈáèÁöÑÈïøËøûÊé•ÔºåÂèØËÉΩ‰ºöËÄóÂ∞ΩÊúçÂä°Âô®ÂíåÂÆ¢Êà∑Á´ØÁöÑËµÑÊ∫êÔºåÂØºËá¥ÊÄßËÉΩ‰∏ãÈôçÁîöËá≥Â¥©Ê∫É„ÄÇ</li>\n</ol>\n<h2 id=\"ÊÄé‰πàÊñ≠ÂºÄËøûÊé•\"><a href=\"#ÊÄé‰πàÊñ≠ÂºÄËøûÊé•\" class=\"headerlink\" title=\"ÊÄé‰πàÊñ≠ÂºÄËøûÊé•\"></a>ÊÄé‰πàÊñ≠ÂºÄËøûÊé•</h2><h3 id=\"ÈÄöËøá-Keep-Alive-Timeout-Ê†áËØÜ\"><a href=\"#ÈÄöËøá-Keep-Alive-Timeout-Ê†áËØÜ\" class=\"headerlink\" title=\"ÈÄöËøá Keep-Alive Timeout Ê†áËØÜ\"></a>ÈÄöËøá Keep-Alive Timeout Ê†áËØÜ</h3><p>keep-alive‰∏ç‰ºöÊ∞∏‰πÖ‰øùÊåÅËøûÊé•ÔºåÂÆÉÊúâ‰∏Ä‰∏™‰øùÊåÅÊó∂Èó¥ÔºåÂèØ‰ª•Âú®‰∏çÂêåÁöÑÊúçÂä°Âô®ËΩØ‰ª∂ÔºàÂ¶ÇApacheÔºâ‰∏≠ËÆæÂÆöËøô‰∏™Êó∂Èó¥„ÄÇÂÆûÁé∞ÈïøËøûÊé•ÈúÄË¶ÅÂÆ¢Êà∑Á´ØÂíåÊúçÂä°Á´ØÈÉΩÊîØÊåÅÈïøËøûÊé•„ÄÇ<br>Keep-AliveÔºöÂ¶ÇÊûúÊµèËßàÂô®ËØ∑Ê±Ç‰øùÊåÅËøûÊé•ÔºåÂàôËØ•Â§¥ÈÉ®Ë°®ÊòéÂ∏åÊúõ WEB ÊúçÂä°Âô®‰øùÊåÅËøûÊé•Â§öÈïøÊó∂Èó¥ÔºàÁßíÔºâ„ÄÇ‰æãÂ¶ÇÔºö</p>\n<figure class=\"highlight http\"><figcaption><span>request</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Keep-Alive:timeout=5</span><br></pre></td></tr></table></figure>\n<p><font color=\"#dd0000\">Ê≥®ÊÑèÔºöMozilla Âíå Konquor ÊµèËßàÂô®ËÉΩËØÜÂà´ ‚ÄúKeep-AliveÔºöTimeout&#x3D;Time‚Äù Êä•Â§¥Â≠óÊÆµÔºåËÄå MSIE Âú®Â§ßÁ∫¶ 60 ÁßíÂÜÖËá™Ë°åÂÖ≥Èó≠‰øùÊ¥ªËøûÊé•„ÄÇ</font></p>\n<h3 id=\"ÈÄöËøá-Connection-close-Ê†áËØÜ\"><a href=\"#ÈÄöËøá-Connection-close-Ê†áËØÜ\" class=\"headerlink\" title=\"ÈÄöËøá Connection close Ê†áËØÜ\"></a>ÈÄöËøá Connection close Ê†áËØÜ</h3><p>ÈÄöÂú® Response Header ‰∏≠Â¢ûÂä†Connection closeÊ†áËØÜÔºåÊù•‰∏ªÂä®ÂëäËØâÂèëÈÄÅÁ´ØÔºåËøûÊé•Â∑≤ÁªèÊñ≠ÂºÄ‰∫ÜÔºå‰∏çËÉΩÂÜçÂ§çÁî®‰∫ÜÔºõÂÆ¢Êà∑Á´ØÊé•Êî∂Âà∞Ê≠§Ê†áÁ§∫ÂêéÔºå‰ºöÈîÄÊØÅËøûÊé•ÔºåÂÜçÊ¨°ËØ∑Ê±ÇÊó∂‰ºöÈáçÊñ∞Âª∫Á´ãËøûÊé•„ÄÇ</p>\n<p>Ê≥®ÊÑèÔºöÈÖçÁΩÆ close ÈÖçÁΩÆÂêéÔºåÂπ∂‰∏çÊòØËØ¥ÊØèÊ¨°ÈÉΩÊñ∞Âª∫ËøûÊé•ÔºåËÄåÊòØÁ∫¶ÂÆöÊ≠§ËøûÊé•ÂèØ‰ª•Áî®Âá†Ê¨°ÔºåËææÂà∞Ëøô‰∏™ÊúÄÂ§ßÊ¨°Êï∞Êó∂ÔºåÊé•Êî∂Á´ØÂ∞±‰ºöËøîÂõû close Ê†áËØÜ</p>\n<h2 id=\"Âä®ÊâãËØï‰∏ÄËØï\"><a href=\"#Âä®ÊâãËØï‰∏ÄËØï\" class=\"headerlink\" title=\"Âä®ÊâãËØï‰∏ÄËØï\"></a>Âä®ÊâãËØï‰∏ÄËØï</h2><p>‰∏∫‰∫ÜÊõ¥Â•ΩÁöÑÁêÜËß£keep-aliveÊòØÊÄé‰πàÁé©ÁöÑÔºåÊàëÂÜô‰∫Ü‰∏Ä‰∏™ÁÆÄÂçïÁöÑ‰æãÂ≠ê</p>\n<ul>\n<li>‰∏ªÂä®Êñ≠ÂºÄËøûÊé•<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[HttpGet]</span><br><span class=\"line\">[ActionTitle(Name = &quot;ÂÖ≥Èó≠ËøûÊé•&quot;)]</span><br><span class=\"line\">[Route(&quot;close.svc&quot;)]</span><br><span class=\"line\">public void Close()</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    Response.Headers.Connection = &quot;close&quot;;</span><br><span class=\"line\">    return;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<img src=\"/images/http/handshake-2.png\" alt=\"‰∏ªÂä®Êñ≠ÂºÄËøûÊé•\"><br>È¶ñÂÖàÔºåÊàë‰ª¨Á¨¨‰∏ÄÊ¨°Ë∞ÉÁî®startÊé•Âè£ÊâìÂºÄËøûÊé•ÔºåÂèØ‰ª•ÁúãÂà∞ÂºÄÂßãÁöÑ‰∏âÊ¨°Êè°Êâã„ÄÇÂêéÁª≠Êàë‰ª¨ÂÜçÊ¨°ÂèëÈÄÅËØ∑Ê±ÇÁöÑÊó∂ÂÄôÔºåÁî±‰∫éËøûÊé•ËøòÊ≤°ÊúâÊñ≠ÂºÄÔºåÊâÄ‰ª•Â∞±‰∏çÂÜçÊúâ‰∏âÊ¨°Êè°ÊâãÁöÑËøáÁ®ã„ÄÇ</li>\n</ul>\n<p>ÁÑ∂ÂêéÔºåÊàë‰ª¨Âèà‰∏ªÂä®Ë∞ÉÁî®‰∫ÜcloseËøô‰∏™Êé•Âè£ÔºåËøô‰∏™Êé•Âè£ËøîÂõûÁöÑÂ§¥ÈÉ®‰ø°ÊÅØ‰∏≠Êê∫Â∏¶‰∫Ü‚Äúconnection: close‚ÄùÔºåÂëäËØâÊµèËßàÂô®Ë¶ÅÂÖ≥Èó≠ËøûÊé•„ÄÇÂõ†Ê≠§Âú®Ê≠§‰πãÂêéÊàë‰ª¨Á´ãÈ©¨Â∞±ÁúãÂà∞‰∫Ü4Ê¨°Êå•Êâã„ÄÇ</p>\n<ul>\n<li><p>Ë∂ÖÊó∂Êñ≠ÂºÄËøûÊé•(Mozilla)</p>\n<figure class=\"highlight c#\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[<span class=\"meta\">HttpGet</span>]</span><br><span class=\"line\">[<span class=\"meta\">ActionTitle(Name = <span class=\"string\">&quot;ÂºÄÂêØËøûÊé•&quot;</span>)</span>]</span><br><span class=\"line\">[<span class=\"meta\">Route(<span class=\"string\">&quot;start.svc&quot;</span>)</span>]</span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">Start</span>()</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    Response.Headers.KeepAlive = <span class=\"string\">&quot;timeout=10, max=3&quot;</span>;</span><br><span class=\"line\">    <span class=\"keyword\">return</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p><img src=\"/images/http/timeout-auto-disconnect.png\" alt=\"‰∏ªÂä®Êñ≠ÂºÄËøûÊé•\"><br>Âú®ÊúçÂä°Á´ØËÆæÁΩÆ10sË∂ÖÊó∂„ÄÇÁ¨¨‰∏ÄÊ¨°‰∏ªÂä®ÊâìÂºÄËøûÊé•Ôºå‰πãÂêéÊàë‰ª¨‰∏çÂÜçËøõË°åËØ∑Ê±ÇÔºå10s‰πãÂêéËøûÊé•Ëá™Âä®Êñ≠ÂºÄ„ÄÇ</p>\n</li>\n<li><p>Ë¢´Âä®Êñ≠ÂºÄËøûÊé•<br><img src=\"/images/http/auto-disconnect.png\" alt=\"‰∏ªÂä®Êñ≠ÂºÄËøûÊé•\"><br>‰∏äÂõæÂèØ‰ª•ÁúãÂà∞ÔºåÊàë‰ª¨Á¨¨‰∏ÄÊ¨°‰∏ªÂä®ÊâìÂºÄËøûÊé•„ÄÇ‰πãÂêéÊàë‰ª¨‰∏çÂÜçËøõË°åËØ∑Ê±ÇÔºå‰∏ÄÊÆµÊó∂Èó¥‰πãÂêéËøûÊé•Ëá™Âä®Êñ≠ÂºÄ„ÄÇ</p>\n</li>\n</ul>\n<p><strong>ÂàÜÊûê‰∏äÂõæÊµÅÁ®ã</strong></p>\n<ul>\n<li>È¶ñÂÖàÔºö10.21.21.6ÔºàÊú¨Êú∫ipÔºâÁéáÂÖàÂêëÊúçÂä°Á´Ø ÂèëËµ∑‰∫Ü Keep-Alive Êä•Êñá</li>\n<li>ÊúçÂä°Á´Ø‰ºöËøõË°å Keep-Alive ACK</li>\n<li>ËßÑÂæãÊòØ ÂÆ¢Êà∑Á´Ø‰∏ÄÁõ¥Âú®ÂèëÈÄÅ Keep-Alive ÔºåÊúçÂä°Á´ØÂë¢Ôºå‰∏ÄÁõ¥Âú® Keep-Alive ACKÔºå‰∏î Seq Âíå Ack ‰∏ÄÁõ¥Ê≤°ÊúâÂèò</li>\n<li>Â§ßÊ¶ÇËøá‰∫Ü 5min ÊúçÂä°Á´ØÁéáÂÖàÂèëËµ∑ FIN ACK ËøõÂÖ• ËøõÂÖ•Êå•Êâã Êñ≠ÂºÄËøûÊé•Èò∂ÊÆµ</li>\n</ul>\n<p><strong>ÁåúÊÉ≥</strong></p>\n<ul>\n<li>ÂÆ¢Êà∑Á´Ø TCP Âú®Ê≤°ÊúâÊï∞ÊçÆÊµÅÈÄöÊó∂ÊúâËá™Â∑±ÁöÑÊé¢Ê¥ªÊú∫Âà∂ÔºåÁî±ÂÆ¢Êà∑Á´Ø‰∏äÊä• Keep-Alive Êä•ÊñáÔºåÊúçÂä°Á´Ø ACK ÔºåÂèåÊñπÁ°ÆËÆ§ÂΩºÊ≠§Ê¥ªÁùÄ„ÄÇ</li>\n<li>Êé¢Ê¥ªÊúâÊó∂Èó¥ÈôêÂà∂ÔºåË∂ÖËøáÈôêÂÆöÊó∂Èó¥ÔºåÂ¶ÇÊûú‰∏ÄÁõ¥Ê≤°ÊúâÊï∞ÊçÆ‰∫§Êç¢ÔºåÂç≥‰ΩøÊé¢Ê¥ªÂøÉË∑≥Ê≠£Â∏∏Ôºå‰πü‰ºöËøõË°åÊå•ÊâãÊñ≠ËøûÔºåÈáäÊîæËµÑÊ∫ê„ÄÇ</li>\n</ul>\n<h2 id=\"TCP-Keep-Alive-Êú∫Âà∂\"><a href=\"#TCP-Keep-Alive-Êú∫Âà∂\" class=\"headerlink\" title=\"TCP  Keep-Alive Êú∫Âà∂\"></a>TCP  Keep-Alive Êú∫Âà∂</h2><blockquote>\n<ul>\n<li>TCP Keep-Alive Âπ∂‰∏çÊòØ TCP Ê†áÂáÜÁöÑ‰∏ÄÈÉ®ÂàÜÔºåËÄåÊòØÁî±ÂçèËÆÆÊ†àÂÆûÁé∞ËÄÖËøõË°åÊãìÂ±ïÂÆûÁé∞Ôºå‰∏ªÊµÅÊìç‰ΩúÁ≥ªÁªü Linux„ÄÅWindows„ÄÅMacOS ÈÉΩËøõË°å‰∫ÜÂØπÂ∫îÁöÑÂÆûÁé∞„ÄÇ </li>\n<li>TCP Keep-Alive Êä•ÊñáÊòØÁî±Êìç‰ΩúÁ≥ªÁªüÊàñÁΩëÁªúÂ∫ìÂÆûÁé∞ÁöÑÔºåËÄå‰∏çÊòØÁî±ÁâπÂÆöÁöÑÂ∫îÁî®Á®ãÂ∫èÔºàÂ¶ÇÊµèËßàÂô®ÊàñHTTPÂÆ¢Êà∑Á´ØÂ∫ìÔºâÁõ¥Êé•ÂèëÈÄÅÁöÑ„ÄÇÂÆÉÊòØ‰∏ÄÁßçÁΩëÁªúÂ±ÇÁöÑÂäüËÉΩÔºåÁî®‰∫éÁª¥ÊåÅ‰∏§‰∏™ÁΩëÁªúËÆæÂ§á‰πãÈó¥ÁöÑËøûÊé•Áä∂ÊÄÅ„ÄÇËøô‰∏™Êú∫Âà∂Âú®TCPÂçèËÆÆ‰∏≠ÂÆö‰πâÔºåÂÖÅËÆ∏‰∏ÄÊñπÂú®‰∏ÄÂÆöÊó∂Èó¥ÂÜÖÊ≤°ÊúâÊî∂Âà∞Êï∞ÊçÆÊó∂ÂèëÈÄÅÊé¢ÊµãÂåÖÔºå‰ª•Á°ÆËÆ§ËøûÊé•ÁöÑÂè¶‰∏ÄÁ´ØÊòØÂê¶‰ªçÁÑ∂ÂèØËææ„ÄÇ </li>\n<li>Âú®WindowsÊìç‰ΩúÁ≥ªÁªü‰∏≠ÔºåËøôÈÄöÂ∏∏ÈÄöËøáÂèëÈÄÅTCP Keep-AliveÊé¢ÊµãÂåÖÊù•ÂÆûÁé∞ÔºåËøô‰∫õÊé¢ÊµãÂåÖÊòØÁî±Êìç‰ΩúÁ≥ªÁªüÁöÑÁΩëÁªúÂ†ÜÊ†àËá™Âä®ÂèëÈÄÅÁöÑ„ÄÇ</li>\n</ul>\n</blockquote>\n<p>‰ª•‰∏ãÊòØ‰∏Ä‰∫õÂèØËÉΩÂèëÈÄÅTCP Keep-AliveÊä•ÊñáÁöÑÂÆû‰ΩìÔºö</p>\n<ol>\n<li>Êìç‰ΩúÁ≥ªÁªüÁΩëÁªúÂ†ÜÊ†àÔºöÂ§ßÂ§öÊï∞Áé∞‰ª£Êìç‰ΩúÁ≥ªÁªüÈÉΩ‰ºöÂÆûÁé∞TCP Keep-AliveÂäüËÉΩ„ÄÇ‰æãÂ¶ÇÔºåÂú®Windows‰∏≠ÔºåÂèØ‰ª•ÈÄöËøáÊ≥®ÂÜåË°®ËÆæÁΩÆÊàñ‰ΩøÁî®netshÂëΩ‰ª§Êù•ÈÖçÁΩÆTCP Keep-AliveÂèÇÊï∞„ÄÇ</li>\n<li>ÁΩëÁªúÂ∫ìÔºöÊüê‰∫õÁºñÁ®ãËØ≠Ë®ÄÁöÑÁΩëÁªúÂ∫ìÂèØËÉΩÂÆûÁé∞‰∫ÜËá™Â∑±ÁöÑKeep-AliveÈÄªËæë„ÄÇ‰æãÂ¶ÇÔºåJavaÁöÑHttpURLConnectionÊàñC#ÁöÑHttpClientÂèØËÉΩ‰ºöÂú®Â∫ïÂ±ÇTCPËøûÊé•‰∏äÂêØÁî®Keep-Alive„ÄÇ</li>\n<li>ÊµèËßàÂô®ÔºöËôΩÁÑ∂ÊµèËßàÂô®ÂèØËÉΩ‰∏ç‰ºöÂú®Ê≤°ÊúâHTTPËØ∑Ê±ÇÁöÑÊÉÖÂÜµ‰∏ãÂèëÈÄÅKeep-AliveÊä•ÊñáÔºå‰ΩÜÂÆÉ‰ª¨ÂèØËÉΩ‰ºöÂÆöÊúüÂèëÈÄÅHTTP&#x2F;1.1ÂçèËÆÆ‰∏≠ÁöÑKeep-AliveÂ§¥ÈÉ®ÔºåËøôÊòØ‰∏ÄÁßçÂ∫îÁî®Â±ÇÁöÑÊú∫Âà∂ÔºåÁî®‰∫éÁª¥ÊåÅHTTPËøûÊé•ÁöÑÊ¥ªË∑ÉÁä∂ÊÄÅ„ÄÇ</li>\n<li>ÂÖ∂‰ªñÁΩëÁªúÂ∫îÁî®Á®ãÂ∫èÔºö‰ªª‰Ωï‰ΩøÁî®TCPËøûÊé•ÁöÑÂ∫îÁî®Á®ãÂ∫èÈÉΩÂèØËÉΩÂÆûÁé∞Ëá™Â∑±ÁöÑKeep-AliveÈÄªËæëÔºå‰ª•Á°Æ‰øùËøûÊé•ÁöÑÊåÅÁª≠ÊÄß„ÄÇ</li>\n</ol>\n<h2 id=\"ÁªìËØ≠\"><a href=\"#ÁªìËØ≠\" class=\"headerlink\" title=\"ÁªìËØ≠\"></a>ÁªìËØ≠</h2><p>HTTP Connection Â§¥ÊòØ HTTP ÂçèËÆÆ‰∏≠ÈùûÂ∏∏ÈáçË¶ÅÁöÑÂ§¥ÈÉ®Â≠óÊÆµ‰πã‰∏ÄÔºåÂÆÉÊéßÂà∂ÁùÄÂÆ¢Êà∑Á´ØÂíåÊúçÂä°Âô®‰πãÈó¥ÁöÑËøûÊé•Ë°å‰∏∫ÔºåÁõ¥Êé•ÂΩ±ÂìçÁùÄÈÄö‰ø°ÁöÑÊïàÁéáÂíåÊÄßËÉΩ„ÄÇÂú®ÂÆûÈôÖÂºÄÂèë‰∏≠ÔºåÂêàÁêÜ‰ΩøÁî® HTTP Connection Â§¥ÂèØ‰ª•ÊúâÊïàÂú∞ÁÆ°ÁêÜÁΩëÁªúËµÑÊ∫êÔºåÊèêÈ´òÈÄö‰ø°ÁöÑÊïàÁéá„ÄÇÂ∏åÊúõÊú¨ÊñáËÉΩÂ§üÂ∏ÆÂä©ËØªËÄÖÊõ¥Ê∑±ÂÖ•Âú∞ÁêÜËß£ HTTP Connection Â§¥ÁöÑ‰ΩúÁî®ÂíåÁî®Ê≥ïÔºåÂπ∂Âú®ÂÆûÈôÖÂºÄÂèë‰∏≠Âä†‰ª•Â∫îÁî®„ÄÇ</p>\n<p>Êõ¥Â§ö‰∏ÄÊâãËÆØÊÅØÔºåÂèØÂÖ≥Ê≥®ÂÖ¨‰ºóÂè∑Ôºö<a href=\"https://myom-dev.oss-cn-hangzhou.aliyuncs.com/WechatPublicPlatformQrCode.jpg\">ITProHub</a></p>\n<p><img src=\"https://myom-dev.oss-cn-hangzhou.aliyuncs.com/WechatPublicPlatformQrCode.jpg\" alt=\"ITProHub\"></p>\n","site":{"data":{}},"excerpt":"","more":"<p>HTTP Connection Â§¥ÊòØ HTTP ÂçèËÆÆ‰∏≠ÁöÑ‰∏Ä‰∏™ÈáçË¶ÅÂ§¥ÈÉ®Â≠óÊÆµÔºåÂÆÉÁî®‰∫éÊéßÂà∂ÂÆ¢Êà∑Á´ØÂíåÊúçÂä°Âô®‰πãÈó¥ÁöÑËøûÊé•Ë°å‰∏∫„ÄÇÂú®Êú¨Êñá‰∏≠ÔºåÊàë‰ª¨Â∞ÜÊ∑±ÂÖ•Êé¢ËÆ® HTTP Connection Â§¥ÈÉ®ÁöÑ‰ΩúÁî®„ÄÅÁî®Ê≥ïÔºåÂπ∂ÁªìÂêàÂÆûÈôÖÂºÄÂèëÊ°à‰æãÂ±ïÁ§∫ÂÖ∂Âú®Â∫îÁî®Á®ãÂ∫èÂºÄÂèë‰∏≠ÁöÑÂ∫îÁî®„ÄÇ</p>\n<p>Âú®ÂºÄÂßãÊú¨ÊñáÁöÑÈòÖËØª‰πãÂâçÔºåÈªòËÆ§Â±èÂπïÂâçÁöÑËÄÅÈìÅÂ∑≤ÁªèÂØπHTTPÊúâ‰∫ÜÂü∫Á°ÄÁöÑËÆ§ËØÜ„ÄÇÂ¶ÇÊûú‰∏çÊòØÔºåËØ∑ÁßªÊ≠•Â≠¶‰π†<a href=\"https://zh.wikipedia.org/wiki/%E8%B6%85%E6%96%87%E6%9C%AC%E4%BC%A0%E8%BE%93%E5%8D%8F%E8%AE%AE#\">Ë∂ÖÊñáÊú¨‰º†ËæìÂçèËÆÆ</a></p>\n<h2 id=\"‰ΩúÁî®‰∏éËØ≠Ê≥ï\"><a href=\"#‰ΩúÁî®‰∏éËØ≠Ê≥ï\" class=\"headerlink\" title=\"‰ΩúÁî®‰∏éËØ≠Ê≥ï\"></a>‰ΩúÁî®‰∏éËØ≠Ê≥ï</h2><p>HTTP ConnectionÂ§¥ÊòØÈÄöÁî®Á±ªÂûãÊ†áÂ§¥ÔºåÂÖÅËÆ∏ÂèëÈÄÅÊñπÊàñÂÆ¢Êà∑Á´ØÊåáÂÆöËØ•ÁâπÂÆöËøûÊé•ÊâÄÈúÄÁöÑÈÄâÈ°π„ÄÇConnection Â∏ÆÂä©‰ΩøÁî®Âçï‰∏™ TCP ËøûÊé•ÂèëÈÄÅÊàñÊé•Êî∂Â§ö‰∏™ HTTP ËØ∑Ê±Ç&#x2F;ÂìçÂ∫îÔºåËÄå‰∏çÊòØ‰∏∫ÊØè‰∏™ËØ∑Ê±Ç&#x2F;ÂìçÂ∫îÊâìÂºÄ‰∏Ä‰∏™Êñ∞ËøûÊé•„ÄÇÂÆÉËøòÊéßÂà∂ÂΩìÂâç‰∫ãÂä°ÂÆåÊàêÂêéÁΩëÁªúÊòØÂê¶‰øùÊåÅÊâìÂºÄÊàñÂÖ≥Èó≠Áä∂ÊÄÅ„ÄÇ</p>\n<h3 id=\"ËØ≠Ê≥ï\"><a href=\"#ËØ≠Ê≥ï\" class=\"headerlink\" title=\"ËØ≠Ê≥ï\"></a>ËØ≠Ê≥ï</h3><figure class=\"highlight http\"><figcaption><span>request</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attribute\">Connection</span><span class=\"punctuation\">: </span>keep-alive</span><br><span class=\"line\"><span class=\"attribute\">Connection</span><span class=\"punctuation\">: </span>close</span><br></pre></td></tr></table></figure>\n\n<p>HTTP ConnectionÂ§¥Êé•Âèó‰∏äÈù¢ÊèêÂà∞ÁöÑ‰∏§‰∏™Êåá‰ª§ÔºåÂπ∂Â¶Ç‰∏ãÊâÄËø∞Ôºö</p>\n<ul>\n<li>keep-aliveËØ•Êåá‰ª§Ë°®ÊòéÂÆ¢Êà∑Á´ØÂú®ÂèëÈÄÅÂìçÂ∫îÊ∂àÊÅØÂêéÂ∏åÊúõ‰øùÊåÅËøûÊé•ÊâìÂºÄÊàñÊ¥ªÂä®„ÄÇÂú® HTTP 1.1 ÁâàÊú¨‰∏≠ÔºåÈªòËÆ§ÊÉÖÂÜµ‰∏ã‰ΩøÁî®ÊåÅ‰πÖËøûÊé•ÔºåËØ•ËøûÊé•Âú®‰∫ãÂä°Âêé‰∏ç‰ºöËá™Âä®ÂÖ≥Èó≠„ÄÇ‰ΩÜHTTP 1.0‰∏ç‰ºöÂ∞ÜËøûÊé•ËßÜ‰∏∫ÊåÅ‰πÖËøûÊé•ÔºåÂõ†Ê≠§Â¶ÇÊûúË¶Å‰øùÊåÅËøûÊé•Â§Ñ‰∫éÊ¥ªÂä®Áä∂ÊÄÅÔºåÂàôÈúÄË¶ÅÂåÖÂê´‰∏Ä‰∏™‰øùÊåÅÊ¥ªÂä®ËøûÊé•Ê†áÂ§¥„ÄÇ</li>\n<li>closeËøô‰∏™ÂÖ≥Èó≠ËøûÊé•Êåá‰ª§Ë°®ÊòéÂÆ¢Êà∑Á´ØÂú®ÂèëÈÄÅÂìçÂ∫îÊ∂àÊÅØÂêéÊÉ≥Ë¶ÅÂÖ≥Èó≠ËøûÊé•„ÄÇÂú® HTTP 1.0 ‰∏≠ÔºåÈªòËÆ§ÊÉÖÂÜµ‰∏ãËøûÊé•‰ºöÂÖ≥Èó≠„ÄÇ‰ΩÜÂú® HTTP 1.1 ‰∏≠ÔºåÂ¶ÇÊûúÊÇ®Â∏åÊúõÂÖ≥Èó≠ËøûÊé•ÔºåÂàôÈúÄË¶ÅÂ∞ÜÂÖ∂ÂåÖÂê´Âú®Ê†áÂ§¥‰∏≠„ÄÇ</li>\n</ul>\n<p>Http1.1 ‰ª•ÂêéÔºåKeep-AliveÂ∑≤ÁªèÈªòËÆ§ÊîØÊåÅÂπ∂ÂºÄÂêØ„ÄÇÂÆ¢Êà∑Á´ØÔºàÂåÖÊã¨‰ΩÜ‰∏çÈôê‰∫éÊµèËßàÂô®ÔºâÂèëÈÄÅËØ∑Ê±ÇÊó∂‰ºöÂú® Header ‰∏≠Â¢ûÂä†‰∏Ä‰∏™ËØ∑Ê±ÇÂ§¥Connection: Keep-AliveÔºåÂΩìÊúçÂä°Âô®Êî∂Âà∞ÈôÑÂ∏¶ÊúâConnection: Keep-AliveÁöÑËØ∑Ê±ÇÊó∂Ôºå‰πü‰ºöÂú®ÂìçÂ∫îÂ§¥‰∏≠Ê∑ªÂä† Keep-Alive„ÄÇËøôÊ†∑‰∏ÄÊù•ÔºåÂÆ¢Êà∑Á´ØÂíåÊúçÂä°Âô®‰πãÈó¥ÁöÑ HTTP ËøûÊé•Â∞±‰ºöË¢´‰øùÊåÅÔºå‰∏ç‰ºöÊñ≠ÂºÄÔºàÊñ≠ÂºÄÊñπÂºè‰∏ãÈù¢‰ªãÁªçÔºâÔºåÂΩìÂÆ¢Êà∑Á´ØÂèëÈÄÅÂè¶Â§ñ‰∏Ä‰∏™ËØ∑Ê±ÇÊó∂ÔºåÂ∞±ÂèØ‰ª•Â§çÁî®Â∑≤Âª∫Á´ãÁöÑËøûÊé•„ÄÇ</p>\n<p><em>‰øùÊåÅËøûÊé•Âíå‰∏ç‰øùÊåÅËøûÊé•Âå∫Âà´ÂèØ‰ª•ÂèÇËÄÉ‰∏ãÈù¢ÁöÑÂõæ</em><br><img src=\"/images/http/perisitent-connection.png\" alt=\"handshake\"></p>\n<h2 id=\"Keep-AliveÁöÑ‰ºòÁº∫ÁÇπ\"><a href=\"#Keep-AliveÁöÑ‰ºòÁº∫ÁÇπ\" class=\"headerlink\" title=\"Keep-AliveÁöÑ‰ºòÁº∫ÁÇπ\"></a>Keep-AliveÁöÑ‰ºòÁº∫ÁÇπ</h2><p>keep-alive Ëøô‰πàÂÆåÁæé‰πàÔºü</p>\n<h3 id=\"‰ºòÁÇπÔºö\"><a href=\"#‰ºòÁÇπÔºö\" class=\"headerlink\" title=\"‰ºòÁÇπÔºö\"></a>‰ºòÁÇπÔºö</h3><ol>\n<li>ÂáèÂ∞ëËøûÊé•Âª∫Á´ãÂíåÊñ≠ÂºÄÁöÑÂºÄÈîÄÔºö ‰ΩøÁî®ÈïøËøûÊé•ÂèØ‰ª•ÈÅøÂÖçÂú®ÊØèÊ¨°ËØ∑Ê±ÇÊó∂ÈÉΩÈáçÊñ∞Âª∫Á´ãËøûÊé•Ôºå‰ªéËÄåÂáèÂ∞ë‰∫ÜËøûÊé•Âª∫Á´ãÂíåÊñ≠ÂºÄÁöÑÊó∂Èó¥ÂíåÂºÄÈîÄ„ÄÇ</li>\n<li>ÂáèÂ∞ëÁΩëÁªúÂª∂ËøüÔºö Áî±‰∫éËøûÊé•Â∑≤ÁªèÂª∫Á´ãÔºåÂèØ‰ª•Áõ¥Êé•ËøõË°åÊï∞ÊçÆ‰º†ËæìÔºå‰∏çÈúÄË¶ÅÁ≠âÂæÖËøûÊé•ÁöÑÂª∫Á´ãËøáÁ®ãÔºå‰ªéËÄåÂáèÂ∞ë‰∫ÜÁΩëÁªúÂª∂ËøüÔºåÊèêÈ´ò‰∫ÜÊï∞ÊçÆ‰º†ËæìÊïàÁéá„ÄÇ</li>\n<li>ÊèêÈ´òÊÄßËÉΩÔºö ÈïøËøûÊé•ÂèØ‰ª•ÂÆûÁé∞ËøûÊé•ÁöÑÂ§çÁî®ÔºåÂ§ö‰∏™ËØ∑Ê±ÇÂèØ‰ª•ÂÖ±‰∫´Âêå‰∏Ä‰∏™ËøûÊé•Ôºå‰ªéËÄåÂáèÂ∞ë‰∫ÜÊúçÂä°Âô®ÁöÑË¥üÊãÖÔºåÊèêÈ´ò‰∫ÜÁ≥ªÁªüÁöÑÊï¥‰ΩìÊÄßËÉΩ„ÄÇ</li>\n</ol>\n<h3 id=\"Áº∫ÁÇπÔºö\"><a href=\"#Áº∫ÁÇπÔºö\" class=\"headerlink\" title=\"Áº∫ÁÇπÔºö\"></a>Áº∫ÁÇπÔºö</h3><ol>\n<li>ËµÑÊ∫êÂç†Áî®Ôºö ÈïøËøûÊé•‰ºöÂç†Áî®ÊúçÂä°Âô®ÂíåÂÆ¢Êà∑Á´ØÁöÑËµÑÊ∫êÔºåÂ∞§ÂÖ∂ÊòØÂú®ËøûÊé•Á©∫Èó≤Êó∂Ôºå‰ºöÊåÅÁª≠Âç†Áî®ËµÑÊ∫êÔºåÂèØËÉΩÂØºËá¥ËµÑÊ∫êÊµ™Ë¥π„ÄÇ</li>\n<li>ÂèØËÉΩÈÄ†ÊàêËµÑÊ∫ê‰∏çË∂≥Ôºö Â¶ÇÊûúÈïøÊó∂Èó¥‰øùÊåÅÂ§ßÈáèÁöÑÈïøËøûÊé•ÔºåÂèØËÉΩ‰ºöËÄóÂ∞ΩÊúçÂä°Âô®ÂíåÂÆ¢Êà∑Á´ØÁöÑËµÑÊ∫êÔºåÂØºËá¥ÊÄßËÉΩ‰∏ãÈôçÁîöËá≥Â¥©Ê∫É„ÄÇ</li>\n</ol>\n<h2 id=\"ÊÄé‰πàÊñ≠ÂºÄËøûÊé•\"><a href=\"#ÊÄé‰πàÊñ≠ÂºÄËøûÊé•\" class=\"headerlink\" title=\"ÊÄé‰πàÊñ≠ÂºÄËøûÊé•\"></a>ÊÄé‰πàÊñ≠ÂºÄËøûÊé•</h2><h3 id=\"ÈÄöËøá-Keep-Alive-Timeout-Ê†áËØÜ\"><a href=\"#ÈÄöËøá-Keep-Alive-Timeout-Ê†áËØÜ\" class=\"headerlink\" title=\"ÈÄöËøá Keep-Alive Timeout Ê†áËØÜ\"></a>ÈÄöËøá Keep-Alive Timeout Ê†áËØÜ</h3><p>keep-alive‰∏ç‰ºöÊ∞∏‰πÖ‰øùÊåÅËøûÊé•ÔºåÂÆÉÊúâ‰∏Ä‰∏™‰øùÊåÅÊó∂Èó¥ÔºåÂèØ‰ª•Âú®‰∏çÂêåÁöÑÊúçÂä°Âô®ËΩØ‰ª∂ÔºàÂ¶ÇApacheÔºâ‰∏≠ËÆæÂÆöËøô‰∏™Êó∂Èó¥„ÄÇÂÆûÁé∞ÈïøËøûÊé•ÈúÄË¶ÅÂÆ¢Êà∑Á´ØÂíåÊúçÂä°Á´ØÈÉΩÊîØÊåÅÈïøËøûÊé•„ÄÇ<br>Keep-AliveÔºöÂ¶ÇÊûúÊµèËßàÂô®ËØ∑Ê±Ç‰øùÊåÅËøûÊé•ÔºåÂàôËØ•Â§¥ÈÉ®Ë°®ÊòéÂ∏åÊúõ WEB ÊúçÂä°Âô®‰øùÊåÅËøûÊé•Â§öÈïøÊó∂Èó¥ÔºàÁßíÔºâ„ÄÇ‰æãÂ¶ÇÔºö</p>\n<figure class=\"highlight http\"><figcaption><span>request</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Keep-Alive:timeout=5</span><br></pre></td></tr></table></figure>\n<p><font color=\"#dd0000\">Ê≥®ÊÑèÔºöMozilla Âíå Konquor ÊµèËßàÂô®ËÉΩËØÜÂà´ ‚ÄúKeep-AliveÔºöTimeout&#x3D;Time‚Äù Êä•Â§¥Â≠óÊÆµÔºåËÄå MSIE Âú®Â§ßÁ∫¶ 60 ÁßíÂÜÖËá™Ë°åÂÖ≥Èó≠‰øùÊ¥ªËøûÊé•„ÄÇ</font></p>\n<h3 id=\"ÈÄöËøá-Connection-close-Ê†áËØÜ\"><a href=\"#ÈÄöËøá-Connection-close-Ê†áËØÜ\" class=\"headerlink\" title=\"ÈÄöËøá Connection close Ê†áËØÜ\"></a>ÈÄöËøá Connection close Ê†áËØÜ</h3><p>ÈÄöÂú® Response Header ‰∏≠Â¢ûÂä†Connection closeÊ†áËØÜÔºåÊù•‰∏ªÂä®ÂëäËØâÂèëÈÄÅÁ´ØÔºåËøûÊé•Â∑≤ÁªèÊñ≠ÂºÄ‰∫ÜÔºå‰∏çËÉΩÂÜçÂ§çÁî®‰∫ÜÔºõÂÆ¢Êà∑Á´ØÊé•Êî∂Âà∞Ê≠§Ê†áÁ§∫ÂêéÔºå‰ºöÈîÄÊØÅËøûÊé•ÔºåÂÜçÊ¨°ËØ∑Ê±ÇÊó∂‰ºöÈáçÊñ∞Âª∫Á´ãËøûÊé•„ÄÇ</p>\n<p>Ê≥®ÊÑèÔºöÈÖçÁΩÆ close ÈÖçÁΩÆÂêéÔºåÂπ∂‰∏çÊòØËØ¥ÊØèÊ¨°ÈÉΩÊñ∞Âª∫ËøûÊé•ÔºåËÄåÊòØÁ∫¶ÂÆöÊ≠§ËøûÊé•ÂèØ‰ª•Áî®Âá†Ê¨°ÔºåËææÂà∞Ëøô‰∏™ÊúÄÂ§ßÊ¨°Êï∞Êó∂ÔºåÊé•Êî∂Á´ØÂ∞±‰ºöËøîÂõû close Ê†áËØÜ</p>\n<h2 id=\"Âä®ÊâãËØï‰∏ÄËØï\"><a href=\"#Âä®ÊâãËØï‰∏ÄËØï\" class=\"headerlink\" title=\"Âä®ÊâãËØï‰∏ÄËØï\"></a>Âä®ÊâãËØï‰∏ÄËØï</h2><p>‰∏∫‰∫ÜÊõ¥Â•ΩÁöÑÁêÜËß£keep-aliveÊòØÊÄé‰πàÁé©ÁöÑÔºåÊàëÂÜô‰∫Ü‰∏Ä‰∏™ÁÆÄÂçïÁöÑ‰æãÂ≠ê</p>\n<ul>\n<li>‰∏ªÂä®Êñ≠ÂºÄËøûÊé•<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[HttpGet]</span><br><span class=\"line\">[ActionTitle(Name = &quot;ÂÖ≥Èó≠ËøûÊé•&quot;)]</span><br><span class=\"line\">[Route(&quot;close.svc&quot;)]</span><br><span class=\"line\">public void Close()</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    Response.Headers.Connection = &quot;close&quot;;</span><br><span class=\"line\">    return;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<img src=\"/images/http/handshake-2.png\" alt=\"‰∏ªÂä®Êñ≠ÂºÄËøûÊé•\"><br>È¶ñÂÖàÔºåÊàë‰ª¨Á¨¨‰∏ÄÊ¨°Ë∞ÉÁî®startÊé•Âè£ÊâìÂºÄËøûÊé•ÔºåÂèØ‰ª•ÁúãÂà∞ÂºÄÂßãÁöÑ‰∏âÊ¨°Êè°Êâã„ÄÇÂêéÁª≠Êàë‰ª¨ÂÜçÊ¨°ÂèëÈÄÅËØ∑Ê±ÇÁöÑÊó∂ÂÄôÔºåÁî±‰∫éËøûÊé•ËøòÊ≤°ÊúâÊñ≠ÂºÄÔºåÊâÄ‰ª•Â∞±‰∏çÂÜçÊúâ‰∏âÊ¨°Êè°ÊâãÁöÑËøáÁ®ã„ÄÇ</li>\n</ul>\n<p>ÁÑ∂ÂêéÔºåÊàë‰ª¨Âèà‰∏ªÂä®Ë∞ÉÁî®‰∫ÜcloseËøô‰∏™Êé•Âè£ÔºåËøô‰∏™Êé•Âè£ËøîÂõûÁöÑÂ§¥ÈÉ®‰ø°ÊÅØ‰∏≠Êê∫Â∏¶‰∫Ü‚Äúconnection: close‚ÄùÔºåÂëäËØâÊµèËßàÂô®Ë¶ÅÂÖ≥Èó≠ËøûÊé•„ÄÇÂõ†Ê≠§Âú®Ê≠§‰πãÂêéÊàë‰ª¨Á´ãÈ©¨Â∞±ÁúãÂà∞‰∫Ü4Ê¨°Êå•Êâã„ÄÇ</p>\n<ul>\n<li><p>Ë∂ÖÊó∂Êñ≠ÂºÄËøûÊé•(Mozilla)</p>\n<figure class=\"highlight c#\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[<span class=\"meta\">HttpGet</span>]</span><br><span class=\"line\">[<span class=\"meta\">ActionTitle(Name = <span class=\"string\">&quot;ÂºÄÂêØËøûÊé•&quot;</span>)</span>]</span><br><span class=\"line\">[<span class=\"meta\">Route(<span class=\"string\">&quot;start.svc&quot;</span>)</span>]</span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">Start</span>()</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    Response.Headers.KeepAlive = <span class=\"string\">&quot;timeout=10, max=3&quot;</span>;</span><br><span class=\"line\">    <span class=\"keyword\">return</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p><img src=\"/images/http/timeout-auto-disconnect.png\" alt=\"‰∏ªÂä®Êñ≠ÂºÄËøûÊé•\"><br>Âú®ÊúçÂä°Á´ØËÆæÁΩÆ10sË∂ÖÊó∂„ÄÇÁ¨¨‰∏ÄÊ¨°‰∏ªÂä®ÊâìÂºÄËøûÊé•Ôºå‰πãÂêéÊàë‰ª¨‰∏çÂÜçËøõË°åËØ∑Ê±ÇÔºå10s‰πãÂêéËøûÊé•Ëá™Âä®Êñ≠ÂºÄ„ÄÇ</p>\n</li>\n<li><p>Ë¢´Âä®Êñ≠ÂºÄËøûÊé•<br><img src=\"/images/http/auto-disconnect.png\" alt=\"‰∏ªÂä®Êñ≠ÂºÄËøûÊé•\"><br>‰∏äÂõæÂèØ‰ª•ÁúãÂà∞ÔºåÊàë‰ª¨Á¨¨‰∏ÄÊ¨°‰∏ªÂä®ÊâìÂºÄËøûÊé•„ÄÇ‰πãÂêéÊàë‰ª¨‰∏çÂÜçËøõË°åËØ∑Ê±ÇÔºå‰∏ÄÊÆµÊó∂Èó¥‰πãÂêéËøûÊé•Ëá™Âä®Êñ≠ÂºÄ„ÄÇ</p>\n</li>\n</ul>\n<p><strong>ÂàÜÊûê‰∏äÂõæÊµÅÁ®ã</strong></p>\n<ul>\n<li>È¶ñÂÖàÔºö10.21.21.6ÔºàÊú¨Êú∫ipÔºâÁéáÂÖàÂêëÊúçÂä°Á´Ø ÂèëËµ∑‰∫Ü Keep-Alive Êä•Êñá</li>\n<li>ÊúçÂä°Á´Ø‰ºöËøõË°å Keep-Alive ACK</li>\n<li>ËßÑÂæãÊòØ ÂÆ¢Êà∑Á´Ø‰∏ÄÁõ¥Âú®ÂèëÈÄÅ Keep-Alive ÔºåÊúçÂä°Á´ØÂë¢Ôºå‰∏ÄÁõ¥Âú® Keep-Alive ACKÔºå‰∏î Seq Âíå Ack ‰∏ÄÁõ¥Ê≤°ÊúâÂèò</li>\n<li>Â§ßÊ¶ÇËøá‰∫Ü 5min ÊúçÂä°Á´ØÁéáÂÖàÂèëËµ∑ FIN ACK ËøõÂÖ• ËøõÂÖ•Êå•Êâã Êñ≠ÂºÄËøûÊé•Èò∂ÊÆµ</li>\n</ul>\n<p><strong>ÁåúÊÉ≥</strong></p>\n<ul>\n<li>ÂÆ¢Êà∑Á´Ø TCP Âú®Ê≤°ÊúâÊï∞ÊçÆÊµÅÈÄöÊó∂ÊúâËá™Â∑±ÁöÑÊé¢Ê¥ªÊú∫Âà∂ÔºåÁî±ÂÆ¢Êà∑Á´Ø‰∏äÊä• Keep-Alive Êä•ÊñáÔºåÊúçÂä°Á´Ø ACK ÔºåÂèåÊñπÁ°ÆËÆ§ÂΩºÊ≠§Ê¥ªÁùÄ„ÄÇ</li>\n<li>Êé¢Ê¥ªÊúâÊó∂Èó¥ÈôêÂà∂ÔºåË∂ÖËøáÈôêÂÆöÊó∂Èó¥ÔºåÂ¶ÇÊûú‰∏ÄÁõ¥Ê≤°ÊúâÊï∞ÊçÆ‰∫§Êç¢ÔºåÂç≥‰ΩøÊé¢Ê¥ªÂøÉË∑≥Ê≠£Â∏∏Ôºå‰πü‰ºöËøõË°åÊå•ÊâãÊñ≠ËøûÔºåÈáäÊîæËµÑÊ∫ê„ÄÇ</li>\n</ul>\n<h2 id=\"TCP-Keep-Alive-Êú∫Âà∂\"><a href=\"#TCP-Keep-Alive-Êú∫Âà∂\" class=\"headerlink\" title=\"TCP  Keep-Alive Êú∫Âà∂\"></a>TCP  Keep-Alive Êú∫Âà∂</h2><blockquote>\n<ul>\n<li>TCP Keep-Alive Âπ∂‰∏çÊòØ TCP Ê†áÂáÜÁöÑ‰∏ÄÈÉ®ÂàÜÔºåËÄåÊòØÁî±ÂçèËÆÆÊ†àÂÆûÁé∞ËÄÖËøõË°åÊãìÂ±ïÂÆûÁé∞Ôºå‰∏ªÊµÅÊìç‰ΩúÁ≥ªÁªü Linux„ÄÅWindows„ÄÅMacOS ÈÉΩËøõË°å‰∫ÜÂØπÂ∫îÁöÑÂÆûÁé∞„ÄÇ </li>\n<li>TCP Keep-Alive Êä•ÊñáÊòØÁî±Êìç‰ΩúÁ≥ªÁªüÊàñÁΩëÁªúÂ∫ìÂÆûÁé∞ÁöÑÔºåËÄå‰∏çÊòØÁî±ÁâπÂÆöÁöÑÂ∫îÁî®Á®ãÂ∫èÔºàÂ¶ÇÊµèËßàÂô®ÊàñHTTPÂÆ¢Êà∑Á´ØÂ∫ìÔºâÁõ¥Êé•ÂèëÈÄÅÁöÑ„ÄÇÂÆÉÊòØ‰∏ÄÁßçÁΩëÁªúÂ±ÇÁöÑÂäüËÉΩÔºåÁî®‰∫éÁª¥ÊåÅ‰∏§‰∏™ÁΩëÁªúËÆæÂ§á‰πãÈó¥ÁöÑËøûÊé•Áä∂ÊÄÅ„ÄÇËøô‰∏™Êú∫Âà∂Âú®TCPÂçèËÆÆ‰∏≠ÂÆö‰πâÔºåÂÖÅËÆ∏‰∏ÄÊñπÂú®‰∏ÄÂÆöÊó∂Èó¥ÂÜÖÊ≤°ÊúâÊî∂Âà∞Êï∞ÊçÆÊó∂ÂèëÈÄÅÊé¢ÊµãÂåÖÔºå‰ª•Á°ÆËÆ§ËøûÊé•ÁöÑÂè¶‰∏ÄÁ´ØÊòØÂê¶‰ªçÁÑ∂ÂèØËææ„ÄÇ </li>\n<li>Âú®WindowsÊìç‰ΩúÁ≥ªÁªü‰∏≠ÔºåËøôÈÄöÂ∏∏ÈÄöËøáÂèëÈÄÅTCP Keep-AliveÊé¢ÊµãÂåÖÊù•ÂÆûÁé∞ÔºåËøô‰∫õÊé¢ÊµãÂåÖÊòØÁî±Êìç‰ΩúÁ≥ªÁªüÁöÑÁΩëÁªúÂ†ÜÊ†àËá™Âä®ÂèëÈÄÅÁöÑ„ÄÇ</li>\n</ul>\n</blockquote>\n<p>‰ª•‰∏ãÊòØ‰∏Ä‰∫õÂèØËÉΩÂèëÈÄÅTCP Keep-AliveÊä•ÊñáÁöÑÂÆû‰ΩìÔºö</p>\n<ol>\n<li>Êìç‰ΩúÁ≥ªÁªüÁΩëÁªúÂ†ÜÊ†àÔºöÂ§ßÂ§öÊï∞Áé∞‰ª£Êìç‰ΩúÁ≥ªÁªüÈÉΩ‰ºöÂÆûÁé∞TCP Keep-AliveÂäüËÉΩ„ÄÇ‰æãÂ¶ÇÔºåÂú®Windows‰∏≠ÔºåÂèØ‰ª•ÈÄöËøáÊ≥®ÂÜåË°®ËÆæÁΩÆÊàñ‰ΩøÁî®netshÂëΩ‰ª§Êù•ÈÖçÁΩÆTCP Keep-AliveÂèÇÊï∞„ÄÇ</li>\n<li>ÁΩëÁªúÂ∫ìÔºöÊüê‰∫õÁºñÁ®ãËØ≠Ë®ÄÁöÑÁΩëÁªúÂ∫ìÂèØËÉΩÂÆûÁé∞‰∫ÜËá™Â∑±ÁöÑKeep-AliveÈÄªËæë„ÄÇ‰æãÂ¶ÇÔºåJavaÁöÑHttpURLConnectionÊàñC#ÁöÑHttpClientÂèØËÉΩ‰ºöÂú®Â∫ïÂ±ÇTCPËøûÊé•‰∏äÂêØÁî®Keep-Alive„ÄÇ</li>\n<li>ÊµèËßàÂô®ÔºöËôΩÁÑ∂ÊµèËßàÂô®ÂèØËÉΩ‰∏ç‰ºöÂú®Ê≤°ÊúâHTTPËØ∑Ê±ÇÁöÑÊÉÖÂÜµ‰∏ãÂèëÈÄÅKeep-AliveÊä•ÊñáÔºå‰ΩÜÂÆÉ‰ª¨ÂèØËÉΩ‰ºöÂÆöÊúüÂèëÈÄÅHTTP&#x2F;1.1ÂçèËÆÆ‰∏≠ÁöÑKeep-AliveÂ§¥ÈÉ®ÔºåËøôÊòØ‰∏ÄÁßçÂ∫îÁî®Â±ÇÁöÑÊú∫Âà∂ÔºåÁî®‰∫éÁª¥ÊåÅHTTPËøûÊé•ÁöÑÊ¥ªË∑ÉÁä∂ÊÄÅ„ÄÇ</li>\n<li>ÂÖ∂‰ªñÁΩëÁªúÂ∫îÁî®Á®ãÂ∫èÔºö‰ªª‰Ωï‰ΩøÁî®TCPËøûÊé•ÁöÑÂ∫îÁî®Á®ãÂ∫èÈÉΩÂèØËÉΩÂÆûÁé∞Ëá™Â∑±ÁöÑKeep-AliveÈÄªËæëÔºå‰ª•Á°Æ‰øùËøûÊé•ÁöÑÊåÅÁª≠ÊÄß„ÄÇ</li>\n</ol>\n<h2 id=\"ÁªìËØ≠\"><a href=\"#ÁªìËØ≠\" class=\"headerlink\" title=\"ÁªìËØ≠\"></a>ÁªìËØ≠</h2><p>HTTP Connection Â§¥ÊòØ HTTP ÂçèËÆÆ‰∏≠ÈùûÂ∏∏ÈáçË¶ÅÁöÑÂ§¥ÈÉ®Â≠óÊÆµ‰πã‰∏ÄÔºåÂÆÉÊéßÂà∂ÁùÄÂÆ¢Êà∑Á´ØÂíåÊúçÂä°Âô®‰πãÈó¥ÁöÑËøûÊé•Ë°å‰∏∫ÔºåÁõ¥Êé•ÂΩ±ÂìçÁùÄÈÄö‰ø°ÁöÑÊïàÁéáÂíåÊÄßËÉΩ„ÄÇÂú®ÂÆûÈôÖÂºÄÂèë‰∏≠ÔºåÂêàÁêÜ‰ΩøÁî® HTTP Connection Â§¥ÂèØ‰ª•ÊúâÊïàÂú∞ÁÆ°ÁêÜÁΩëÁªúËµÑÊ∫êÔºåÊèêÈ´òÈÄö‰ø°ÁöÑÊïàÁéá„ÄÇÂ∏åÊúõÊú¨ÊñáËÉΩÂ§üÂ∏ÆÂä©ËØªËÄÖÊõ¥Ê∑±ÂÖ•Âú∞ÁêÜËß£ HTTP Connection Â§¥ÁöÑ‰ΩúÁî®ÂíåÁî®Ê≥ïÔºåÂπ∂Âú®ÂÆûÈôÖÂºÄÂèë‰∏≠Âä†‰ª•Â∫îÁî®„ÄÇ</p>\n<p>Êõ¥Â§ö‰∏ÄÊâãËÆØÊÅØÔºåÂèØÂÖ≥Ê≥®ÂÖ¨‰ºóÂè∑Ôºö<a href=\"https://myom-dev.oss-cn-hangzhou.aliyuncs.com/WechatPublicPlatformQrCode.jpg\">ITProHub</a></p>\n<p><img src=\"https://myom-dev.oss-cn-hangzhou.aliyuncs.com/WechatPublicPlatformQrCode.jpg\" alt=\"ITProHub\"></p>\n"},{"title":"ÁªÑÁªáÂèëÂ±ïËá¥ÂëΩÊùÄÊâãÔºöÂÜÖËÄó","date":"2024-03-28T09:49:50.000Z","_content":"\nÂâçÊÆµÊó∂Èó¥ÂèëË°®ÁöÑÈÉΩÊòØÊäÄÊúØÁõ∏ÂÖ≥ÁöÑÊñáÁ´†Ôºå‰ªäÂ§©Êç¢Êç¢Âè£Âë≥ÔºåË∞à‰∏ÄË∞àÊúÄËøëÂÖ≥‰∫éÁªÑÁªáÂ∑•‰Ωú‰∏äÁöÑ‰∏Ä‰∫õÊÄùËÄÉ„ÄÇÂΩìÁÑ∂‰πüÊòØÊâæ‰∏™Âú∞ÊñπÂèëÂèëÁâ¢È™ö„ÄÇ„ÄÇ„ÄÇÂèØËÉΩÂ∞±ÊòØÊÉ≥Âà∞Âì™ÈáåÂÜôÂà∞Âì™Èáå\n![ÈÉÅÈó∑](/images/internal-loss/depressed.jpg)\n\nÁõ∏‰ø°Â§ßÂÆ∂Âú®Ê≠§‰πãÂâç‰πüÂ∏∏Â∏∏Âê¨Ëøá‰∏Ä‰∏™ËØ¥Ê≥ï‚ÄúÂú®ÁªÑÁªáÁÆ°ÁêÜ‰∏≠Ôºå‰∫∫Â∞±ÊòØÂÖ®ÈÉ®Ôºå‰∫∫Êâç‰πãÁóõÔºåÊòØÊúÄÂ§ßÁöÑÁóõÁÇπ„ÄÇ‚Äù\n\n‰∏ÄÂÆ∂‰ºÅ‰∏öÂú®Â¢ûÈïøÁöÑËøáÁ®ã‰∏≠ÔºåÂæàÂ§öÈóÆÈ¢òÈÉΩ‰ºöË¢´ÈöêËóèÊàñËÄÖËØ¥ÊòØÂøΩÁï•„ÄÇ‰ΩÜÊòØ‰∏ÄÊó¶‰∏çÂ¢ûÈïøÊàñËÄÖË¥üÂ¢ûÈïø‰∫ÜÔºåÊâÄÊúâÈóÆÈ¢òÈÉΩ‰ºöÊö¥Èú≤Âá∫Êù•ÔºåÁîöËá≥ÊòØÊàêÂÄçÁöÑÁàÜÂèë„ÄÇ\n\nÊØ´‰∏çÂ§∏Âº†ÁöÑËØ¥Ôºå***ÁªÑÁªáÂÜÖËÄó*** Â∞±ÊòØÊØÅÊéâ‰∏ÄÂÆ∂‰ºÅ‰∏öÊúÄÂø´ÁöÑÊñπÂºè„ÄÇ\n\n# ÁªÑÁªáÂÜÖËÄóÁöÑË°®Áé∞\n‰ª•‰∏ãÊòØÊàëÊÉ≥Âà∞ÁöÑÊØîËæÉÈáçË¶ÅÁöÑÂá†‰∏™ÁÇπÔºåÊéíÂêçÂàÜÂÖàÂêéÔºÅÊõ¥ÂèØÊÄïÁöÑÊòØÔºåËøô‰∫õË°®Áé∞‰∏ÄËà¨‰∏ç‰ºöÂçïÁã¨Âá∫Áé∞ÔºåÈÉΩÊòØÊä±Âõ¢Âá∫Áé∞ÁöÑ„ÄÇ\n## 1. ÂÜÖÂç∑Ôºà‰∏çÂÅ•Â∫∑ÁöÑÁ´û‰∫âÔºâ\n\n Âú®Âõ¢ÈòüÂÜÖÈÉ®ÔºåÁªÑÁªáÂÜÖËÄó‰∏Ä‰∏™ÈáçË¶ÅÁöÑË°®Áé∞ÂΩ¢ÂºèÔºöÂÜÖÂç∑„ÄÇ Âï•ÊòØÂÜÖÂç∑ÔºüÊó†ÊÑè‰πâÁöÑÊ∂àËÄóÔºåÂΩ¢Âºè‰∏ª‰πâÈÉΩÂèØ‰ª•ÂÆö‰πâ‰∏∫ÂÜÖÂç∑„ÄÇ\n\nËøôÂá†Âπ¥Ë°å‰∏ö‰∏ãË°åÔºåËÄÅÂ§´Â∞±ËÅåÁöÑÂÖ¨Âè∏‰πüÂá∫Áé∞‰∫Ü‰∏•ÈáçÁöÑ‰∏öÁª©‰∏ãÊªë„ÄÅ‰∫èÊçü„ÄÇ‰∏∫‰∫ÜÂÆûÁé∞‚ÄúÈÄÜÂäøÂ¢ûÈïø‚ÄùÔºåÂÖ¨Âè∏Ë¶ÅÊ±ÇÊèêÈ´ò‰∫∫ÊïàÔºå‰∫éÊòØÊèêÂá∫‰∫Ü‚Äú‰ªòÂá∫120%ÁöÑÂä™Âäõ‚ÄùÂè£Âè∑„ÄÇÂØπ‰∫éÈÇ£Â§öÂá∫Êù•ÁöÑ20%ÁöÑÁêÜËß£ÔºåÂêÑ‰∫ã‰∏öÈÉ®ÁöÑÁêÜËß£ÈÉΩÊòØ‰∏ÄËá¥ÁöÑÔºå\nÈÇ£Â∞±ÊòØ**Âä†Áè≠**„ÄÇ‰∫éÊòØ‰πéÂêÑÈÉ®Èó®ÊéÄËµ∑‰∫Ü‰∏ÄÊ≥¢Âä†Áè≠ÊΩÆÔºåË°®ÊºîÂºèÁöÑÂä†Áè≠ÊΩÆ„ÄÇ‰∏ãÁè≠Êó∂Èó¥Êó†ËÆ∫ÊúâÊ≤°Êúâ‰∫ãÂèçÊ≠£ÊòØËµ∞‰∏ç‰∫ÜÁöÑÔºåËµ∞‰∫ÜÁöÑÂ∞±ÊòØÂ∑•‰ΩúÈáèÈ•±Âíå„ÄÇÁÑ∂ÂêéÂ∞±Ë°çÁîüÂá∫‰∫ÜÂè¶Â§ñ‰∏Ä‰∏™ÈóÆÈ¢òÔºå‚ÄúÁ£®Ê¥ãÂ∑•‚Äù„ÄÇÊòéÊòéÂçäÂ§©ËÉΩÊêûÂÆöÁöÑÈúÄÊ±ÇÔºåÁ°¨ÊòØÊâòÁùÄ‰∏ÄÂ§©ÊâçËß£ÂÜ≥ÔºåÊàñËÄÖÁôΩÂ§©Êë∏È±ºÔºåÂä†Áè≠Âπ≤Ê¥ª„ÄÇ\n\nÂõ¢ÈòüÁÆ°ÁêÜ‰πüÊòØËøôÊ†∑ÔºåËøáÂ∫¶ËøΩÊ±ÇÂΩ¢Âºè‰∏ª‰πâÔºåÂè™Ê≥®ÈáçËøáÁ®ãÔºå‰∏çÊ≥®ÈáçÁªìÊûú„ÄÇÊúÄÂêéÂ∞±ÊòØ‰∫∫ÊïàÊ∞¥Âπ≥Êõ¥‰Ωé‰∫ÜÔºåÂùë‰∫ÜÂëòÂ∑•Ôºå‰πüÂùë‰∫ÜÁÆ°ÁêÜËÄÖ„ÄÇ\n\nÂêåÊó∂Ôºå‰∏çÂÅ•Â∫∑ÁöÑÂÜÖÈÉ®Á´û‰∫âÂèØËÉΩÂØºËá¥ÂëòÂ∑•‰πãÈó¥ÁöÑÂØπÊäóÂíå‰∏çÂêà‰ΩúÔºåÂΩ±ÂìçÂõ¢ÈòüÂçè‰ΩúÔºå‰∫ßÁîü‰∏ãÈù¢‰ºöËØ¥Âà∞ÁöÑ‚ÄúÈÉ®Èó®ÈöîÈòÇ‚Äù„ÄÇ\n## 2. ‰ø°‰ªªÁº∫Â§±\n‰∏öÁª©Â¢ûÈïøÁöÑÊó∂ÂÄôËøòÂ•ΩÔºå‰∏ÄÊó¶‰∏öÁª©‰∏ãÊªëÔºåÊï¥‰∏™ÂÖ¨Âè∏Èô∑ÂÖ•‰∫Ü‰∏ÄÊù°ÁåúÁñëÈìæ„ÄÇ\n\nËÄÅÊùøÊÄÄÁñëÁÆ°ÁêÜËÄÖÊòØ‰∏çÊòØËÉΩÂäõÂíåËÅå‰Ωç‰∏çÂåπÈÖçÔºå‰∫éÊòØÂá∫Âè∞ÂêÑÁßçÊîøÁ≠ñÂíåÂèòÈù©ÔºåÁõëÁù£ÁÆ°ÁêÜËÄÖÂ•ΩÂ•ΩÂπ≤Ê¥ª„ÄÇ\n\nÁÆ°ÁêÜËÄÖÊÄÄÁñëÂëòÂ∑•ÔºåÊòØ‰∏çÊòØÊØèÂ§©‰∏äÁè≠ÈÉΩÂú®Êë∏È±ºÔºåÊ∑∑Êó•Â≠ê„ÄÇ\n\nÂëòÂ∑•ÊÄÄÁñëÂÖ¨Âè∏ÔºåÂÖ¨Âè∏ÊòØ‰∏çÊòØ‰∏çË°å‰∫ÜÔºåÊàëÊòØ‰∏çÊòØË¶ÅË¢´ÂºÄ‰∫ÜÔºåÁº∫‰πèÂÆâÂÖ®ÊÑü„ÄÇ\n\n‰∏ÄÊó¶ÁñëÂøÉÈìæÂΩ¢ÊàêÔºåÂÖ¨Âè∏Â∞±ÈÄâÂÖ•‰∫Ü‰∏ÄÁßçÊÅ∂ÊÄßÂæ™ÁéØÔºö\n+ ËÄÅÊùø‰∏çÊï¢ÊîæÊùÉÁÆ°ÁêÜËÄÖÔºåÈôçÁ∫ß‰ΩøÁî®„ÄÇÂêÑÁßçÊ±áÊä•ÔºåÊúàÂ∫¶„ÄÅÂ≠£Â∫¶„ÄÅÂçäÂπ¥Â∫¶„ÄÇ\n+ ÁÆ°ÁêÜËÄÖÁî®ÂäõËøáÁåõÔºåÂä®‰ΩúÂèòÂΩ¢„ÄÇÂØπÂëòÂ∑•ÊûÅÈôêÂéãÊ¶®Ôºå‰∏§‰∏™‰∫∫ÁöÑ‰∫ãÊÉÖ‰∏Ä‰∏™‰∫∫Âπ≤Ôºå996ÊêûËµ∑Êù•ÔºÅ\n\n![996](/images/internal-loss/996.jpg)\n\nÊàëÊõæÁªèÂê¨ËøáËøôÊ†∑‰∏ÄÂè•ËØù‚ÄúÊÄé‰πàÂà§Êñ≠‰∏Ä‰∏™ÂÖ¨Âè∏ÂºÄÂßãËµ∞‰∏ãÂù°Ë∑Ø‰∫ÜÔºüÁúã‰ªñÊòØ‰∏çÊòØÁ™ÅÁÑ∂ÂºÄÂßãÊäìËÄÉÂã§‰∫Ü‚Äù„ÄÇÁ°ÆÂÆûÂ¶ÇÊ≠§„ÄÇ\nÂÖ¨Âè∏Â¢ûÈïøÁöÑÊó∂ÂÄôÂêÑÁßçÂÆ£‰º†ÂºπÊÄßÂ∑•‰ΩúÂà∂ÔºåËØ∑ÂÅáÂçäÂ§©Ëµ∑Ôºå2hÂ∞èÊó∂‰ª•ÂÜÖÁöÑÂÅáÊúü‰∏çÈúÄË¶ÅÂèëËØ∑ÂÅáÁî≥ËØ∑ÔºåÁâπÊÆäÊÉÖÂÜµÂèØ‰ª•Áî≥ËØ∑Â±ÖÂÆ∂ÂäûÂÖ¨„ÄÇ\n\nÁ™ÅÁÑ∂Êúâ‰∏ÄÂ§©Ë∑ü‰Ω†ËØ¥ÔºåËøüÂà∞Ë¶ÅËØ¥ÊòéÂéüÂõ†ÔºåËøüÂà∞Ë¶ÅÊâ£Èí±„ÄÇËØ∑ÂÅáÁöÑÁ≥ªÁªüÊîØÊåÅÂà∞‰∫ÜÂ∞èÊó∂Á∫ßÔºåÂä†Áè≠Áî≥ËØ∑ÂëòÂ∑•Êó†Ê≥ïÂèëËµ∑ÔºåË¶ÅÈ¢ÜÂØºÂèëËµ∑„ÄÇ\n\nËøô‰∏™Êó∂ÂÄôÂ∞±ËÉΩÁü•ÈÅìÔºåÂÖ¨Âè∏Ëµ∞‰∏ãÂù°Ë∑Ø‰∫Ü„ÄÇËÄå‰∏îËÄÅÊùøÊ≤°‰ªéËá™Ë∫´ÊâæÂà∞ÂéüÂõ†ÔºåÂºÄÂßã‰ªéÂëòÂ∑•Ë∫´‰∏äÊâæÂéüÂõ†ÔºåÂëòÂ∑•Ê≤°Â•ΩÂ•ΩÂπ≤Ê¥ªÔºÅ\n‰ªéÊÑüË∞¢ÂëòÂ∑•ÁöÑ‰ªòÂá∫ÔºåÂà∞ÂëòÂ∑•Ë¶ÅÊÑüË∞¢ÂÖ¨Âè∏ÁªôÁöÑÂ∑•‰ΩúÂ≤ó‰Ωç„ÄÇ\n\n## 3. ÈÉ®Èó®ÈöîÈòÇ\n\nÁî±‰∫éÂêÑÈÉ®Èó®‰∏™Âõ¢Èòü‰πãÈó¥ÈÉΩÊòØÁ´û‰∫âÂÖ≥Á≥ª„ÄÇÂêÑÈÉ®Èó®ÊàñÂõ¢Èòü‰πãÈó¥ÂΩ¢Êàê‰ø°ÊÅØÂ≠§Â≤õÔºåÁº∫‰πèÂêà‰ΩúÂíåÂÖ±‰∫´ËµÑÊ∫êÁöÑÊÑèÊÑøÔºåÂØºËá¥Êï¥‰ΩìÊïàÁéá‰Ωé‰∏ã„ÄÇ\n‰∏öÁª©‰∏ãÊªëÔºåÂêÑÂõ¢Èòü‰πãÈó¥‰∫íÁõ∏ÈîÖÁî©ÈîÖ„ÄÇÈõÜÂõ¢ËØ¥ÈîÄÂîÆËÉΩÂäõÂ∑ÆÔºåÈîÄÂîÆËØ¥È°πÁõÆÂûÉÂúæÔºåÈ°πÁõÆËØ¥‰∫ßÂìÅÂûÉÂúæÔºå‰∫ßÂìÅËØ¥Âπ≥Âè∞ÂûÉÂúæ„ÄÇ\n\n+ Ê≤üÈÄö‰∏çÁïÖÔºöÈÉ®Èó®‰πãÈó¥ÊàñÂõ¢ÈòüÊàêÂëò‰πãÈó¥ÁöÑÊ≤üÈÄöÂ≠òÂú®ÈöúÁ¢çÔºå‰ø°ÊÅØ‰º†ÈÄí‰∏çÈ°∫ÁïÖÔºåÂØºËá¥ËØØËß£ÂíåÂÜ≤Á™Å„ÄÇ\n+ ÂÜ≥Á≠ñËøüÁºìÔºöÂÜ≥Á≠ñËøáÁ®ã‰∏≠ÁöÑÁäπË±´‰∏çÂÜ≥„ÄÅÊé®ËØøË¥£‰ªªÊàñËøáÂ∫¶ÂàÜÊûêÂØºËá¥Êú∫‰ºöÁöÑ‰∏ßÂ§±ÂíåÈ°πÁõÆËøõÂ∫¶ÁöÑÂª∂Ëøü„ÄÇ\n+ ËµÑÊ∫êÈáçÂ§çÊàñÊµ™Ë¥πÔºöÁî±‰∫éÁº∫‰πèÂçèË∞ÉÂíåËßÑÂàíÔºåÂèØËÉΩÂØºËá¥ËµÑÊ∫êÂú®‰∏çÂêåÈÉ®Èó®ÊàñÈ°πÁõÆ‰∏≠ÈáçÂ§çÊäïÂÖ•ÊàñÊú™ËÉΩÊúâÊïàÂà©Áî®„ÄÇ\n\n\n# ÂíãÂäûÔºü\n<font size=\"2\" color=\"#A9A9A9\">Â∞Ω‰∫∫‰∫ãÔºåÂê¨Â§©ÂëΩ„ÄÇÊâìËÉú‰ªóÊòØÊúÄÂ•ΩÁöÑÂõ¢Âª∫</font>\n\n‰∏ãÈù¢ÊòØËÄÅÂ§´Ëá™Â∑±ÁöÑ‰∏ÄÁÇπyyÔºåÈöè‰æøËÉ°‰æÉ„ÄÇ„ÄÇ„ÄÇ\n\nÂáèÂ∞ëÁªÑÁªáÂÜÖËÄóÔºå‰πüËØ¥‰∏ç‰∏ä‰ªÄ‰πàÊé™ÊñΩÂêßÔºåÂè™ËÉΩËØ¥Ë¶ÅÂùöÊåÅÁöÑÂéüÂàô\n\n1. ‰ªª‰∫∫ÂîØË¥§ÔºåÁñë‰∫∫‰∏çÁî®ÔºåÁî®‰∫∫‰∏çÁñë\nÊó†ËÆ∫ÊòØÂØπ‰∫éÁÆ°ÁêÜËÄÖËøòÊòØÂëòÂ∑•ÔºåÁåúÁñëÊòØÂÜÖËÄóÁöÑÂßã‰Ωú‰øëËÄÖ\n2. ÂÅöÂØπÁöÑ‰∫ã\nÈÄâÂØπ‰∫∫ÔºåËøòË¶ÅÂÅöÂØπÁöÑ‰∫ã„ÄÇÂâ©‰∏ãÁöÑÂ∞±‰∫§ÁªôÊó∂Èó¥Âêß„ÄÇÂÜµ‰∏îÂâ©‰∏ãÁöÑÂèØËÉΩ‰πü‰∏çÊòØ‰∫∫ÂäõËÉΩÂ§üÊäóË°°ÁöÑ‰∫Ü„ÄÇ\n\n\n# ÁªìËØ≠\nÊ≤°Âï•Â•ΩÊÄªÁªìÁöÑ‰∫Ü„ÄÇ\n\nÁªÑÁªáÂÜÖËÄóÊòØ‰ºÅ‰∏öÂèëÂ±ïÁöÑËá¥ÂëΩÊùÄÊâã„ÄÇ\n\nÈÄâÂØπ‰∫∫ÔºåÂÅöÂØπ‰∫ãÔºåÊãíÁªùÂÜÖÂç∑ÔºÅ\n\n\n\nÊõ¥Â§ö‰∏ÄÊâãËÆØÊÅØÔºåÂèØÂÖ≥Ê≥®ÂÖ¨‰ºóÂè∑Ôºö[ITProHub](https://myom-dev.oss-cn-hangzhou.aliyuncs.com/WechatPublicPlatformQrCode.jpg)\n\n![ITProHub](https://myom-dev.oss-cn-hangzhou.aliyuncs.com/WechatPublicPlatformQrCode.jpg)","source":"_posts/organization-internal-loss.md","raw":"---\ntitle: ÁªÑÁªáÂèëÂ±ïËá¥ÂëΩÊùÄÊâãÔºöÂÜÖËÄó\ndate: 2024-03-28 17:49:50\ntags: ÁªÑÁªá ÂÜÖËÄó\n---\n\nÂâçÊÆµÊó∂Èó¥ÂèëË°®ÁöÑÈÉΩÊòØÊäÄÊúØÁõ∏ÂÖ≥ÁöÑÊñáÁ´†Ôºå‰ªäÂ§©Êç¢Êç¢Âè£Âë≥ÔºåË∞à‰∏ÄË∞àÊúÄËøëÂÖ≥‰∫éÁªÑÁªáÂ∑•‰Ωú‰∏äÁöÑ‰∏Ä‰∫õÊÄùËÄÉ„ÄÇÂΩìÁÑ∂‰πüÊòØÊâæ‰∏™Âú∞ÊñπÂèëÂèëÁâ¢È™ö„ÄÇ„ÄÇ„ÄÇÂèØËÉΩÂ∞±ÊòØÊÉ≥Âà∞Âì™ÈáåÂÜôÂà∞Âì™Èáå\n![ÈÉÅÈó∑](/images/internal-loss/depressed.jpg)\n\nÁõ∏‰ø°Â§ßÂÆ∂Âú®Ê≠§‰πãÂâç‰πüÂ∏∏Â∏∏Âê¨Ëøá‰∏Ä‰∏™ËØ¥Ê≥ï‚ÄúÂú®ÁªÑÁªáÁÆ°ÁêÜ‰∏≠Ôºå‰∫∫Â∞±ÊòØÂÖ®ÈÉ®Ôºå‰∫∫Êâç‰πãÁóõÔºåÊòØÊúÄÂ§ßÁöÑÁóõÁÇπ„ÄÇ‚Äù\n\n‰∏ÄÂÆ∂‰ºÅ‰∏öÂú®Â¢ûÈïøÁöÑËøáÁ®ã‰∏≠ÔºåÂæàÂ§öÈóÆÈ¢òÈÉΩ‰ºöË¢´ÈöêËóèÊàñËÄÖËØ¥ÊòØÂøΩÁï•„ÄÇ‰ΩÜÊòØ‰∏ÄÊó¶‰∏çÂ¢ûÈïøÊàñËÄÖË¥üÂ¢ûÈïø‰∫ÜÔºåÊâÄÊúâÈóÆÈ¢òÈÉΩ‰ºöÊö¥Èú≤Âá∫Êù•ÔºåÁîöËá≥ÊòØÊàêÂÄçÁöÑÁàÜÂèë„ÄÇ\n\nÊØ´‰∏çÂ§∏Âº†ÁöÑËØ¥Ôºå***ÁªÑÁªáÂÜÖËÄó*** Â∞±ÊòØÊØÅÊéâ‰∏ÄÂÆ∂‰ºÅ‰∏öÊúÄÂø´ÁöÑÊñπÂºè„ÄÇ\n\n# ÁªÑÁªáÂÜÖËÄóÁöÑË°®Áé∞\n‰ª•‰∏ãÊòØÊàëÊÉ≥Âà∞ÁöÑÊØîËæÉÈáçË¶ÅÁöÑÂá†‰∏™ÁÇπÔºåÊéíÂêçÂàÜÂÖàÂêéÔºÅÊõ¥ÂèØÊÄïÁöÑÊòØÔºåËøô‰∫õË°®Áé∞‰∏ÄËà¨‰∏ç‰ºöÂçïÁã¨Âá∫Áé∞ÔºåÈÉΩÊòØÊä±Âõ¢Âá∫Áé∞ÁöÑ„ÄÇ\n## 1. ÂÜÖÂç∑Ôºà‰∏çÂÅ•Â∫∑ÁöÑÁ´û‰∫âÔºâ\n\n Âú®Âõ¢ÈòüÂÜÖÈÉ®ÔºåÁªÑÁªáÂÜÖËÄó‰∏Ä‰∏™ÈáçË¶ÅÁöÑË°®Áé∞ÂΩ¢ÂºèÔºöÂÜÖÂç∑„ÄÇ Âï•ÊòØÂÜÖÂç∑ÔºüÊó†ÊÑè‰πâÁöÑÊ∂àËÄóÔºåÂΩ¢Âºè‰∏ª‰πâÈÉΩÂèØ‰ª•ÂÆö‰πâ‰∏∫ÂÜÖÂç∑„ÄÇ\n\nËøôÂá†Âπ¥Ë°å‰∏ö‰∏ãË°åÔºåËÄÅÂ§´Â∞±ËÅåÁöÑÂÖ¨Âè∏‰πüÂá∫Áé∞‰∫Ü‰∏•ÈáçÁöÑ‰∏öÁª©‰∏ãÊªë„ÄÅ‰∫èÊçü„ÄÇ‰∏∫‰∫ÜÂÆûÁé∞‚ÄúÈÄÜÂäøÂ¢ûÈïø‚ÄùÔºåÂÖ¨Âè∏Ë¶ÅÊ±ÇÊèêÈ´ò‰∫∫ÊïàÔºå‰∫éÊòØÊèêÂá∫‰∫Ü‚Äú‰ªòÂá∫120%ÁöÑÂä™Âäõ‚ÄùÂè£Âè∑„ÄÇÂØπ‰∫éÈÇ£Â§öÂá∫Êù•ÁöÑ20%ÁöÑÁêÜËß£ÔºåÂêÑ‰∫ã‰∏öÈÉ®ÁöÑÁêÜËß£ÈÉΩÊòØ‰∏ÄËá¥ÁöÑÔºå\nÈÇ£Â∞±ÊòØ**Âä†Áè≠**„ÄÇ‰∫éÊòØ‰πéÂêÑÈÉ®Èó®ÊéÄËµ∑‰∫Ü‰∏ÄÊ≥¢Âä†Áè≠ÊΩÆÔºåË°®ÊºîÂºèÁöÑÂä†Áè≠ÊΩÆ„ÄÇ‰∏ãÁè≠Êó∂Èó¥Êó†ËÆ∫ÊúâÊ≤°Êúâ‰∫ãÂèçÊ≠£ÊòØËµ∞‰∏ç‰∫ÜÁöÑÔºåËµ∞‰∫ÜÁöÑÂ∞±ÊòØÂ∑•‰ΩúÈáèÈ•±Âíå„ÄÇÁÑ∂ÂêéÂ∞±Ë°çÁîüÂá∫‰∫ÜÂè¶Â§ñ‰∏Ä‰∏™ÈóÆÈ¢òÔºå‚ÄúÁ£®Ê¥ãÂ∑•‚Äù„ÄÇÊòéÊòéÂçäÂ§©ËÉΩÊêûÂÆöÁöÑÈúÄÊ±ÇÔºåÁ°¨ÊòØÊâòÁùÄ‰∏ÄÂ§©ÊâçËß£ÂÜ≥ÔºåÊàñËÄÖÁôΩÂ§©Êë∏È±ºÔºåÂä†Áè≠Âπ≤Ê¥ª„ÄÇ\n\nÂõ¢ÈòüÁÆ°ÁêÜ‰πüÊòØËøôÊ†∑ÔºåËøáÂ∫¶ËøΩÊ±ÇÂΩ¢Âºè‰∏ª‰πâÔºåÂè™Ê≥®ÈáçËøáÁ®ãÔºå‰∏çÊ≥®ÈáçÁªìÊûú„ÄÇÊúÄÂêéÂ∞±ÊòØ‰∫∫ÊïàÊ∞¥Âπ≥Êõ¥‰Ωé‰∫ÜÔºåÂùë‰∫ÜÂëòÂ∑•Ôºå‰πüÂùë‰∫ÜÁÆ°ÁêÜËÄÖ„ÄÇ\n\nÂêåÊó∂Ôºå‰∏çÂÅ•Â∫∑ÁöÑÂÜÖÈÉ®Á´û‰∫âÂèØËÉΩÂØºËá¥ÂëòÂ∑•‰πãÈó¥ÁöÑÂØπÊäóÂíå‰∏çÂêà‰ΩúÔºåÂΩ±ÂìçÂõ¢ÈòüÂçè‰ΩúÔºå‰∫ßÁîü‰∏ãÈù¢‰ºöËØ¥Âà∞ÁöÑ‚ÄúÈÉ®Èó®ÈöîÈòÇ‚Äù„ÄÇ\n## 2. ‰ø°‰ªªÁº∫Â§±\n‰∏öÁª©Â¢ûÈïøÁöÑÊó∂ÂÄôËøòÂ•ΩÔºå‰∏ÄÊó¶‰∏öÁª©‰∏ãÊªëÔºåÊï¥‰∏™ÂÖ¨Âè∏Èô∑ÂÖ•‰∫Ü‰∏ÄÊù°ÁåúÁñëÈìæ„ÄÇ\n\nËÄÅÊùøÊÄÄÁñëÁÆ°ÁêÜËÄÖÊòØ‰∏çÊòØËÉΩÂäõÂíåËÅå‰Ωç‰∏çÂåπÈÖçÔºå‰∫éÊòØÂá∫Âè∞ÂêÑÁßçÊîøÁ≠ñÂíåÂèòÈù©ÔºåÁõëÁù£ÁÆ°ÁêÜËÄÖÂ•ΩÂ•ΩÂπ≤Ê¥ª„ÄÇ\n\nÁÆ°ÁêÜËÄÖÊÄÄÁñëÂëòÂ∑•ÔºåÊòØ‰∏çÊòØÊØèÂ§©‰∏äÁè≠ÈÉΩÂú®Êë∏È±ºÔºåÊ∑∑Êó•Â≠ê„ÄÇ\n\nÂëòÂ∑•ÊÄÄÁñëÂÖ¨Âè∏ÔºåÂÖ¨Âè∏ÊòØ‰∏çÊòØ‰∏çË°å‰∫ÜÔºåÊàëÊòØ‰∏çÊòØË¶ÅË¢´ÂºÄ‰∫ÜÔºåÁº∫‰πèÂÆâÂÖ®ÊÑü„ÄÇ\n\n‰∏ÄÊó¶ÁñëÂøÉÈìæÂΩ¢ÊàêÔºåÂÖ¨Âè∏Â∞±ÈÄâÂÖ•‰∫Ü‰∏ÄÁßçÊÅ∂ÊÄßÂæ™ÁéØÔºö\n+ ËÄÅÊùø‰∏çÊï¢ÊîæÊùÉÁÆ°ÁêÜËÄÖÔºåÈôçÁ∫ß‰ΩøÁî®„ÄÇÂêÑÁßçÊ±áÊä•ÔºåÊúàÂ∫¶„ÄÅÂ≠£Â∫¶„ÄÅÂçäÂπ¥Â∫¶„ÄÇ\n+ ÁÆ°ÁêÜËÄÖÁî®ÂäõËøáÁåõÔºåÂä®‰ΩúÂèòÂΩ¢„ÄÇÂØπÂëòÂ∑•ÊûÅÈôêÂéãÊ¶®Ôºå‰∏§‰∏™‰∫∫ÁöÑ‰∫ãÊÉÖ‰∏Ä‰∏™‰∫∫Âπ≤Ôºå996ÊêûËµ∑Êù•ÔºÅ\n\n![996](/images/internal-loss/996.jpg)\n\nÊàëÊõæÁªèÂê¨ËøáËøôÊ†∑‰∏ÄÂè•ËØù‚ÄúÊÄé‰πàÂà§Êñ≠‰∏Ä‰∏™ÂÖ¨Âè∏ÂºÄÂßãËµ∞‰∏ãÂù°Ë∑Ø‰∫ÜÔºüÁúã‰ªñÊòØ‰∏çÊòØÁ™ÅÁÑ∂ÂºÄÂßãÊäìËÄÉÂã§‰∫Ü‚Äù„ÄÇÁ°ÆÂÆûÂ¶ÇÊ≠§„ÄÇ\nÂÖ¨Âè∏Â¢ûÈïøÁöÑÊó∂ÂÄôÂêÑÁßçÂÆ£‰º†ÂºπÊÄßÂ∑•‰ΩúÂà∂ÔºåËØ∑ÂÅáÂçäÂ§©Ëµ∑Ôºå2hÂ∞èÊó∂‰ª•ÂÜÖÁöÑÂÅáÊúü‰∏çÈúÄË¶ÅÂèëËØ∑ÂÅáÁî≥ËØ∑ÔºåÁâπÊÆäÊÉÖÂÜµÂèØ‰ª•Áî≥ËØ∑Â±ÖÂÆ∂ÂäûÂÖ¨„ÄÇ\n\nÁ™ÅÁÑ∂Êúâ‰∏ÄÂ§©Ë∑ü‰Ω†ËØ¥ÔºåËøüÂà∞Ë¶ÅËØ¥ÊòéÂéüÂõ†ÔºåËøüÂà∞Ë¶ÅÊâ£Èí±„ÄÇËØ∑ÂÅáÁöÑÁ≥ªÁªüÊîØÊåÅÂà∞‰∫ÜÂ∞èÊó∂Á∫ßÔºåÂä†Áè≠Áî≥ËØ∑ÂëòÂ∑•Êó†Ê≥ïÂèëËµ∑ÔºåË¶ÅÈ¢ÜÂØºÂèëËµ∑„ÄÇ\n\nËøô‰∏™Êó∂ÂÄôÂ∞±ËÉΩÁü•ÈÅìÔºåÂÖ¨Âè∏Ëµ∞‰∏ãÂù°Ë∑Ø‰∫Ü„ÄÇËÄå‰∏îËÄÅÊùøÊ≤°‰ªéËá™Ë∫´ÊâæÂà∞ÂéüÂõ†ÔºåÂºÄÂßã‰ªéÂëòÂ∑•Ë∫´‰∏äÊâæÂéüÂõ†ÔºåÂëòÂ∑•Ê≤°Â•ΩÂ•ΩÂπ≤Ê¥ªÔºÅ\n‰ªéÊÑüË∞¢ÂëòÂ∑•ÁöÑ‰ªòÂá∫ÔºåÂà∞ÂëòÂ∑•Ë¶ÅÊÑüË∞¢ÂÖ¨Âè∏ÁªôÁöÑÂ∑•‰ΩúÂ≤ó‰Ωç„ÄÇ\n\n## 3. ÈÉ®Èó®ÈöîÈòÇ\n\nÁî±‰∫éÂêÑÈÉ®Èó®‰∏™Âõ¢Èòü‰πãÈó¥ÈÉΩÊòØÁ´û‰∫âÂÖ≥Á≥ª„ÄÇÂêÑÈÉ®Èó®ÊàñÂõ¢Èòü‰πãÈó¥ÂΩ¢Êàê‰ø°ÊÅØÂ≠§Â≤õÔºåÁº∫‰πèÂêà‰ΩúÂíåÂÖ±‰∫´ËµÑÊ∫êÁöÑÊÑèÊÑøÔºåÂØºËá¥Êï¥‰ΩìÊïàÁéá‰Ωé‰∏ã„ÄÇ\n‰∏öÁª©‰∏ãÊªëÔºåÂêÑÂõ¢Èòü‰πãÈó¥‰∫íÁõ∏ÈîÖÁî©ÈîÖ„ÄÇÈõÜÂõ¢ËØ¥ÈîÄÂîÆËÉΩÂäõÂ∑ÆÔºåÈîÄÂîÆËØ¥È°πÁõÆÂûÉÂúæÔºåÈ°πÁõÆËØ¥‰∫ßÂìÅÂûÉÂúæÔºå‰∫ßÂìÅËØ¥Âπ≥Âè∞ÂûÉÂúæ„ÄÇ\n\n+ Ê≤üÈÄö‰∏çÁïÖÔºöÈÉ®Èó®‰πãÈó¥ÊàñÂõ¢ÈòüÊàêÂëò‰πãÈó¥ÁöÑÊ≤üÈÄöÂ≠òÂú®ÈöúÁ¢çÔºå‰ø°ÊÅØ‰º†ÈÄí‰∏çÈ°∫ÁïÖÔºåÂØºËá¥ËØØËß£ÂíåÂÜ≤Á™Å„ÄÇ\n+ ÂÜ≥Á≠ñËøüÁºìÔºöÂÜ≥Á≠ñËøáÁ®ã‰∏≠ÁöÑÁäπË±´‰∏çÂÜ≥„ÄÅÊé®ËØøË¥£‰ªªÊàñËøáÂ∫¶ÂàÜÊûêÂØºËá¥Êú∫‰ºöÁöÑ‰∏ßÂ§±ÂíåÈ°πÁõÆËøõÂ∫¶ÁöÑÂª∂Ëøü„ÄÇ\n+ ËµÑÊ∫êÈáçÂ§çÊàñÊµ™Ë¥πÔºöÁî±‰∫éÁº∫‰πèÂçèË∞ÉÂíåËßÑÂàíÔºåÂèØËÉΩÂØºËá¥ËµÑÊ∫êÂú®‰∏çÂêåÈÉ®Èó®ÊàñÈ°πÁõÆ‰∏≠ÈáçÂ§çÊäïÂÖ•ÊàñÊú™ËÉΩÊúâÊïàÂà©Áî®„ÄÇ\n\n\n# ÂíãÂäûÔºü\n<font size=\"2\" color=\"#A9A9A9\">Â∞Ω‰∫∫‰∫ãÔºåÂê¨Â§©ÂëΩ„ÄÇÊâìËÉú‰ªóÊòØÊúÄÂ•ΩÁöÑÂõ¢Âª∫</font>\n\n‰∏ãÈù¢ÊòØËÄÅÂ§´Ëá™Â∑±ÁöÑ‰∏ÄÁÇπyyÔºåÈöè‰æøËÉ°‰æÉ„ÄÇ„ÄÇ„ÄÇ\n\nÂáèÂ∞ëÁªÑÁªáÂÜÖËÄóÔºå‰πüËØ¥‰∏ç‰∏ä‰ªÄ‰πàÊé™ÊñΩÂêßÔºåÂè™ËÉΩËØ¥Ë¶ÅÂùöÊåÅÁöÑÂéüÂàô\n\n1. ‰ªª‰∫∫ÂîØË¥§ÔºåÁñë‰∫∫‰∏çÁî®ÔºåÁî®‰∫∫‰∏çÁñë\nÊó†ËÆ∫ÊòØÂØπ‰∫éÁÆ°ÁêÜËÄÖËøòÊòØÂëòÂ∑•ÔºåÁåúÁñëÊòØÂÜÖËÄóÁöÑÂßã‰Ωú‰øëËÄÖ\n2. ÂÅöÂØπÁöÑ‰∫ã\nÈÄâÂØπ‰∫∫ÔºåËøòË¶ÅÂÅöÂØπÁöÑ‰∫ã„ÄÇÂâ©‰∏ãÁöÑÂ∞±‰∫§ÁªôÊó∂Èó¥Âêß„ÄÇÂÜµ‰∏îÂâ©‰∏ãÁöÑÂèØËÉΩ‰πü‰∏çÊòØ‰∫∫ÂäõËÉΩÂ§üÊäóË°°ÁöÑ‰∫Ü„ÄÇ\n\n\n# ÁªìËØ≠\nÊ≤°Âï•Â•ΩÊÄªÁªìÁöÑ‰∫Ü„ÄÇ\n\nÁªÑÁªáÂÜÖËÄóÊòØ‰ºÅ‰∏öÂèëÂ±ïÁöÑËá¥ÂëΩÊùÄÊâã„ÄÇ\n\nÈÄâÂØπ‰∫∫ÔºåÂÅöÂØπ‰∫ãÔºåÊãíÁªùÂÜÖÂç∑ÔºÅ\n\n\n\nÊõ¥Â§ö‰∏ÄÊâãËÆØÊÅØÔºåÂèØÂÖ≥Ê≥®ÂÖ¨‰ºóÂè∑Ôºö[ITProHub](https://myom-dev.oss-cn-hangzhou.aliyuncs.com/WechatPublicPlatformQrCode.jpg)\n\n![ITProHub](https://myom-dev.oss-cn-hangzhou.aliyuncs.com/WechatPublicPlatformQrCode.jpg)","slug":"organization-internal-loss","published":1,"updated":"2024-04-26T03:06:35.957Z","_id":"cluc17m5x0000qsp19fjj1lmy","comments":1,"layout":"post","photos":[],"link":"","content":"<p>ÂâçÊÆµÊó∂Èó¥ÂèëË°®ÁöÑÈÉΩÊòØÊäÄÊúØÁõ∏ÂÖ≥ÁöÑÊñáÁ´†Ôºå‰ªäÂ§©Êç¢Êç¢Âè£Âë≥ÔºåË∞à‰∏ÄË∞àÊúÄËøëÂÖ≥‰∫éÁªÑÁªáÂ∑•‰Ωú‰∏äÁöÑ‰∏Ä‰∫õÊÄùËÄÉ„ÄÇÂΩìÁÑ∂‰πüÊòØÊâæ‰∏™Âú∞ÊñπÂèëÂèëÁâ¢È™ö„ÄÇ„ÄÇ„ÄÇÂèØËÉΩÂ∞±ÊòØÊÉ≥Âà∞Âì™ÈáåÂÜôÂà∞Âì™Èáå<br><img src=\"/images/internal-loss/depressed.jpg\" alt=\"ÈÉÅÈó∑\"></p>\n<p>Áõ∏‰ø°Â§ßÂÆ∂Âú®Ê≠§‰πãÂâç‰πüÂ∏∏Â∏∏Âê¨Ëøá‰∏Ä‰∏™ËØ¥Ê≥ï‚ÄúÂú®ÁªÑÁªáÁÆ°ÁêÜ‰∏≠Ôºå‰∫∫Â∞±ÊòØÂÖ®ÈÉ®Ôºå‰∫∫Êâç‰πãÁóõÔºåÊòØÊúÄÂ§ßÁöÑÁóõÁÇπ„ÄÇ‚Äù</p>\n<p>‰∏ÄÂÆ∂‰ºÅ‰∏öÂú®Â¢ûÈïøÁöÑËøáÁ®ã‰∏≠ÔºåÂæàÂ§öÈóÆÈ¢òÈÉΩ‰ºöË¢´ÈöêËóèÊàñËÄÖËØ¥ÊòØÂøΩÁï•„ÄÇ‰ΩÜÊòØ‰∏ÄÊó¶‰∏çÂ¢ûÈïøÊàñËÄÖË¥üÂ¢ûÈïø‰∫ÜÔºåÊâÄÊúâÈóÆÈ¢òÈÉΩ‰ºöÊö¥Èú≤Âá∫Êù•ÔºåÁîöËá≥ÊòØÊàêÂÄçÁöÑÁàÜÂèë„ÄÇ</p>\n<p>ÊØ´‰∏çÂ§∏Âº†ÁöÑËØ¥Ôºå<em><strong>ÁªÑÁªáÂÜÖËÄó</strong></em> Â∞±ÊòØÊØÅÊéâ‰∏ÄÂÆ∂‰ºÅ‰∏öÊúÄÂø´ÁöÑÊñπÂºè„ÄÇ</p>\n<h1 id=\"ÁªÑÁªáÂÜÖËÄóÁöÑË°®Áé∞\"><a href=\"#ÁªÑÁªáÂÜÖËÄóÁöÑË°®Áé∞\" class=\"headerlink\" title=\"ÁªÑÁªáÂÜÖËÄóÁöÑË°®Áé∞\"></a>ÁªÑÁªáÂÜÖËÄóÁöÑË°®Áé∞</h1><p>‰ª•‰∏ãÊòØÊàëÊÉ≥Âà∞ÁöÑÊØîËæÉÈáçË¶ÅÁöÑÂá†‰∏™ÁÇπÔºåÊéíÂêçÂàÜÂÖàÂêéÔºÅÊõ¥ÂèØÊÄïÁöÑÊòØÔºåËøô‰∫õË°®Áé∞‰∏ÄËà¨‰∏ç‰ºöÂçïÁã¨Âá∫Áé∞ÔºåÈÉΩÊòØÊä±Âõ¢Âá∫Áé∞ÁöÑ„ÄÇ</p>\n<h2 id=\"1-ÂÜÖÂç∑Ôºà‰∏çÂÅ•Â∫∑ÁöÑÁ´û‰∫âÔºâ\"><a href=\"#1-ÂÜÖÂç∑Ôºà‰∏çÂÅ•Â∫∑ÁöÑÁ´û‰∫âÔºâ\" class=\"headerlink\" title=\"1. ÂÜÖÂç∑Ôºà‰∏çÂÅ•Â∫∑ÁöÑÁ´û‰∫âÔºâ\"></a>1. ÂÜÖÂç∑Ôºà‰∏çÂÅ•Â∫∑ÁöÑÁ´û‰∫âÔºâ</h2><p> Âú®Âõ¢ÈòüÂÜÖÈÉ®ÔºåÁªÑÁªáÂÜÖËÄó‰∏Ä‰∏™ÈáçË¶ÅÁöÑË°®Áé∞ÂΩ¢ÂºèÔºöÂÜÖÂç∑„ÄÇ Âï•ÊòØÂÜÖÂç∑ÔºüÊó†ÊÑè‰πâÁöÑÊ∂àËÄóÔºåÂΩ¢Âºè‰∏ª‰πâÈÉΩÂèØ‰ª•ÂÆö‰πâ‰∏∫ÂÜÖÂç∑„ÄÇ</p>\n<p>ËøôÂá†Âπ¥Ë°å‰∏ö‰∏ãË°åÔºåËÄÅÂ§´Â∞±ËÅåÁöÑÂÖ¨Âè∏‰πüÂá∫Áé∞‰∫Ü‰∏•ÈáçÁöÑ‰∏öÁª©‰∏ãÊªë„ÄÅ‰∫èÊçü„ÄÇ‰∏∫‰∫ÜÂÆûÁé∞‚ÄúÈÄÜÂäøÂ¢ûÈïø‚ÄùÔºåÂÖ¨Âè∏Ë¶ÅÊ±ÇÊèêÈ´ò‰∫∫ÊïàÔºå‰∫éÊòØÊèêÂá∫‰∫Ü‚Äú‰ªòÂá∫120%ÁöÑÂä™Âäõ‚ÄùÂè£Âè∑„ÄÇÂØπ‰∫éÈÇ£Â§öÂá∫Êù•ÁöÑ20%ÁöÑÁêÜËß£ÔºåÂêÑ‰∫ã‰∏öÈÉ®ÁöÑÁêÜËß£ÈÉΩÊòØ‰∏ÄËá¥ÁöÑÔºå<br>ÈÇ£Â∞±ÊòØ<strong>Âä†Áè≠</strong>„ÄÇ‰∫éÊòØ‰πéÂêÑÈÉ®Èó®ÊéÄËµ∑‰∫Ü‰∏ÄÊ≥¢Âä†Áè≠ÊΩÆÔºåË°®ÊºîÂºèÁöÑÂä†Áè≠ÊΩÆ„ÄÇ‰∏ãÁè≠Êó∂Èó¥Êó†ËÆ∫ÊúâÊ≤°Êúâ‰∫ãÂèçÊ≠£ÊòØËµ∞‰∏ç‰∫ÜÁöÑÔºåËµ∞‰∫ÜÁöÑÂ∞±ÊòØÂ∑•‰ΩúÈáèÈ•±Âíå„ÄÇÁÑ∂ÂêéÂ∞±Ë°çÁîüÂá∫‰∫ÜÂè¶Â§ñ‰∏Ä‰∏™ÈóÆÈ¢òÔºå‚ÄúÁ£®Ê¥ãÂ∑•‚Äù„ÄÇÊòéÊòéÂçäÂ§©ËÉΩÊêûÂÆöÁöÑÈúÄÊ±ÇÔºåÁ°¨ÊòØÊâòÁùÄ‰∏ÄÂ§©ÊâçËß£ÂÜ≥ÔºåÊàñËÄÖÁôΩÂ§©Êë∏È±ºÔºåÂä†Áè≠Âπ≤Ê¥ª„ÄÇ</p>\n<p>Âõ¢ÈòüÁÆ°ÁêÜ‰πüÊòØËøôÊ†∑ÔºåËøáÂ∫¶ËøΩÊ±ÇÂΩ¢Âºè‰∏ª‰πâÔºåÂè™Ê≥®ÈáçËøáÁ®ãÔºå‰∏çÊ≥®ÈáçÁªìÊûú„ÄÇÊúÄÂêéÂ∞±ÊòØ‰∫∫ÊïàÊ∞¥Âπ≥Êõ¥‰Ωé‰∫ÜÔºåÂùë‰∫ÜÂëòÂ∑•Ôºå‰πüÂùë‰∫ÜÁÆ°ÁêÜËÄÖ„ÄÇ</p>\n<p>ÂêåÊó∂Ôºå‰∏çÂÅ•Â∫∑ÁöÑÂÜÖÈÉ®Á´û‰∫âÂèØËÉΩÂØºËá¥ÂëòÂ∑•‰πãÈó¥ÁöÑÂØπÊäóÂíå‰∏çÂêà‰ΩúÔºåÂΩ±ÂìçÂõ¢ÈòüÂçè‰ΩúÔºå‰∫ßÁîü‰∏ãÈù¢‰ºöËØ¥Âà∞ÁöÑ‚ÄúÈÉ®Èó®ÈöîÈòÇ‚Äù„ÄÇ</p>\n<h2 id=\"2-‰ø°‰ªªÁº∫Â§±\"><a href=\"#2-‰ø°‰ªªÁº∫Â§±\" class=\"headerlink\" title=\"2. ‰ø°‰ªªÁº∫Â§±\"></a>2. ‰ø°‰ªªÁº∫Â§±</h2><p>‰∏öÁª©Â¢ûÈïøÁöÑÊó∂ÂÄôËøòÂ•ΩÔºå‰∏ÄÊó¶‰∏öÁª©‰∏ãÊªëÔºåÊï¥‰∏™ÂÖ¨Âè∏Èô∑ÂÖ•‰∫Ü‰∏ÄÊù°ÁåúÁñëÈìæ„ÄÇ</p>\n<p>ËÄÅÊùøÊÄÄÁñëÁÆ°ÁêÜËÄÖÊòØ‰∏çÊòØËÉΩÂäõÂíåËÅå‰Ωç‰∏çÂåπÈÖçÔºå‰∫éÊòØÂá∫Âè∞ÂêÑÁßçÊîøÁ≠ñÂíåÂèòÈù©ÔºåÁõëÁù£ÁÆ°ÁêÜËÄÖÂ•ΩÂ•ΩÂπ≤Ê¥ª„ÄÇ</p>\n<p>ÁÆ°ÁêÜËÄÖÊÄÄÁñëÂëòÂ∑•ÔºåÊòØ‰∏çÊòØÊØèÂ§©‰∏äÁè≠ÈÉΩÂú®Êë∏È±ºÔºåÊ∑∑Êó•Â≠ê„ÄÇ</p>\n<p>ÂëòÂ∑•ÊÄÄÁñëÂÖ¨Âè∏ÔºåÂÖ¨Âè∏ÊòØ‰∏çÊòØ‰∏çË°å‰∫ÜÔºåÊàëÊòØ‰∏çÊòØË¶ÅË¢´ÂºÄ‰∫ÜÔºåÁº∫‰πèÂÆâÂÖ®ÊÑü„ÄÇ</p>\n<p>‰∏ÄÊó¶ÁñëÂøÉÈìæÂΩ¢ÊàêÔºåÂÖ¨Âè∏Â∞±ÈÄâÂÖ•‰∫Ü‰∏ÄÁßçÊÅ∂ÊÄßÂæ™ÁéØÔºö</p>\n<ul>\n<li>ËÄÅÊùø‰∏çÊï¢ÊîæÊùÉÁÆ°ÁêÜËÄÖÔºåÈôçÁ∫ß‰ΩøÁî®„ÄÇÂêÑÁßçÊ±áÊä•ÔºåÊúàÂ∫¶„ÄÅÂ≠£Â∫¶„ÄÅÂçäÂπ¥Â∫¶„ÄÇ</li>\n<li>ÁÆ°ÁêÜËÄÖÁî®ÂäõËøáÁåõÔºåÂä®‰ΩúÂèòÂΩ¢„ÄÇÂØπÂëòÂ∑•ÊûÅÈôêÂéãÊ¶®Ôºå‰∏§‰∏™‰∫∫ÁöÑ‰∫ãÊÉÖ‰∏Ä‰∏™‰∫∫Âπ≤Ôºå996ÊêûËµ∑Êù•ÔºÅ</li>\n</ul>\n<p><img src=\"/images/internal-loss/996.jpg\" alt=\"996\"></p>\n<p>ÊàëÊõæÁªèÂê¨ËøáËøôÊ†∑‰∏ÄÂè•ËØù‚ÄúÊÄé‰πàÂà§Êñ≠‰∏Ä‰∏™ÂÖ¨Âè∏ÂºÄÂßãËµ∞‰∏ãÂù°Ë∑Ø‰∫ÜÔºüÁúã‰ªñÊòØ‰∏çÊòØÁ™ÅÁÑ∂ÂºÄÂßãÊäìËÄÉÂã§‰∫Ü‚Äù„ÄÇÁ°ÆÂÆûÂ¶ÇÊ≠§„ÄÇ<br>ÂÖ¨Âè∏Â¢ûÈïøÁöÑÊó∂ÂÄôÂêÑÁßçÂÆ£‰º†ÂºπÊÄßÂ∑•‰ΩúÂà∂ÔºåËØ∑ÂÅáÂçäÂ§©Ëµ∑Ôºå2hÂ∞èÊó∂‰ª•ÂÜÖÁöÑÂÅáÊúü‰∏çÈúÄË¶ÅÂèëËØ∑ÂÅáÁî≥ËØ∑ÔºåÁâπÊÆäÊÉÖÂÜµÂèØ‰ª•Áî≥ËØ∑Â±ÖÂÆ∂ÂäûÂÖ¨„ÄÇ</p>\n<p>Á™ÅÁÑ∂Êúâ‰∏ÄÂ§©Ë∑ü‰Ω†ËØ¥ÔºåËøüÂà∞Ë¶ÅËØ¥ÊòéÂéüÂõ†ÔºåËøüÂà∞Ë¶ÅÊâ£Èí±„ÄÇËØ∑ÂÅáÁöÑÁ≥ªÁªüÊîØÊåÅÂà∞‰∫ÜÂ∞èÊó∂Á∫ßÔºåÂä†Áè≠Áî≥ËØ∑ÂëòÂ∑•Êó†Ê≥ïÂèëËµ∑ÔºåË¶ÅÈ¢ÜÂØºÂèëËµ∑„ÄÇ</p>\n<p>Ëøô‰∏™Êó∂ÂÄôÂ∞±ËÉΩÁü•ÈÅìÔºåÂÖ¨Âè∏Ëµ∞‰∏ãÂù°Ë∑Ø‰∫Ü„ÄÇËÄå‰∏îËÄÅÊùøÊ≤°‰ªéËá™Ë∫´ÊâæÂà∞ÂéüÂõ†ÔºåÂºÄÂßã‰ªéÂëòÂ∑•Ë∫´‰∏äÊâæÂéüÂõ†ÔºåÂëòÂ∑•Ê≤°Â•ΩÂ•ΩÂπ≤Ê¥ªÔºÅ<br>‰ªéÊÑüË∞¢ÂëòÂ∑•ÁöÑ‰ªòÂá∫ÔºåÂà∞ÂëòÂ∑•Ë¶ÅÊÑüË∞¢ÂÖ¨Âè∏ÁªôÁöÑÂ∑•‰ΩúÂ≤ó‰Ωç„ÄÇ</p>\n<h2 id=\"3-ÈÉ®Èó®ÈöîÈòÇ\"><a href=\"#3-ÈÉ®Èó®ÈöîÈòÇ\" class=\"headerlink\" title=\"3. ÈÉ®Èó®ÈöîÈòÇ\"></a>3. ÈÉ®Èó®ÈöîÈòÇ</h2><p>Áî±‰∫éÂêÑÈÉ®Èó®‰∏™Âõ¢Èòü‰πãÈó¥ÈÉΩÊòØÁ´û‰∫âÂÖ≥Á≥ª„ÄÇÂêÑÈÉ®Èó®ÊàñÂõ¢Èòü‰πãÈó¥ÂΩ¢Êàê‰ø°ÊÅØÂ≠§Â≤õÔºåÁº∫‰πèÂêà‰ΩúÂíåÂÖ±‰∫´ËµÑÊ∫êÁöÑÊÑèÊÑøÔºåÂØºËá¥Êï¥‰ΩìÊïàÁéá‰Ωé‰∏ã„ÄÇ<br>‰∏öÁª©‰∏ãÊªëÔºåÂêÑÂõ¢Èòü‰πãÈó¥‰∫íÁõ∏ÈîÖÁî©ÈîÖ„ÄÇÈõÜÂõ¢ËØ¥ÈîÄÂîÆËÉΩÂäõÂ∑ÆÔºåÈîÄÂîÆËØ¥È°πÁõÆÂûÉÂúæÔºåÈ°πÁõÆËØ¥‰∫ßÂìÅÂûÉÂúæÔºå‰∫ßÂìÅËØ¥Âπ≥Âè∞ÂûÉÂúæ„ÄÇ</p>\n<ul>\n<li>Ê≤üÈÄö‰∏çÁïÖÔºöÈÉ®Èó®‰πãÈó¥ÊàñÂõ¢ÈòüÊàêÂëò‰πãÈó¥ÁöÑÊ≤üÈÄöÂ≠òÂú®ÈöúÁ¢çÔºå‰ø°ÊÅØ‰º†ÈÄí‰∏çÈ°∫ÁïÖÔºåÂØºËá¥ËØØËß£ÂíåÂÜ≤Á™Å„ÄÇ</li>\n<li>ÂÜ≥Á≠ñËøüÁºìÔºöÂÜ≥Á≠ñËøáÁ®ã‰∏≠ÁöÑÁäπË±´‰∏çÂÜ≥„ÄÅÊé®ËØøË¥£‰ªªÊàñËøáÂ∫¶ÂàÜÊûêÂØºËá¥Êú∫‰ºöÁöÑ‰∏ßÂ§±ÂíåÈ°πÁõÆËøõÂ∫¶ÁöÑÂª∂Ëøü„ÄÇ</li>\n<li>ËµÑÊ∫êÈáçÂ§çÊàñÊµ™Ë¥πÔºöÁî±‰∫éÁº∫‰πèÂçèË∞ÉÂíåËßÑÂàíÔºåÂèØËÉΩÂØºËá¥ËµÑÊ∫êÂú®‰∏çÂêåÈÉ®Èó®ÊàñÈ°πÁõÆ‰∏≠ÈáçÂ§çÊäïÂÖ•ÊàñÊú™ËÉΩÊúâÊïàÂà©Áî®„ÄÇ</li>\n</ul>\n<h1 id=\"ÂíãÂäûÔºü\"><a href=\"#ÂíãÂäûÔºü\" class=\"headerlink\" title=\"ÂíãÂäûÔºü\"></a>ÂíãÂäûÔºü</h1><p><font size=\"2\" color=\"#A9A9A9\">Â∞Ω‰∫∫‰∫ãÔºåÂê¨Â§©ÂëΩ„ÄÇÊâìËÉú‰ªóÊòØÊúÄÂ•ΩÁöÑÂõ¢Âª∫</font></p>\n<p>‰∏ãÈù¢ÊòØËÄÅÂ§´Ëá™Â∑±ÁöÑ‰∏ÄÁÇπyyÔºåÈöè‰æøËÉ°‰æÉ„ÄÇ„ÄÇ„ÄÇ</p>\n<p>ÂáèÂ∞ëÁªÑÁªáÂÜÖËÄóÔºå‰πüËØ¥‰∏ç‰∏ä‰ªÄ‰πàÊé™ÊñΩÂêßÔºåÂè™ËÉΩËØ¥Ë¶ÅÂùöÊåÅÁöÑÂéüÂàô</p>\n<ol>\n<li>‰ªª‰∫∫ÂîØË¥§ÔºåÁñë‰∫∫‰∏çÁî®ÔºåÁî®‰∫∫‰∏çÁñë<br>Êó†ËÆ∫ÊòØÂØπ‰∫éÁÆ°ÁêÜËÄÖËøòÊòØÂëòÂ∑•ÔºåÁåúÁñëÊòØÂÜÖËÄóÁöÑÂßã‰Ωú‰øëËÄÖ</li>\n<li>ÂÅöÂØπÁöÑ‰∫ã<br>ÈÄâÂØπ‰∫∫ÔºåËøòË¶ÅÂÅöÂØπÁöÑ‰∫ã„ÄÇÂâ©‰∏ãÁöÑÂ∞±‰∫§ÁªôÊó∂Èó¥Âêß„ÄÇÂÜµ‰∏îÂâ©‰∏ãÁöÑÂèØËÉΩ‰πü‰∏çÊòØ‰∫∫ÂäõËÉΩÂ§üÊäóË°°ÁöÑ‰∫Ü„ÄÇ</li>\n</ol>\n<h1 id=\"ÁªìËØ≠\"><a href=\"#ÁªìËØ≠\" class=\"headerlink\" title=\"ÁªìËØ≠\"></a>ÁªìËØ≠</h1><p>Ê≤°Âï•Â•ΩÊÄªÁªìÁöÑ‰∫Ü„ÄÇ</p>\n<p>ÁªÑÁªáÂÜÖËÄóÊòØ‰ºÅ‰∏öÂèëÂ±ïÁöÑËá¥ÂëΩÊùÄÊâã„ÄÇ</p>\n<p>ÈÄâÂØπ‰∫∫ÔºåÂÅöÂØπ‰∫ãÔºåÊãíÁªùÂÜÖÂç∑ÔºÅ</p>\n<p>Êõ¥Â§ö‰∏ÄÊâãËÆØÊÅØÔºåÂèØÂÖ≥Ê≥®ÂÖ¨‰ºóÂè∑Ôºö<a href=\"https://myom-dev.oss-cn-hangzhou.aliyuncs.com/WechatPublicPlatformQrCode.jpg\">ITProHub</a></p>\n<p><img src=\"https://myom-dev.oss-cn-hangzhou.aliyuncs.com/WechatPublicPlatformQrCode.jpg\" alt=\"ITProHub\"></p>\n","site":{"data":{}},"excerpt":"","more":"<p>ÂâçÊÆµÊó∂Èó¥ÂèëË°®ÁöÑÈÉΩÊòØÊäÄÊúØÁõ∏ÂÖ≥ÁöÑÊñáÁ´†Ôºå‰ªäÂ§©Êç¢Êç¢Âè£Âë≥ÔºåË∞à‰∏ÄË∞àÊúÄËøëÂÖ≥‰∫éÁªÑÁªáÂ∑•‰Ωú‰∏äÁöÑ‰∏Ä‰∫õÊÄùËÄÉ„ÄÇÂΩìÁÑ∂‰πüÊòØÊâæ‰∏™Âú∞ÊñπÂèëÂèëÁâ¢È™ö„ÄÇ„ÄÇ„ÄÇÂèØËÉΩÂ∞±ÊòØÊÉ≥Âà∞Âì™ÈáåÂÜôÂà∞Âì™Èáå<br><img src=\"/images/internal-loss/depressed.jpg\" alt=\"ÈÉÅÈó∑\"></p>\n<p>Áõ∏‰ø°Â§ßÂÆ∂Âú®Ê≠§‰πãÂâç‰πüÂ∏∏Â∏∏Âê¨Ëøá‰∏Ä‰∏™ËØ¥Ê≥ï‚ÄúÂú®ÁªÑÁªáÁÆ°ÁêÜ‰∏≠Ôºå‰∫∫Â∞±ÊòØÂÖ®ÈÉ®Ôºå‰∫∫Êâç‰πãÁóõÔºåÊòØÊúÄÂ§ßÁöÑÁóõÁÇπ„ÄÇ‚Äù</p>\n<p>‰∏ÄÂÆ∂‰ºÅ‰∏öÂú®Â¢ûÈïøÁöÑËøáÁ®ã‰∏≠ÔºåÂæàÂ§öÈóÆÈ¢òÈÉΩ‰ºöË¢´ÈöêËóèÊàñËÄÖËØ¥ÊòØÂøΩÁï•„ÄÇ‰ΩÜÊòØ‰∏ÄÊó¶‰∏çÂ¢ûÈïøÊàñËÄÖË¥üÂ¢ûÈïø‰∫ÜÔºåÊâÄÊúâÈóÆÈ¢òÈÉΩ‰ºöÊö¥Èú≤Âá∫Êù•ÔºåÁîöËá≥ÊòØÊàêÂÄçÁöÑÁàÜÂèë„ÄÇ</p>\n<p>ÊØ´‰∏çÂ§∏Âº†ÁöÑËØ¥Ôºå<em><strong>ÁªÑÁªáÂÜÖËÄó</strong></em> Â∞±ÊòØÊØÅÊéâ‰∏ÄÂÆ∂‰ºÅ‰∏öÊúÄÂø´ÁöÑÊñπÂºè„ÄÇ</p>\n<h1 id=\"ÁªÑÁªáÂÜÖËÄóÁöÑË°®Áé∞\"><a href=\"#ÁªÑÁªáÂÜÖËÄóÁöÑË°®Áé∞\" class=\"headerlink\" title=\"ÁªÑÁªáÂÜÖËÄóÁöÑË°®Áé∞\"></a>ÁªÑÁªáÂÜÖËÄóÁöÑË°®Áé∞</h1><p>‰ª•‰∏ãÊòØÊàëÊÉ≥Âà∞ÁöÑÊØîËæÉÈáçË¶ÅÁöÑÂá†‰∏™ÁÇπÔºåÊéíÂêçÂàÜÂÖàÂêéÔºÅÊõ¥ÂèØÊÄïÁöÑÊòØÔºåËøô‰∫õË°®Áé∞‰∏ÄËà¨‰∏ç‰ºöÂçïÁã¨Âá∫Áé∞ÔºåÈÉΩÊòØÊä±Âõ¢Âá∫Áé∞ÁöÑ„ÄÇ</p>\n<h2 id=\"1-ÂÜÖÂç∑Ôºà‰∏çÂÅ•Â∫∑ÁöÑÁ´û‰∫âÔºâ\"><a href=\"#1-ÂÜÖÂç∑Ôºà‰∏çÂÅ•Â∫∑ÁöÑÁ´û‰∫âÔºâ\" class=\"headerlink\" title=\"1. ÂÜÖÂç∑Ôºà‰∏çÂÅ•Â∫∑ÁöÑÁ´û‰∫âÔºâ\"></a>1. ÂÜÖÂç∑Ôºà‰∏çÂÅ•Â∫∑ÁöÑÁ´û‰∫âÔºâ</h2><p> Âú®Âõ¢ÈòüÂÜÖÈÉ®ÔºåÁªÑÁªáÂÜÖËÄó‰∏Ä‰∏™ÈáçË¶ÅÁöÑË°®Áé∞ÂΩ¢ÂºèÔºöÂÜÖÂç∑„ÄÇ Âï•ÊòØÂÜÖÂç∑ÔºüÊó†ÊÑè‰πâÁöÑÊ∂àËÄóÔºåÂΩ¢Âºè‰∏ª‰πâÈÉΩÂèØ‰ª•ÂÆö‰πâ‰∏∫ÂÜÖÂç∑„ÄÇ</p>\n<p>ËøôÂá†Âπ¥Ë°å‰∏ö‰∏ãË°åÔºåËÄÅÂ§´Â∞±ËÅåÁöÑÂÖ¨Âè∏‰πüÂá∫Áé∞‰∫Ü‰∏•ÈáçÁöÑ‰∏öÁª©‰∏ãÊªë„ÄÅ‰∫èÊçü„ÄÇ‰∏∫‰∫ÜÂÆûÁé∞‚ÄúÈÄÜÂäøÂ¢ûÈïø‚ÄùÔºåÂÖ¨Âè∏Ë¶ÅÊ±ÇÊèêÈ´ò‰∫∫ÊïàÔºå‰∫éÊòØÊèêÂá∫‰∫Ü‚Äú‰ªòÂá∫120%ÁöÑÂä™Âäõ‚ÄùÂè£Âè∑„ÄÇÂØπ‰∫éÈÇ£Â§öÂá∫Êù•ÁöÑ20%ÁöÑÁêÜËß£ÔºåÂêÑ‰∫ã‰∏öÈÉ®ÁöÑÁêÜËß£ÈÉΩÊòØ‰∏ÄËá¥ÁöÑÔºå<br>ÈÇ£Â∞±ÊòØ<strong>Âä†Áè≠</strong>„ÄÇ‰∫éÊòØ‰πéÂêÑÈÉ®Èó®ÊéÄËµ∑‰∫Ü‰∏ÄÊ≥¢Âä†Áè≠ÊΩÆÔºåË°®ÊºîÂºèÁöÑÂä†Áè≠ÊΩÆ„ÄÇ‰∏ãÁè≠Êó∂Èó¥Êó†ËÆ∫ÊúâÊ≤°Êúâ‰∫ãÂèçÊ≠£ÊòØËµ∞‰∏ç‰∫ÜÁöÑÔºåËµ∞‰∫ÜÁöÑÂ∞±ÊòØÂ∑•‰ΩúÈáèÈ•±Âíå„ÄÇÁÑ∂ÂêéÂ∞±Ë°çÁîüÂá∫‰∫ÜÂè¶Â§ñ‰∏Ä‰∏™ÈóÆÈ¢òÔºå‚ÄúÁ£®Ê¥ãÂ∑•‚Äù„ÄÇÊòéÊòéÂçäÂ§©ËÉΩÊêûÂÆöÁöÑÈúÄÊ±ÇÔºåÁ°¨ÊòØÊâòÁùÄ‰∏ÄÂ§©ÊâçËß£ÂÜ≥ÔºåÊàñËÄÖÁôΩÂ§©Êë∏È±ºÔºåÂä†Áè≠Âπ≤Ê¥ª„ÄÇ</p>\n<p>Âõ¢ÈòüÁÆ°ÁêÜ‰πüÊòØËøôÊ†∑ÔºåËøáÂ∫¶ËøΩÊ±ÇÂΩ¢Âºè‰∏ª‰πâÔºåÂè™Ê≥®ÈáçËøáÁ®ãÔºå‰∏çÊ≥®ÈáçÁªìÊûú„ÄÇÊúÄÂêéÂ∞±ÊòØ‰∫∫ÊïàÊ∞¥Âπ≥Êõ¥‰Ωé‰∫ÜÔºåÂùë‰∫ÜÂëòÂ∑•Ôºå‰πüÂùë‰∫ÜÁÆ°ÁêÜËÄÖ„ÄÇ</p>\n<p>ÂêåÊó∂Ôºå‰∏çÂÅ•Â∫∑ÁöÑÂÜÖÈÉ®Á´û‰∫âÂèØËÉΩÂØºËá¥ÂëòÂ∑•‰πãÈó¥ÁöÑÂØπÊäóÂíå‰∏çÂêà‰ΩúÔºåÂΩ±ÂìçÂõ¢ÈòüÂçè‰ΩúÔºå‰∫ßÁîü‰∏ãÈù¢‰ºöËØ¥Âà∞ÁöÑ‚ÄúÈÉ®Èó®ÈöîÈòÇ‚Äù„ÄÇ</p>\n<h2 id=\"2-‰ø°‰ªªÁº∫Â§±\"><a href=\"#2-‰ø°‰ªªÁº∫Â§±\" class=\"headerlink\" title=\"2. ‰ø°‰ªªÁº∫Â§±\"></a>2. ‰ø°‰ªªÁº∫Â§±</h2><p>‰∏öÁª©Â¢ûÈïøÁöÑÊó∂ÂÄôËøòÂ•ΩÔºå‰∏ÄÊó¶‰∏öÁª©‰∏ãÊªëÔºåÊï¥‰∏™ÂÖ¨Âè∏Èô∑ÂÖ•‰∫Ü‰∏ÄÊù°ÁåúÁñëÈìæ„ÄÇ</p>\n<p>ËÄÅÊùøÊÄÄÁñëÁÆ°ÁêÜËÄÖÊòØ‰∏çÊòØËÉΩÂäõÂíåËÅå‰Ωç‰∏çÂåπÈÖçÔºå‰∫éÊòØÂá∫Âè∞ÂêÑÁßçÊîøÁ≠ñÂíåÂèòÈù©ÔºåÁõëÁù£ÁÆ°ÁêÜËÄÖÂ•ΩÂ•ΩÂπ≤Ê¥ª„ÄÇ</p>\n<p>ÁÆ°ÁêÜËÄÖÊÄÄÁñëÂëòÂ∑•ÔºåÊòØ‰∏çÊòØÊØèÂ§©‰∏äÁè≠ÈÉΩÂú®Êë∏È±ºÔºåÊ∑∑Êó•Â≠ê„ÄÇ</p>\n<p>ÂëòÂ∑•ÊÄÄÁñëÂÖ¨Âè∏ÔºåÂÖ¨Âè∏ÊòØ‰∏çÊòØ‰∏çË°å‰∫ÜÔºåÊàëÊòØ‰∏çÊòØË¶ÅË¢´ÂºÄ‰∫ÜÔºåÁº∫‰πèÂÆâÂÖ®ÊÑü„ÄÇ</p>\n<p>‰∏ÄÊó¶ÁñëÂøÉÈìæÂΩ¢ÊàêÔºåÂÖ¨Âè∏Â∞±ÈÄâÂÖ•‰∫Ü‰∏ÄÁßçÊÅ∂ÊÄßÂæ™ÁéØÔºö</p>\n<ul>\n<li>ËÄÅÊùø‰∏çÊï¢ÊîæÊùÉÁÆ°ÁêÜËÄÖÔºåÈôçÁ∫ß‰ΩøÁî®„ÄÇÂêÑÁßçÊ±áÊä•ÔºåÊúàÂ∫¶„ÄÅÂ≠£Â∫¶„ÄÅÂçäÂπ¥Â∫¶„ÄÇ</li>\n<li>ÁÆ°ÁêÜËÄÖÁî®ÂäõËøáÁåõÔºåÂä®‰ΩúÂèòÂΩ¢„ÄÇÂØπÂëòÂ∑•ÊûÅÈôêÂéãÊ¶®Ôºå‰∏§‰∏™‰∫∫ÁöÑ‰∫ãÊÉÖ‰∏Ä‰∏™‰∫∫Âπ≤Ôºå996ÊêûËµ∑Êù•ÔºÅ</li>\n</ul>\n<p><img src=\"/images/internal-loss/996.jpg\" alt=\"996\"></p>\n<p>ÊàëÊõæÁªèÂê¨ËøáËøôÊ†∑‰∏ÄÂè•ËØù‚ÄúÊÄé‰πàÂà§Êñ≠‰∏Ä‰∏™ÂÖ¨Âè∏ÂºÄÂßãËµ∞‰∏ãÂù°Ë∑Ø‰∫ÜÔºüÁúã‰ªñÊòØ‰∏çÊòØÁ™ÅÁÑ∂ÂºÄÂßãÊäìËÄÉÂã§‰∫Ü‚Äù„ÄÇÁ°ÆÂÆûÂ¶ÇÊ≠§„ÄÇ<br>ÂÖ¨Âè∏Â¢ûÈïøÁöÑÊó∂ÂÄôÂêÑÁßçÂÆ£‰º†ÂºπÊÄßÂ∑•‰ΩúÂà∂ÔºåËØ∑ÂÅáÂçäÂ§©Ëµ∑Ôºå2hÂ∞èÊó∂‰ª•ÂÜÖÁöÑÂÅáÊúü‰∏çÈúÄË¶ÅÂèëËØ∑ÂÅáÁî≥ËØ∑ÔºåÁâπÊÆäÊÉÖÂÜµÂèØ‰ª•Áî≥ËØ∑Â±ÖÂÆ∂ÂäûÂÖ¨„ÄÇ</p>\n<p>Á™ÅÁÑ∂Êúâ‰∏ÄÂ§©Ë∑ü‰Ω†ËØ¥ÔºåËøüÂà∞Ë¶ÅËØ¥ÊòéÂéüÂõ†ÔºåËøüÂà∞Ë¶ÅÊâ£Èí±„ÄÇËØ∑ÂÅáÁöÑÁ≥ªÁªüÊîØÊåÅÂà∞‰∫ÜÂ∞èÊó∂Á∫ßÔºåÂä†Áè≠Áî≥ËØ∑ÂëòÂ∑•Êó†Ê≥ïÂèëËµ∑ÔºåË¶ÅÈ¢ÜÂØºÂèëËµ∑„ÄÇ</p>\n<p>Ëøô‰∏™Êó∂ÂÄôÂ∞±ËÉΩÁü•ÈÅìÔºåÂÖ¨Âè∏Ëµ∞‰∏ãÂù°Ë∑Ø‰∫Ü„ÄÇËÄå‰∏îËÄÅÊùøÊ≤°‰ªéËá™Ë∫´ÊâæÂà∞ÂéüÂõ†ÔºåÂºÄÂßã‰ªéÂëòÂ∑•Ë∫´‰∏äÊâæÂéüÂõ†ÔºåÂëòÂ∑•Ê≤°Â•ΩÂ•ΩÂπ≤Ê¥ªÔºÅ<br>‰ªéÊÑüË∞¢ÂëòÂ∑•ÁöÑ‰ªòÂá∫ÔºåÂà∞ÂëòÂ∑•Ë¶ÅÊÑüË∞¢ÂÖ¨Âè∏ÁªôÁöÑÂ∑•‰ΩúÂ≤ó‰Ωç„ÄÇ</p>\n<h2 id=\"3-ÈÉ®Èó®ÈöîÈòÇ\"><a href=\"#3-ÈÉ®Èó®ÈöîÈòÇ\" class=\"headerlink\" title=\"3. ÈÉ®Èó®ÈöîÈòÇ\"></a>3. ÈÉ®Èó®ÈöîÈòÇ</h2><p>Áî±‰∫éÂêÑÈÉ®Èó®‰∏™Âõ¢Èòü‰πãÈó¥ÈÉΩÊòØÁ´û‰∫âÂÖ≥Á≥ª„ÄÇÂêÑÈÉ®Èó®ÊàñÂõ¢Èòü‰πãÈó¥ÂΩ¢Êàê‰ø°ÊÅØÂ≠§Â≤õÔºåÁº∫‰πèÂêà‰ΩúÂíåÂÖ±‰∫´ËµÑÊ∫êÁöÑÊÑèÊÑøÔºåÂØºËá¥Êï¥‰ΩìÊïàÁéá‰Ωé‰∏ã„ÄÇ<br>‰∏öÁª©‰∏ãÊªëÔºåÂêÑÂõ¢Èòü‰πãÈó¥‰∫íÁõ∏ÈîÖÁî©ÈîÖ„ÄÇÈõÜÂõ¢ËØ¥ÈîÄÂîÆËÉΩÂäõÂ∑ÆÔºåÈîÄÂîÆËØ¥È°πÁõÆÂûÉÂúæÔºåÈ°πÁõÆËØ¥‰∫ßÂìÅÂûÉÂúæÔºå‰∫ßÂìÅËØ¥Âπ≥Âè∞ÂûÉÂúæ„ÄÇ</p>\n<ul>\n<li>Ê≤üÈÄö‰∏çÁïÖÔºöÈÉ®Èó®‰πãÈó¥ÊàñÂõ¢ÈòüÊàêÂëò‰πãÈó¥ÁöÑÊ≤üÈÄöÂ≠òÂú®ÈöúÁ¢çÔºå‰ø°ÊÅØ‰º†ÈÄí‰∏çÈ°∫ÁïÖÔºåÂØºËá¥ËØØËß£ÂíåÂÜ≤Á™Å„ÄÇ</li>\n<li>ÂÜ≥Á≠ñËøüÁºìÔºöÂÜ≥Á≠ñËøáÁ®ã‰∏≠ÁöÑÁäπË±´‰∏çÂÜ≥„ÄÅÊé®ËØøË¥£‰ªªÊàñËøáÂ∫¶ÂàÜÊûêÂØºËá¥Êú∫‰ºöÁöÑ‰∏ßÂ§±ÂíåÈ°πÁõÆËøõÂ∫¶ÁöÑÂª∂Ëøü„ÄÇ</li>\n<li>ËµÑÊ∫êÈáçÂ§çÊàñÊµ™Ë¥πÔºöÁî±‰∫éÁº∫‰πèÂçèË∞ÉÂíåËßÑÂàíÔºåÂèØËÉΩÂØºËá¥ËµÑÊ∫êÂú®‰∏çÂêåÈÉ®Èó®ÊàñÈ°πÁõÆ‰∏≠ÈáçÂ§çÊäïÂÖ•ÊàñÊú™ËÉΩÊúâÊïàÂà©Áî®„ÄÇ</li>\n</ul>\n<h1 id=\"ÂíãÂäûÔºü\"><a href=\"#ÂíãÂäûÔºü\" class=\"headerlink\" title=\"ÂíãÂäûÔºü\"></a>ÂíãÂäûÔºü</h1><p><font size=\"2\" color=\"#A9A9A9\">Â∞Ω‰∫∫‰∫ãÔºåÂê¨Â§©ÂëΩ„ÄÇÊâìËÉú‰ªóÊòØÊúÄÂ•ΩÁöÑÂõ¢Âª∫</font></p>\n<p>‰∏ãÈù¢ÊòØËÄÅÂ§´Ëá™Â∑±ÁöÑ‰∏ÄÁÇπyyÔºåÈöè‰æøËÉ°‰æÉ„ÄÇ„ÄÇ„ÄÇ</p>\n<p>ÂáèÂ∞ëÁªÑÁªáÂÜÖËÄóÔºå‰πüËØ¥‰∏ç‰∏ä‰ªÄ‰πàÊé™ÊñΩÂêßÔºåÂè™ËÉΩËØ¥Ë¶ÅÂùöÊåÅÁöÑÂéüÂàô</p>\n<ol>\n<li>‰ªª‰∫∫ÂîØË¥§ÔºåÁñë‰∫∫‰∏çÁî®ÔºåÁî®‰∫∫‰∏çÁñë<br>Êó†ËÆ∫ÊòØÂØπ‰∫éÁÆ°ÁêÜËÄÖËøòÊòØÂëòÂ∑•ÔºåÁåúÁñëÊòØÂÜÖËÄóÁöÑÂßã‰Ωú‰øëËÄÖ</li>\n<li>ÂÅöÂØπÁöÑ‰∫ã<br>ÈÄâÂØπ‰∫∫ÔºåËøòË¶ÅÂÅöÂØπÁöÑ‰∫ã„ÄÇÂâ©‰∏ãÁöÑÂ∞±‰∫§ÁªôÊó∂Èó¥Âêß„ÄÇÂÜµ‰∏îÂâ©‰∏ãÁöÑÂèØËÉΩ‰πü‰∏çÊòØ‰∫∫ÂäõËÉΩÂ§üÊäóË°°ÁöÑ‰∫Ü„ÄÇ</li>\n</ol>\n<h1 id=\"ÁªìËØ≠\"><a href=\"#ÁªìËØ≠\" class=\"headerlink\" title=\"ÁªìËØ≠\"></a>ÁªìËØ≠</h1><p>Ê≤°Âï•Â•ΩÊÄªÁªìÁöÑ‰∫Ü„ÄÇ</p>\n<p>ÁªÑÁªáÂÜÖËÄóÊòØ‰ºÅ‰∏öÂèëÂ±ïÁöÑËá¥ÂëΩÊùÄÊâã„ÄÇ</p>\n<p>ÈÄâÂØπ‰∫∫ÔºåÂÅöÂØπ‰∫ãÔºåÊãíÁªùÂÜÖÂç∑ÔºÅ</p>\n<p>Êõ¥Â§ö‰∏ÄÊâãËÆØÊÅØÔºåÂèØÂÖ≥Ê≥®ÂÖ¨‰ºóÂè∑Ôºö<a href=\"https://myom-dev.oss-cn-hangzhou.aliyuncs.com/WechatPublicPlatformQrCode.jpg\">ITProHub</a></p>\n<p><img src=\"https://myom-dev.oss-cn-hangzhou.aliyuncs.com/WechatPublicPlatformQrCode.jpg\" alt=\"ITProHub\"></p>\n"},{"title":"GarnetÔºåÁºìÂ≠òÁöÑÊñ∞ÈÄâÊã©ÔºÅ","date":"2024-04-07T07:24:24.000Z","_content":"\nÂè∑Â§ñÂè∑Â§ñÔºÅ\n1. redis‰∏çÂÜç‚ÄúÂºÄÊ∫ê‚ÄùÔºõ\n2. ÂæÆËΩØÂºÄÊ∫ê‰∫ÜGarnet\n\n#  ‰ªÄ‰πàÊòØGarnetÔºü\nGarnetÊòØÂæÆËΩØÊé®Âá∫ÁöÑ‰∏ÄÊ¨æËøúÁ®ãÁºìÂ≠òÂ≠òÂÇ®Á≥ªÁªüÔºåÊó®Âú®‰∏∫ÂºÄÂèëËÄÖÊèê‰æõÈ´òÊÄßËÉΩ„ÄÅÂèØÈù†ÊÄßÂíåÂèØ‰º∏Áº©ÊÄßÁöÑÁºìÂ≠òËß£ÂÜ≥ÊñπÊ°à„ÄÇÂÆÉÈááÁî®‰∫ÜÁé∞‰ª£ÂåñÁöÑÊû∂ÊûÑÂíåÊäÄÊúØÔºåÂÖ∑ÊúâÈ´òÂ∫¶ÂèØÂÆöÂà∂ÊÄßÂíåÁÅµÊ¥ªÊÄßÔºåÈÄÇÁî®‰∫éÂêÑÁßçËßÑÊ®°ÂíåÁ±ªÂûãÁöÑÂ∫îÁî®Âú∫ÊôØ„ÄÇ\n\n# ÁâπÊÄßÂíå‰ºòÂäø\n1. È´òÊÄßËÉΩ\n\n   &nbsp; GarnetÈááÁî®‰∫ÜÈ´òÊïàÁöÑÁºìÂ≠òÁÆóÊ≥ïÂíåÊï∞ÊçÆÁªìÊûÑÔºå‰ª•ÂÆûÁé∞Âø´ÈÄüÁöÑÊï∞ÊçÆËÆøÈóÆÂíåÂìçÂ∫î„ÄÇÂÆÉÊîØÊåÅÂπ∂ÂèëËÆøÈóÆÂíåÈ´òÂêûÂêêÈáèÔºåËÉΩÂ§üÂ§ÑÁêÜÂ§ßËßÑÊ®°ÁöÑËØ∑Ê±ÇÊµÅÈáè„ÄÇ\n  GarnetÈÄöËøáÊô∫ËÉΩÁºìÂ≠òÁ≠ñÁï•ÔºåÂ∞ÜÁÉ≠ÁÇπÊï∞ÊçÆÔºàÁªèÂ∏∏ËÆøÈóÆÁöÑÊï∞ÊçÆÔºâÂ≠òÂÇ®Âú®Áî®Êà∑ÈôÑËøëÁöÑËäÇÁÇπ‰∏äÔºå‰ªéËÄåÂáèÂ∞ë‰∫ÜÊï∞ÊçÆ‰º†ËæìÁöÑÊó∂Èó¥ÂíåË∑ùÁ¶ªÔºåÂÆûÁé∞‰∫Ü‰ΩéÂª∂ËøüËÆøÈóÆ„ÄÇ\n\n2. ÂèØÈù†ÊÄß\n\n   &nbsp; GarnetÂÖ∑ÊúâÂº∫Â§ßÁöÑÊï∞ÊçÆ‰øùÊä§ÂíåÂÆπÈîôÊú∫Âà∂ÔºåËÉΩÂ§üÁ°Æ‰øùÊï∞ÊçÆÁöÑÊåÅ‰πÖÊÄßÂíå‰∏ÄËá¥ÊÄß„ÄÇÂÆÉÊîØÊåÅÊï∞ÊçÆÂ§á‰ªΩ„ÄÅÂ§çÂà∂ÂíåÊïÖÈöúËΩ¨ÁßªÔºåÊúâÊïàÂú∞Èôç‰Ωé‰∫ÜÊï∞ÊçÆ‰∏¢Â§±ÂíåÁ≥ªÁªüÊïÖÈöúÁöÑÈ£éÈô©„ÄÇ\n\n3. ÂèØÊâ©Â±ïÊÄß\n\n   &nbsp; GarnetÁöÑÊû∂ÊûÑËÆæËÆ°ÂÖ∑ÊúâËâØÂ•ΩÁöÑÊ∞¥Âπ≥Êâ©Â±ïÊÄßÔºåÂèØ‰ª•ËΩªÊùæÂú∞Êâ©Â±ïÂà∞Êï∞ÁôæÁîöËá≥Êï∞ÂçÉÂè∞ÊúçÂä°Âô®„ÄÇÂÆÉÊîØÊåÅÂä®ÊÄÅÊ∑ªÂä†ÂíåÁßªÈô§ËäÇÁÇπÔºåËÉΩÂ§üÊ†πÊçÆÈúÄÊ±ÇÁÅµÊ¥ªË∞ÉÊï¥ÈõÜÁæ§ËßÑÊ®°„ÄÇ\n\n4. Â§öÁßçÊï∞ÊçÆÁ±ªÂûãÊîØÊåÅÔºö\n\n   &nbsp; Èô§‰∫ÜÂ∏∏ËßÑÁöÑÈîÆÂÄºÂØπÂ≠òÂÇ®‰πãÂ§ñÔºåGarnetËøòÊîØÊåÅÂ§öÁßçÊï∞ÊçÆÁ±ªÂûãÔºåÂåÖÊã¨ÂàóË°®„ÄÅÈõÜÂêà„ÄÅÂìàÂ∏åË°®Á≠âÔºåÊª°Ë∂≥‰∫Ü‰∏çÂêåÂ∫îÁî®Âú∫ÊôØÁöÑÈúÄÊ±Ç„ÄÇ\n\n5. ‰∏∞ÂØåÁöÑÂäüËÉΩ\n\n   &nbsp; GarnetÊèê‰æõ‰∫Ü‰∏∞ÂØåÁöÑÂäüËÉΩÂíåÂ∑•ÂÖ∑ÔºåÂåÖÊã¨ÁõëÊéß„ÄÅË∞É‰ºò„ÄÅÊïÖÈöúÊéíÈô§Á≠âÔºåÂ∏ÆÂä©ÂºÄÂèëËÄÖÊõ¥Â•ΩÂú∞ÁÆ°ÁêÜÂíåËøêÁª¥ÁºìÂ≠òÁ≥ªÁªü„ÄÇ\n\n# È´òÊÄßËÉΩ\nÂØπ‰∫é‰∏Ä‰∏™‰∏≠Èó¥‰ª∂Êù•ËØ¥ÔºåÂ§ßÂÆ∂ÊúÄÂÖ≥ÂøÉÁöÑÂ∫îËØ•Â∞±ÊòØÊÄßËÉΩÂà∞Â∫ïÊÄé‰πàÊ†∑ÔºüÂü∫ÂáÜÊµãËØïÁöÑÁªìÊûúÔºåÊÄª‰ΩìËøòÊòØË°®Áé∞‰∏çÈîôÁöÑ„ÄÇ\n\nÂÖ∑‰ΩìÊÄßËÉΩÊµãËØïËØ¶ÊÉÖÂèØ‰ª•Êü•ÁúãÈìæÊé•Ôºö [Evaluating Garnet's Performance Benefits](https://microsoft.github.io/garnet/docs/benchmarking/results-resp-bench)\n\nÂÆûÈôÖÂ∫îÁî®ÁöÑËøáÁ®ã‰∏≠ÊïàÊûúÂà∞Â∫ïÂíãÊ†∑ÂΩìÁÑ∂ËøòÈúÄË¶ÅÊàë‰ª¨Âú®ÈÄöËøá‰ª£Á†ÅÊù•È™åËØÅ‰∏Ä‰∏ã„ÄÇ\n\n‰∏ãÈù¢ÊàëÂÜô‰∫Ü‰∏Ä‰∏™ÁÆÄÂçïÁöÑ‰æãÂ≠êÔºåÁõ¥Êé•Âæ™ÁéØÂæÄgarnetÂíåredisÈáåÈù¢ÂÜôÂÖ•ÂíåËØªÂèñÊï∞ÊçÆ„ÄÇÈÄöËøáËÆ°ÁÆóÊó∂Èó¥Êù•ÂØπÊØî‰∏Ä‰∏ã‰∏§ËÄÖÁöÑÂ∑ÆË∑ùÂà∞Â∫ïÊúâÂ§öÂ§ß\n```C#\n[HttpGet]\n[ActionTitle(Name = \"ÊµãËØïGarnet\")]\n[Route(\"test.svc\")]\npublic void Start()\n{\n    // Redis connection\n    var redis = ConnectionMultiplexer.Connect(\"localhost\");\n    var redisDb = redis.GetDatabase();\n\n    // Garnet connection\n    var garnet = new GarnetClient(\"localhost\", 3278);\n\n    // Test data\n    string key = \"test_key\";\n    string value = \"test_value\";\n\n    // Test with Redis\n   var redisStartTime = DateTime.Now;\n   for( int i = 0; i < 1000; i++ ) {\n       redisDb.StringSet(key + i, value + i);\n   }\n   var redisEndTime = DateTime.Now;\n   Console.WriteLine($\"StringSet Time taken by Redis: {(redisEndTime - redisStartTime).TotalMilliseconds} ms\");\n   \n   // Test with Garnet\n   var garnetStartTime = DateTime.Now;\n   for( int i = 0; i < 1000; i++ ) {\n       garnet.StringSet(key + i, value + i, null);\n   }\n   var garnetEndTime = DateTime.Now;\n   Console.WriteLine($\"StringSet Time taken by Garnet: {(garnetEndTime - garnetStartTime).TotalMilliseconds} ms\");\n   \n   // Test with Redis\n   redisStartTime = DateTime.Now;\n   for( int i = 0; i < 1000; i++ ) {\n       string a = redisDb.StringGet(key + i).ToString();\n   }\n   redisEndTime = DateTime.Now;\n   Console.WriteLine($\"StringGet Time taken by Redis: {(redisEndTime - redisStartTime).TotalMilliseconds} ms\");\n   \n   // Test with Garnet\n   garnetStartTime = DateTime.Now;\n   for( int i = 0; i < 1000; i++ ) {\n       garnet.StringGet(key + i, null);\n   }\n   garnetEndTime = DateTime.Now;\n   Console.WriteLine($\"StringGet Time taken by Garnet: {(garnetEndTime - garnetStartTime).TotalMilliseconds} ms\");\n}\n```\nÊúÄÂêéËøêË°åÁöÑÁªìÊûúËøòÊòØÊå∫ÊåØÂ•ã‰∫∫ÂøÉÁöÑ!\n\n![ËøêË°åÁªìÊûú1](/images/garnet/compare1.png)\n\n# ÂÖºÂÆπÊÄß\nÂΩìÁÑ∂Âú®ËøõË°å‰∏≠Èó¥‰ª∂ÈÄâÊã©ÁöÑÊó∂ÂÄôÔºåÂàáÊç¢ÁöÑÊàêÊú¨‰πüÊòØÈáçÁÇπË¶ÅÁ∫≥ÂÖ•ËÄÉËôëÁöÑ„ÄÇ‚ÄúÁôΩÂ´ñ‰∏ÄÊó∂ÁàΩÔºåÈáçÊûÑÁÅ´Ëë¨Âú∫ÔºÅ‚ÄùËøôÁßç‰∫ãÊÉÖÊòæÁÑ∂ÊòØÊàë‰ª¨‰∏çÊÑøÊÑèÁúãÂà∞ÁöÑ„ÄÇ\n\nËøô‰∏™Êó∂ÂÄôÊàë‰ª¨Âú®ÂÆòÁΩëÁúãÂà∞ËøôÊ†∑‰∏ÄÂè•ËØù\n> Garnet Âπ∂‰∏çÊòØË¶ÅÊàê‰∏∫ Redis 100% ÂÆåÁæéÁöÑÊõø‰ª£ÂìÅÔºåËÄåÊòØÂ∫îËØ•Â∞ÜÂÖ∂ËßÜ‰∏∫‰∏Ä‰∏™Ë∂≥Â§üÊé•ËøëÁöÑËµ∑ÁÇπÔºå‰ª•Á°Æ‰øùÂØπÊÇ®ÈáçË¶ÅÁöÑÂäüËÉΩÁöÑÂÖºÂÆπÊÄß„ÄÇ Garnet Á°ÆÂÆûÂèØ‰ª•Âú®Êú™Áªè‰øÆÊîπÁöÑÊÉÖÂÜµ‰∏ã‰∏éËÆ∏Â§ö Redis ÂÆ¢Êà∑Á´Ø‰∏ÄËµ∑‰ΩøÁî®ÔºàÊàë‰ª¨ÁâπÂà´ÂØπ Garnet ËøõË°å‰∫ÜStackExchange.RedisÂæàÂ•ΩÁöÑÊµãËØïÔºâÔºåÂõ†Ê≠§ÂÖ•Èó®ÈùûÂ∏∏ÂÆπÊòì„ÄÇ\n\n‰∫éÊòØÔºåÊàë‰ª¨ÂÜçÊï¥‰∏™demo\n```C#\n[HttpGet]\n[ActionTitle(Name = \"ÊµãËØïGarnetËøûÊé•\")]\n[Route(\"connect.svc\")]\npublic void Connect()\n{\n    // Redis connection\n    var redis = ConnectionMultiplexer.Connect(\"localhost\");\n    var redisDb = redis.GetDatabase();\n\n    // Garnet connection\n    var garnet = ConnectionMultiplexer.Connect(\"localhost:3278\");\n    var garnetDb = garnet.GetDatabase();\n\n    // Test data\n    string key = \"test_key\";\n\n    // Test with Redis\n    string a = redisDb.StringGet(key + 1).ToString();\n    Console.WriteLine($\"StringGet by Redis : {a}\");\n\n    // Test with Garnet\n    string b = garnetDb.StringGet(key + 1).ToString();\n    Console.WriteLine($\"StringGet by Garnet : {b}\");\n}\n```\nÂæÆËΩØ ËØö‰∏çÊàëÊ¨∫ÔºÅ\n\nÂú®‰∏çÂä®ÂÆ¢Êà∑Á´Ø‰ª£Á†ÅÁöÑÊÉÖÂÜµ‰∏ãÔºåÊàë‰ª¨ËÉΩÂ§üÈùûÂ∏∏Âπ≥ÊªëÁöÑÂàáÊç¢Âà∞Garnet\n![connect](/images/garnet/connect.png)\n\nredisÊ°åÈù¢ÂÆ¢Êà∑Á´Ø‰πüËÉΩÁõ¥Êé•ËøûÊé•Garnet\n![client](/images/garnet/client.png)\n\n\n# Êó•ÂøóÂíåËØäÊñ≠\nGarnet Êèê‰æõ‰∫Ü‰∏∞ÂØåÁöÑÊó•ÂøóÂíåËØäÊñ≠ÁâπÊÄßÔºå‰ª•Â∏ÆÂä©ÂºÄÂèë‰∫∫ÂëòÁõëËßÜÂíåË∞ÉËØïÂÖ∂Â∫îÁî®Á®ãÂ∫èÁöÑÊÄßËÉΩÂíåË°å‰∏∫„ÄÇ‰ª•‰∏ãÊòØ Garnet Êó•ÂøóÂíåËØäÊñ≠ÁâπÊÄßÁöÑ‰∏ªË¶ÅÂÜÖÂÆπÔºö\n\n1. ËØ¶ÁªÜÊó•ÂøóËÆ∞ÂΩïÔºöGarnet ÂÖ∑ÊúâÁÅµÊ¥ªÁöÑÊó•ÂøóËÆ∞ÂΩïÂäüËÉΩÔºåÂèØ‰ª•ËÆ∞ÂΩïÂêÑÁßçÁ∫ßÂà´ÁöÑÊó•ÂøóÊ∂àÊÅØÔºåÂåÖÊã¨‰ø°ÊÅØ„ÄÅË≠¶ÂëäÂíåÈîôËØØ„ÄÇËøô‰∫õÊó•ÂøóÊ∂àÊÅØÂèØ‰ª•Â∏ÆÂä©ÂºÄÂèë‰∫∫Âëò‰∫ÜËß£Á≥ªÁªüÁöÑËøêË°åÊÉÖÂÜµÔºåËØÜÂà´ÊΩúÂú®ÁöÑÈóÆÈ¢òÂπ∂ËøõË°åÊïÖÈöúÊéíÈô§„ÄÇ\n\n2. ÊÄßËÉΩÊåáÊ†áÔºöGarnet ËøòÊèê‰æõ‰∫Ü‰∏∞ÂØåÁöÑÊÄßËÉΩÊåáÊ†áÔºåÂèØ‰ª•Â∏ÆÂä©ÂºÄÂèë‰∫∫ÂëòÁõëËßÜÁ≥ªÁªüÁöÑÊÄßËÉΩÁä∂ÂÜµ„ÄÇËøô‰∫õÊåáÊ†áÂèØ‰ª•ÂåÖÊã¨ÂêÑÁßçÂÖ≥ÈîÆÊÄßËÉΩÊåáÊ†áÔºåÂ¶ÇËØ∑Ê±ÇÂìçÂ∫îÊó∂Èó¥„ÄÅÂêûÂêêÈáè„ÄÅÂª∂ËøüÁ≠â„ÄÇ\n\n3. ÂºÇÂ∏∏Ë∑üË∏™ÔºöGarnet ÂÖ∑ÊúâÂºÇÂ∏∏Ë∑üË∏™ÂäüËÉΩÔºåÂèØ‰ª•ÊçïËé∑ÂíåËÆ∞ÂΩïÂ∫îÁî®Á®ãÂ∫è‰∏≠ÁöÑÂºÇÂ∏∏ÊÉÖÂÜµ„ÄÇËøô‰∫õÂºÇÂ∏∏Ë∑üË∏™‰ø°ÊÅØÂèØ‰ª•Â∏ÆÂä©ÂºÄÂèë‰∫∫ÂëòÂø´ÈÄüÂÆö‰ΩçÂíå‰øÆÂ§çÈóÆÈ¢ò„ÄÇ\n\n4. ËØäÊñ≠Â∑•ÂÖ∑ÔºöGarnet ËøòÊèê‰æõ‰∫Ü‰∏ÄÁ≥ªÂàóËØäÊñ≠Â∑•ÂÖ∑ÔºåÁî®‰∫éÂàÜÊûêÂíåË∞ÉËØïÁ≥ªÁªüÁöÑË°å‰∏∫„ÄÇËøô‰∫õÂ∑•ÂÖ∑ÂèØ‰ª•Â∏ÆÂä©ÂºÄÂèë‰∫∫ÂëòÊ∑±ÂÖ•‰∫ÜËß£Á≥ªÁªüÁöÑÂÜÖÈÉ®Â∑•‰ΩúÂéüÁêÜÔºåÂπ∂ËØÜÂà´ÊΩúÂú®ÁöÑÊÄßËÉΩÁì∂È¢àÂíåÈóÆÈ¢ò„ÄÇ\n\n```C#\nstatic void Main(string[] args)\n{\n    try\n    {\n\n        var loggerFactory = LoggerFactory.Create(x =>\n        {\n            x.ClearProviders();\n            x.SetMinimumLevel(LogLevel.Trace);\n            x.AddZLoggerConsole(options =>\n            {\n                options.UsePlainTextFormatter(formatter =>\n                {\n                    formatter.SetPrefixFormatter($\"[{0}]\", (in MessageTemplate template, in LogInfo info) => template.Format(info.Category));\n                });\n            });\n        });\n\n\n        using var server = new GarnetServer(args, loggerFactory);\n\n        // Optional: register custom extensions\n        RegisterExtensions(server);\n\n        // Start the server\n        server.Start();\n\n        Thread.Sleep(Timeout.Infinite);\n    }\n    catch (Exception ex)\n    {\n        Console.WriteLine($\"Unable to initialize server due to exception: {ex.Message}\");\n    }\n}\n```\n![Êó•Âøó](/images/garnet/log.png)\n\n\n\n# Ëá™ÂÆö‰πâÂëΩ‰ª§\nÊÉ≥Ë¶ÅÂú® Redis ‰∏äÊâßË°å‰∏Ä‰∫õÂ§çÊùÇÁöÑÊâßË°åÊòØÂæàÂ∏∏ËßÅÁöÑÔºåÂú® Redis ÁöÑÊÉÖÂÜµ‰∏ãÔºåÊàë‰ª¨ËøáÂéªÂ∏∏Â∏∏‰ΩøÁî® Lua ËÑöÊú¨Êù•Â§ÑÁêÜÂÆÉÔºå‰ΩÜ‰ΩøÁî® GarnetÔºåÊàë‰ª¨ÂèØ‰ª•Âú® C# ‰∏≠ÂÆûÁé∞ÂíåÂêàÂπ∂Ëá™ÂÆö‰πâÂëΩ‰ª§„ÄÇ Â¶ÇÊûú‰Ω†‰∏çÁü•ÈÅì LUA ÊòØÂê¶Âú®ÊÄßËÉΩÊñπÈù¢ÔºåÊàñËÄÖÂ¶ÇÊûú‰Ω†ÊÉ≥ÂÅö‰∏Ä‰∫õ LUA ÂÅö‰∏çÂà∞ÁöÑÁõ∏ÂΩìÂ§çÊùÇÁöÑ‰∫ãÊÉÖÔºå‰Ω†ÂèØ‰ª•‰ΩøÁî®ÂÆÉËÄå‰∏ç‰ºöÊúâ‰ªª‰ΩïÊÄßËÉΩÂä£Âäø„ÄÇ Êõ¥Â•ΩÁöÑÊòØÔºåÊúçÂä°Âô®Á´ØÊèê‰æõÁöÑÊâ©Â±ïÂëΩ‰ª§ÈÅµÂæ™ RESPÔºåÂõ†Ê≠§ÂÆ¢Êà∑Á´ØÂèØ‰ª•‰ªé PHP Êàñ Go Ë∞ÉÁî®ÂÆÉ‰ª¨ÔºåËÄå‰∏ç‰ªÖ‰ªÖÊòØÈíàÂØπ C#„ÄÇ\n\nÂõ†Ê≠§ÔºåËÆ©Êàë‰ª¨Á´ãÂç≥ÂàõÂª∫‰∏Ä‰∏™Âêç‰∏∫‚ÄúTEST‚ÄùÁöÑËá™ÂÆö‰πâÂëΩ‰ª§„ÄÇÂëΩ‰ª§ÂæàÁÆÄÂçïÔºåÁõ¥Êé•ËøîÂõû‰∏Ä‰∏™‚ÄúHello Garnet!‚Äù\n\nÊ≥®ÂÜåËá™ÂÆö‰πâÂëΩ‰ª§Êú¨Ë∫´ÈùûÂ∏∏ÁÆÄÂçïÔºåÂè™ÈúÄÊ∑ªÂä†‰∏Ä‰∏™ÂÆûÁé∞ÁöÑÁ±ªÔºåÊàñËÄÖ‰∏éÂëΩ‰ª§ÂêçÁß∞‰∏ÄËµ∑Ê∑ªÂä†Âç≥ÂèØ„ÄÇ\n\n```Garnet Server\n// ÊµãËØïËá™ÂÆö‰πâÂëΩ‰ª§\nserver.Register.NewTransactionProc(\"TEST\", 0, () => new TestCustomCommand());\n\n\nsealed class TestCustomCommand : CustomTransactionProcedure\n{\n    /// <summary>\n    /// No transactional phase, skip Prepare\n    /// </summary>\n    public override bool Prepare<TGarnetReadApi>(TGarnetReadApi api, ArgSlice input)\n        => false;\n\n    /// <summary>\n    /// Main will not be called because Prepare returns false\n    /// </summary>\n    public override void Main<TGarnetApi>(TGarnetApi api, ArgSlice input, ref MemoryResult<byte> output)\n        => throw new InvalidOperationException();\n\n    /// <summary>\n    /// Finalize reads two keys (non-transactionally) and return their values as an array of bulk strings\n    /// </summary>\n    public override void Finalize<TGarnetApi>(TGarnetApi api, ArgSlice input, ref MemoryResult<byte> output)\n    {\n        // Return the two keys as an array of bulk strings\n        WriteSimpleString(ref output, \"Hello Garnet!\");\n    }\n}\n\n```\n\nÂêåÊó∂ËøòÊòØÂõ†‰∏∫GarnetÈÅµÂæ™ RESPÔºåÂõ†Ê≠§ÂÆ¢Êà∑Á´Ø‰∏çÊòØ‰∏ìÁî®‰∫é C#Ôºå‰πü‰∏çÊòØ Garnet ÂÆ¢Êà∑Á´ØÁã¨ÊúâÁöÑ„ÄÇ ÊâÄ‰ª•Êàë‰ª¨ÂèØ‰ª•Áõ¥Êé•Âú®redisÂÆ¢Êà∑Á´ØË∞ÉÁî®GarnetÁöÑËá™ÂÆö‰πâÂëΩ‰ª§\n```Garnet client\n [HttpGet]\n [ActionTitle(Name = \"ÊµãËØïGarnet Ëá™ÂÆö‰πâÂëΩ‰ª§\")]\n [Route(\"custom-command.svc\")]\n public async void Test()\n {       \n     // Garnet connection\n     var garnet = new GarnetClient(\"localhost\", 3278);\n     garnet.Connect();\n     // Test data\n     string result = await garnet.ExecuteForStringResultAsync(\"TEST\");\n\n     Console.WriteLine($\"Garnet Custom Command Result: {result}\");\n\n     // ÈááÁî®redisÂÆ¢Êà∑Á´ØËøûÊé•\n     var client = ConnectionMultiplexer.Connect(\"localhost:3278\");\n     var db = client.GetDatabase();\n\n     RedisResult redisResult = db.Execute(\"TEST\");\n\n     Console.WriteLine($\"Redis Client Custom Command Result: {((string?)redisResult)}\");\n }\n```\nÊúÄÂêéÊàë‰ª¨ÂèØ‰ª•ÁúãÂà∞Áî®‰∏§ÁßçÂÆ¢Êà∑Á´ØÊâßË°åËá™ÂÆö‰πâÂëΩ‰ª§ÈÉΩËæìÂá∫‰∫ÜÂêåÊ†∑ÁöÑÁªìÊûú\n![custom command result](/images/garnet/custom-command.png)\n\n# ÁªìËØ≠\nGarnet‰Ωú‰∏∫ÂæÆËΩØÊúÄÊñ∞Êé®Âá∫ÁöÑËøúÁ®ãÁºìÂ≠òÂ≠òÂÇ®Á≥ªÁªüÔºå‰∏∫ÂºÄÂèëËÄÖÊèê‰æõ‰∫Ü‰∏ÄÁßçÂÖ®Êñ∞ÁöÑÈÄâÊã©„ÄÇÂÆÉÂÖ∑ÊúâÈ´òÊÄßËÉΩ„ÄÅÂèØÈù†ÊÄßÂíåÂèØ‰º∏Áº©ÊÄßÁöÑÁâπÊÄßÔºåÈÄÇÁî®‰∫éÂêÑÁßçËßÑÊ®°ÂíåÁ±ªÂûãÁöÑÂ∫îÁî®Âú∫ÊôØ„ÄÇÈÄöËøá‰ΩøÁî®GarnetÔºåÂºÄÂèëËÄÖÂèØ‰ª•Êõ¥Â•ΩÂú∞ÊèêÂçáÂ∫îÁî®ÁöÑÊÄßËÉΩÂíåÁî®Êà∑‰ΩìÈ™åÔºåÂÆûÁé∞‰∏öÂä°ÁöÑÂø´ÈÄüÂèëÂ±ïÂíåÊåÅÁª≠ÂàõÊñ∞„ÄÇ\n\n# ÂèÇËÄÉÊñáÊ°£\n+ [Garnet ÂºÄÂèëÂÖ•Èó®](https://microsoft.github.io/garnet/docs)\n\n\n\nÊõ¥Â§ö‰∏ÄÊâãËÆØÊÅØÔºåÂèØÂÖ≥Ê≥®ÂÖ¨‰ºóÂè∑Ôºö[ITProHub](https://myom-dev.oss-cn-hangzhou.aliyuncs.com/WechatPublicPlatformQrCode.jpg)\n\n![ITProHub](https://myom-dev.oss-cn-hangzhou.aliyuncs.com/WechatPublicPlatformQrCode.jpg)","source":"_posts/garnet.md","raw":"---\ntitle: GarnetÔºåÁºìÂ≠òÁöÑÊñ∞ÈÄâÊã©ÔºÅ\ndate: 2024-04-07 15:24:24\ntags: Garnet ÁºìÂ≠ò ÂæÆËΩØ\n---\n\nÂè∑Â§ñÂè∑Â§ñÔºÅ\n1. redis‰∏çÂÜç‚ÄúÂºÄÊ∫ê‚ÄùÔºõ\n2. ÂæÆËΩØÂºÄÊ∫ê‰∫ÜGarnet\n\n#  ‰ªÄ‰πàÊòØGarnetÔºü\nGarnetÊòØÂæÆËΩØÊé®Âá∫ÁöÑ‰∏ÄÊ¨æËøúÁ®ãÁºìÂ≠òÂ≠òÂÇ®Á≥ªÁªüÔºåÊó®Âú®‰∏∫ÂºÄÂèëËÄÖÊèê‰æõÈ´òÊÄßËÉΩ„ÄÅÂèØÈù†ÊÄßÂíåÂèØ‰º∏Áº©ÊÄßÁöÑÁºìÂ≠òËß£ÂÜ≥ÊñπÊ°à„ÄÇÂÆÉÈááÁî®‰∫ÜÁé∞‰ª£ÂåñÁöÑÊû∂ÊûÑÂíåÊäÄÊúØÔºåÂÖ∑ÊúâÈ´òÂ∫¶ÂèØÂÆöÂà∂ÊÄßÂíåÁÅµÊ¥ªÊÄßÔºåÈÄÇÁî®‰∫éÂêÑÁßçËßÑÊ®°ÂíåÁ±ªÂûãÁöÑÂ∫îÁî®Âú∫ÊôØ„ÄÇ\n\n# ÁâπÊÄßÂíå‰ºòÂäø\n1. È´òÊÄßËÉΩ\n\n   &nbsp; GarnetÈááÁî®‰∫ÜÈ´òÊïàÁöÑÁºìÂ≠òÁÆóÊ≥ïÂíåÊï∞ÊçÆÁªìÊûÑÔºå‰ª•ÂÆûÁé∞Âø´ÈÄüÁöÑÊï∞ÊçÆËÆøÈóÆÂíåÂìçÂ∫î„ÄÇÂÆÉÊîØÊåÅÂπ∂ÂèëËÆøÈóÆÂíåÈ´òÂêûÂêêÈáèÔºåËÉΩÂ§üÂ§ÑÁêÜÂ§ßËßÑÊ®°ÁöÑËØ∑Ê±ÇÊµÅÈáè„ÄÇ\n  GarnetÈÄöËøáÊô∫ËÉΩÁºìÂ≠òÁ≠ñÁï•ÔºåÂ∞ÜÁÉ≠ÁÇπÊï∞ÊçÆÔºàÁªèÂ∏∏ËÆøÈóÆÁöÑÊï∞ÊçÆÔºâÂ≠òÂÇ®Âú®Áî®Êà∑ÈôÑËøëÁöÑËäÇÁÇπ‰∏äÔºå‰ªéËÄåÂáèÂ∞ë‰∫ÜÊï∞ÊçÆ‰º†ËæìÁöÑÊó∂Èó¥ÂíåË∑ùÁ¶ªÔºåÂÆûÁé∞‰∫Ü‰ΩéÂª∂ËøüËÆøÈóÆ„ÄÇ\n\n2. ÂèØÈù†ÊÄß\n\n   &nbsp; GarnetÂÖ∑ÊúâÂº∫Â§ßÁöÑÊï∞ÊçÆ‰øùÊä§ÂíåÂÆπÈîôÊú∫Âà∂ÔºåËÉΩÂ§üÁ°Æ‰øùÊï∞ÊçÆÁöÑÊåÅ‰πÖÊÄßÂíå‰∏ÄËá¥ÊÄß„ÄÇÂÆÉÊîØÊåÅÊï∞ÊçÆÂ§á‰ªΩ„ÄÅÂ§çÂà∂ÂíåÊïÖÈöúËΩ¨ÁßªÔºåÊúâÊïàÂú∞Èôç‰Ωé‰∫ÜÊï∞ÊçÆ‰∏¢Â§±ÂíåÁ≥ªÁªüÊïÖÈöúÁöÑÈ£éÈô©„ÄÇ\n\n3. ÂèØÊâ©Â±ïÊÄß\n\n   &nbsp; GarnetÁöÑÊû∂ÊûÑËÆæËÆ°ÂÖ∑ÊúâËâØÂ•ΩÁöÑÊ∞¥Âπ≥Êâ©Â±ïÊÄßÔºåÂèØ‰ª•ËΩªÊùæÂú∞Êâ©Â±ïÂà∞Êï∞ÁôæÁîöËá≥Êï∞ÂçÉÂè∞ÊúçÂä°Âô®„ÄÇÂÆÉÊîØÊåÅÂä®ÊÄÅÊ∑ªÂä†ÂíåÁßªÈô§ËäÇÁÇπÔºåËÉΩÂ§üÊ†πÊçÆÈúÄÊ±ÇÁÅµÊ¥ªË∞ÉÊï¥ÈõÜÁæ§ËßÑÊ®°„ÄÇ\n\n4. Â§öÁßçÊï∞ÊçÆÁ±ªÂûãÊîØÊåÅÔºö\n\n   &nbsp; Èô§‰∫ÜÂ∏∏ËßÑÁöÑÈîÆÂÄºÂØπÂ≠òÂÇ®‰πãÂ§ñÔºåGarnetËøòÊîØÊåÅÂ§öÁßçÊï∞ÊçÆÁ±ªÂûãÔºåÂåÖÊã¨ÂàóË°®„ÄÅÈõÜÂêà„ÄÅÂìàÂ∏åË°®Á≠âÔºåÊª°Ë∂≥‰∫Ü‰∏çÂêåÂ∫îÁî®Âú∫ÊôØÁöÑÈúÄÊ±Ç„ÄÇ\n\n5. ‰∏∞ÂØåÁöÑÂäüËÉΩ\n\n   &nbsp; GarnetÊèê‰æõ‰∫Ü‰∏∞ÂØåÁöÑÂäüËÉΩÂíåÂ∑•ÂÖ∑ÔºåÂåÖÊã¨ÁõëÊéß„ÄÅË∞É‰ºò„ÄÅÊïÖÈöúÊéíÈô§Á≠âÔºåÂ∏ÆÂä©ÂºÄÂèëËÄÖÊõ¥Â•ΩÂú∞ÁÆ°ÁêÜÂíåËøêÁª¥ÁºìÂ≠òÁ≥ªÁªü„ÄÇ\n\n# È´òÊÄßËÉΩ\nÂØπ‰∫é‰∏Ä‰∏™‰∏≠Èó¥‰ª∂Êù•ËØ¥ÔºåÂ§ßÂÆ∂ÊúÄÂÖ≥ÂøÉÁöÑÂ∫îËØ•Â∞±ÊòØÊÄßËÉΩÂà∞Â∫ïÊÄé‰πàÊ†∑ÔºüÂü∫ÂáÜÊµãËØïÁöÑÁªìÊûúÔºåÊÄª‰ΩìËøòÊòØË°®Áé∞‰∏çÈîôÁöÑ„ÄÇ\n\nÂÖ∑‰ΩìÊÄßËÉΩÊµãËØïËØ¶ÊÉÖÂèØ‰ª•Êü•ÁúãÈìæÊé•Ôºö [Evaluating Garnet's Performance Benefits](https://microsoft.github.io/garnet/docs/benchmarking/results-resp-bench)\n\nÂÆûÈôÖÂ∫îÁî®ÁöÑËøáÁ®ã‰∏≠ÊïàÊûúÂà∞Â∫ïÂíãÊ†∑ÂΩìÁÑ∂ËøòÈúÄË¶ÅÊàë‰ª¨Âú®ÈÄöËøá‰ª£Á†ÅÊù•È™åËØÅ‰∏Ä‰∏ã„ÄÇ\n\n‰∏ãÈù¢ÊàëÂÜô‰∫Ü‰∏Ä‰∏™ÁÆÄÂçïÁöÑ‰æãÂ≠êÔºåÁõ¥Êé•Âæ™ÁéØÂæÄgarnetÂíåredisÈáåÈù¢ÂÜôÂÖ•ÂíåËØªÂèñÊï∞ÊçÆ„ÄÇÈÄöËøáËÆ°ÁÆóÊó∂Èó¥Êù•ÂØπÊØî‰∏Ä‰∏ã‰∏§ËÄÖÁöÑÂ∑ÆË∑ùÂà∞Â∫ïÊúâÂ§öÂ§ß\n```C#\n[HttpGet]\n[ActionTitle(Name = \"ÊµãËØïGarnet\")]\n[Route(\"test.svc\")]\npublic void Start()\n{\n    // Redis connection\n    var redis = ConnectionMultiplexer.Connect(\"localhost\");\n    var redisDb = redis.GetDatabase();\n\n    // Garnet connection\n    var garnet = new GarnetClient(\"localhost\", 3278);\n\n    // Test data\n    string key = \"test_key\";\n    string value = \"test_value\";\n\n    // Test with Redis\n   var redisStartTime = DateTime.Now;\n   for( int i = 0; i < 1000; i++ ) {\n       redisDb.StringSet(key + i, value + i);\n   }\n   var redisEndTime = DateTime.Now;\n   Console.WriteLine($\"StringSet Time taken by Redis: {(redisEndTime - redisStartTime).TotalMilliseconds} ms\");\n   \n   // Test with Garnet\n   var garnetStartTime = DateTime.Now;\n   for( int i = 0; i < 1000; i++ ) {\n       garnet.StringSet(key + i, value + i, null);\n   }\n   var garnetEndTime = DateTime.Now;\n   Console.WriteLine($\"StringSet Time taken by Garnet: {(garnetEndTime - garnetStartTime).TotalMilliseconds} ms\");\n   \n   // Test with Redis\n   redisStartTime = DateTime.Now;\n   for( int i = 0; i < 1000; i++ ) {\n       string a = redisDb.StringGet(key + i).ToString();\n   }\n   redisEndTime = DateTime.Now;\n   Console.WriteLine($\"StringGet Time taken by Redis: {(redisEndTime - redisStartTime).TotalMilliseconds} ms\");\n   \n   // Test with Garnet\n   garnetStartTime = DateTime.Now;\n   for( int i = 0; i < 1000; i++ ) {\n       garnet.StringGet(key + i, null);\n   }\n   garnetEndTime = DateTime.Now;\n   Console.WriteLine($\"StringGet Time taken by Garnet: {(garnetEndTime - garnetStartTime).TotalMilliseconds} ms\");\n}\n```\nÊúÄÂêéËøêË°åÁöÑÁªìÊûúËøòÊòØÊå∫ÊåØÂ•ã‰∫∫ÂøÉÁöÑ!\n\n![ËøêË°åÁªìÊûú1](/images/garnet/compare1.png)\n\n# ÂÖºÂÆπÊÄß\nÂΩìÁÑ∂Âú®ËøõË°å‰∏≠Èó¥‰ª∂ÈÄâÊã©ÁöÑÊó∂ÂÄôÔºåÂàáÊç¢ÁöÑÊàêÊú¨‰πüÊòØÈáçÁÇπË¶ÅÁ∫≥ÂÖ•ËÄÉËôëÁöÑ„ÄÇ‚ÄúÁôΩÂ´ñ‰∏ÄÊó∂ÁàΩÔºåÈáçÊûÑÁÅ´Ëë¨Âú∫ÔºÅ‚ÄùËøôÁßç‰∫ãÊÉÖÊòæÁÑ∂ÊòØÊàë‰ª¨‰∏çÊÑøÊÑèÁúãÂà∞ÁöÑ„ÄÇ\n\nËøô‰∏™Êó∂ÂÄôÊàë‰ª¨Âú®ÂÆòÁΩëÁúãÂà∞ËøôÊ†∑‰∏ÄÂè•ËØù\n> Garnet Âπ∂‰∏çÊòØË¶ÅÊàê‰∏∫ Redis 100% ÂÆåÁæéÁöÑÊõø‰ª£ÂìÅÔºåËÄåÊòØÂ∫îËØ•Â∞ÜÂÖ∂ËßÜ‰∏∫‰∏Ä‰∏™Ë∂≥Â§üÊé•ËøëÁöÑËµ∑ÁÇπÔºå‰ª•Á°Æ‰øùÂØπÊÇ®ÈáçË¶ÅÁöÑÂäüËÉΩÁöÑÂÖºÂÆπÊÄß„ÄÇ Garnet Á°ÆÂÆûÂèØ‰ª•Âú®Êú™Áªè‰øÆÊîπÁöÑÊÉÖÂÜµ‰∏ã‰∏éËÆ∏Â§ö Redis ÂÆ¢Êà∑Á´Ø‰∏ÄËµ∑‰ΩøÁî®ÔºàÊàë‰ª¨ÁâπÂà´ÂØπ Garnet ËøõË°å‰∫ÜStackExchange.RedisÂæàÂ•ΩÁöÑÊµãËØïÔºâÔºåÂõ†Ê≠§ÂÖ•Èó®ÈùûÂ∏∏ÂÆπÊòì„ÄÇ\n\n‰∫éÊòØÔºåÊàë‰ª¨ÂÜçÊï¥‰∏™demo\n```C#\n[HttpGet]\n[ActionTitle(Name = \"ÊµãËØïGarnetËøûÊé•\")]\n[Route(\"connect.svc\")]\npublic void Connect()\n{\n    // Redis connection\n    var redis = ConnectionMultiplexer.Connect(\"localhost\");\n    var redisDb = redis.GetDatabase();\n\n    // Garnet connection\n    var garnet = ConnectionMultiplexer.Connect(\"localhost:3278\");\n    var garnetDb = garnet.GetDatabase();\n\n    // Test data\n    string key = \"test_key\";\n\n    // Test with Redis\n    string a = redisDb.StringGet(key + 1).ToString();\n    Console.WriteLine($\"StringGet by Redis : {a}\");\n\n    // Test with Garnet\n    string b = garnetDb.StringGet(key + 1).ToString();\n    Console.WriteLine($\"StringGet by Garnet : {b}\");\n}\n```\nÂæÆËΩØ ËØö‰∏çÊàëÊ¨∫ÔºÅ\n\nÂú®‰∏çÂä®ÂÆ¢Êà∑Á´Ø‰ª£Á†ÅÁöÑÊÉÖÂÜµ‰∏ãÔºåÊàë‰ª¨ËÉΩÂ§üÈùûÂ∏∏Âπ≥ÊªëÁöÑÂàáÊç¢Âà∞Garnet\n![connect](/images/garnet/connect.png)\n\nredisÊ°åÈù¢ÂÆ¢Êà∑Á´Ø‰πüËÉΩÁõ¥Êé•ËøûÊé•Garnet\n![client](/images/garnet/client.png)\n\n\n# Êó•ÂøóÂíåËØäÊñ≠\nGarnet Êèê‰æõ‰∫Ü‰∏∞ÂØåÁöÑÊó•ÂøóÂíåËØäÊñ≠ÁâπÊÄßÔºå‰ª•Â∏ÆÂä©ÂºÄÂèë‰∫∫ÂëòÁõëËßÜÂíåË∞ÉËØïÂÖ∂Â∫îÁî®Á®ãÂ∫èÁöÑÊÄßËÉΩÂíåË°å‰∏∫„ÄÇ‰ª•‰∏ãÊòØ Garnet Êó•ÂøóÂíåËØäÊñ≠ÁâπÊÄßÁöÑ‰∏ªË¶ÅÂÜÖÂÆπÔºö\n\n1. ËØ¶ÁªÜÊó•ÂøóËÆ∞ÂΩïÔºöGarnet ÂÖ∑ÊúâÁÅµÊ¥ªÁöÑÊó•ÂøóËÆ∞ÂΩïÂäüËÉΩÔºåÂèØ‰ª•ËÆ∞ÂΩïÂêÑÁßçÁ∫ßÂà´ÁöÑÊó•ÂøóÊ∂àÊÅØÔºåÂåÖÊã¨‰ø°ÊÅØ„ÄÅË≠¶ÂëäÂíåÈîôËØØ„ÄÇËøô‰∫õÊó•ÂøóÊ∂àÊÅØÂèØ‰ª•Â∏ÆÂä©ÂºÄÂèë‰∫∫Âëò‰∫ÜËß£Á≥ªÁªüÁöÑËøêË°åÊÉÖÂÜµÔºåËØÜÂà´ÊΩúÂú®ÁöÑÈóÆÈ¢òÂπ∂ËøõË°åÊïÖÈöúÊéíÈô§„ÄÇ\n\n2. ÊÄßËÉΩÊåáÊ†áÔºöGarnet ËøòÊèê‰æõ‰∫Ü‰∏∞ÂØåÁöÑÊÄßËÉΩÊåáÊ†áÔºåÂèØ‰ª•Â∏ÆÂä©ÂºÄÂèë‰∫∫ÂëòÁõëËßÜÁ≥ªÁªüÁöÑÊÄßËÉΩÁä∂ÂÜµ„ÄÇËøô‰∫õÊåáÊ†áÂèØ‰ª•ÂåÖÊã¨ÂêÑÁßçÂÖ≥ÈîÆÊÄßËÉΩÊåáÊ†áÔºåÂ¶ÇËØ∑Ê±ÇÂìçÂ∫îÊó∂Èó¥„ÄÅÂêûÂêêÈáè„ÄÅÂª∂ËøüÁ≠â„ÄÇ\n\n3. ÂºÇÂ∏∏Ë∑üË∏™ÔºöGarnet ÂÖ∑ÊúâÂºÇÂ∏∏Ë∑üË∏™ÂäüËÉΩÔºåÂèØ‰ª•ÊçïËé∑ÂíåËÆ∞ÂΩïÂ∫îÁî®Á®ãÂ∫è‰∏≠ÁöÑÂºÇÂ∏∏ÊÉÖÂÜµ„ÄÇËøô‰∫õÂºÇÂ∏∏Ë∑üË∏™‰ø°ÊÅØÂèØ‰ª•Â∏ÆÂä©ÂºÄÂèë‰∫∫ÂëòÂø´ÈÄüÂÆö‰ΩçÂíå‰øÆÂ§çÈóÆÈ¢ò„ÄÇ\n\n4. ËØäÊñ≠Â∑•ÂÖ∑ÔºöGarnet ËøòÊèê‰æõ‰∫Ü‰∏ÄÁ≥ªÂàóËØäÊñ≠Â∑•ÂÖ∑ÔºåÁî®‰∫éÂàÜÊûêÂíåË∞ÉËØïÁ≥ªÁªüÁöÑË°å‰∏∫„ÄÇËøô‰∫õÂ∑•ÂÖ∑ÂèØ‰ª•Â∏ÆÂä©ÂºÄÂèë‰∫∫ÂëòÊ∑±ÂÖ•‰∫ÜËß£Á≥ªÁªüÁöÑÂÜÖÈÉ®Â∑•‰ΩúÂéüÁêÜÔºåÂπ∂ËØÜÂà´ÊΩúÂú®ÁöÑÊÄßËÉΩÁì∂È¢àÂíåÈóÆÈ¢ò„ÄÇ\n\n```C#\nstatic void Main(string[] args)\n{\n    try\n    {\n\n        var loggerFactory = LoggerFactory.Create(x =>\n        {\n            x.ClearProviders();\n            x.SetMinimumLevel(LogLevel.Trace);\n            x.AddZLoggerConsole(options =>\n            {\n                options.UsePlainTextFormatter(formatter =>\n                {\n                    formatter.SetPrefixFormatter($\"[{0}]\", (in MessageTemplate template, in LogInfo info) => template.Format(info.Category));\n                });\n            });\n        });\n\n\n        using var server = new GarnetServer(args, loggerFactory);\n\n        // Optional: register custom extensions\n        RegisterExtensions(server);\n\n        // Start the server\n        server.Start();\n\n        Thread.Sleep(Timeout.Infinite);\n    }\n    catch (Exception ex)\n    {\n        Console.WriteLine($\"Unable to initialize server due to exception: {ex.Message}\");\n    }\n}\n```\n![Êó•Âøó](/images/garnet/log.png)\n\n\n\n# Ëá™ÂÆö‰πâÂëΩ‰ª§\nÊÉ≥Ë¶ÅÂú® Redis ‰∏äÊâßË°å‰∏Ä‰∫õÂ§çÊùÇÁöÑÊâßË°åÊòØÂæàÂ∏∏ËßÅÁöÑÔºåÂú® Redis ÁöÑÊÉÖÂÜµ‰∏ãÔºåÊàë‰ª¨ËøáÂéªÂ∏∏Â∏∏‰ΩøÁî® Lua ËÑöÊú¨Êù•Â§ÑÁêÜÂÆÉÔºå‰ΩÜ‰ΩøÁî® GarnetÔºåÊàë‰ª¨ÂèØ‰ª•Âú® C# ‰∏≠ÂÆûÁé∞ÂíåÂêàÂπ∂Ëá™ÂÆö‰πâÂëΩ‰ª§„ÄÇ Â¶ÇÊûú‰Ω†‰∏çÁü•ÈÅì LUA ÊòØÂê¶Âú®ÊÄßËÉΩÊñπÈù¢ÔºåÊàñËÄÖÂ¶ÇÊûú‰Ω†ÊÉ≥ÂÅö‰∏Ä‰∫õ LUA ÂÅö‰∏çÂà∞ÁöÑÁõ∏ÂΩìÂ§çÊùÇÁöÑ‰∫ãÊÉÖÔºå‰Ω†ÂèØ‰ª•‰ΩøÁî®ÂÆÉËÄå‰∏ç‰ºöÊúâ‰ªª‰ΩïÊÄßËÉΩÂä£Âäø„ÄÇ Êõ¥Â•ΩÁöÑÊòØÔºåÊúçÂä°Âô®Á´ØÊèê‰æõÁöÑÊâ©Â±ïÂëΩ‰ª§ÈÅµÂæ™ RESPÔºåÂõ†Ê≠§ÂÆ¢Êà∑Á´ØÂèØ‰ª•‰ªé PHP Êàñ Go Ë∞ÉÁî®ÂÆÉ‰ª¨ÔºåËÄå‰∏ç‰ªÖ‰ªÖÊòØÈíàÂØπ C#„ÄÇ\n\nÂõ†Ê≠§ÔºåËÆ©Êàë‰ª¨Á´ãÂç≥ÂàõÂª∫‰∏Ä‰∏™Âêç‰∏∫‚ÄúTEST‚ÄùÁöÑËá™ÂÆö‰πâÂëΩ‰ª§„ÄÇÂëΩ‰ª§ÂæàÁÆÄÂçïÔºåÁõ¥Êé•ËøîÂõû‰∏Ä‰∏™‚ÄúHello Garnet!‚Äù\n\nÊ≥®ÂÜåËá™ÂÆö‰πâÂëΩ‰ª§Êú¨Ë∫´ÈùûÂ∏∏ÁÆÄÂçïÔºåÂè™ÈúÄÊ∑ªÂä†‰∏Ä‰∏™ÂÆûÁé∞ÁöÑÁ±ªÔºåÊàñËÄÖ‰∏éÂëΩ‰ª§ÂêçÁß∞‰∏ÄËµ∑Ê∑ªÂä†Âç≥ÂèØ„ÄÇ\n\n```Garnet Server\n// ÊµãËØïËá™ÂÆö‰πâÂëΩ‰ª§\nserver.Register.NewTransactionProc(\"TEST\", 0, () => new TestCustomCommand());\n\n\nsealed class TestCustomCommand : CustomTransactionProcedure\n{\n    /// <summary>\n    /// No transactional phase, skip Prepare\n    /// </summary>\n    public override bool Prepare<TGarnetReadApi>(TGarnetReadApi api, ArgSlice input)\n        => false;\n\n    /// <summary>\n    /// Main will not be called because Prepare returns false\n    /// </summary>\n    public override void Main<TGarnetApi>(TGarnetApi api, ArgSlice input, ref MemoryResult<byte> output)\n        => throw new InvalidOperationException();\n\n    /// <summary>\n    /// Finalize reads two keys (non-transactionally) and return their values as an array of bulk strings\n    /// </summary>\n    public override void Finalize<TGarnetApi>(TGarnetApi api, ArgSlice input, ref MemoryResult<byte> output)\n    {\n        // Return the two keys as an array of bulk strings\n        WriteSimpleString(ref output, \"Hello Garnet!\");\n    }\n}\n\n```\n\nÂêåÊó∂ËøòÊòØÂõ†‰∏∫GarnetÈÅµÂæ™ RESPÔºåÂõ†Ê≠§ÂÆ¢Êà∑Á´Ø‰∏çÊòØ‰∏ìÁî®‰∫é C#Ôºå‰πü‰∏çÊòØ Garnet ÂÆ¢Êà∑Á´ØÁã¨ÊúâÁöÑ„ÄÇ ÊâÄ‰ª•Êàë‰ª¨ÂèØ‰ª•Áõ¥Êé•Âú®redisÂÆ¢Êà∑Á´ØË∞ÉÁî®GarnetÁöÑËá™ÂÆö‰πâÂëΩ‰ª§\n```Garnet client\n [HttpGet]\n [ActionTitle(Name = \"ÊµãËØïGarnet Ëá™ÂÆö‰πâÂëΩ‰ª§\")]\n [Route(\"custom-command.svc\")]\n public async void Test()\n {       \n     // Garnet connection\n     var garnet = new GarnetClient(\"localhost\", 3278);\n     garnet.Connect();\n     // Test data\n     string result = await garnet.ExecuteForStringResultAsync(\"TEST\");\n\n     Console.WriteLine($\"Garnet Custom Command Result: {result}\");\n\n     // ÈááÁî®redisÂÆ¢Êà∑Á´ØËøûÊé•\n     var client = ConnectionMultiplexer.Connect(\"localhost:3278\");\n     var db = client.GetDatabase();\n\n     RedisResult redisResult = db.Execute(\"TEST\");\n\n     Console.WriteLine($\"Redis Client Custom Command Result: {((string?)redisResult)}\");\n }\n```\nÊúÄÂêéÊàë‰ª¨ÂèØ‰ª•ÁúãÂà∞Áî®‰∏§ÁßçÂÆ¢Êà∑Á´ØÊâßË°åËá™ÂÆö‰πâÂëΩ‰ª§ÈÉΩËæìÂá∫‰∫ÜÂêåÊ†∑ÁöÑÁªìÊûú\n![custom command result](/images/garnet/custom-command.png)\n\n# ÁªìËØ≠\nGarnet‰Ωú‰∏∫ÂæÆËΩØÊúÄÊñ∞Êé®Âá∫ÁöÑËøúÁ®ãÁºìÂ≠òÂ≠òÂÇ®Á≥ªÁªüÔºå‰∏∫ÂºÄÂèëËÄÖÊèê‰æõ‰∫Ü‰∏ÄÁßçÂÖ®Êñ∞ÁöÑÈÄâÊã©„ÄÇÂÆÉÂÖ∑ÊúâÈ´òÊÄßËÉΩ„ÄÅÂèØÈù†ÊÄßÂíåÂèØ‰º∏Áº©ÊÄßÁöÑÁâπÊÄßÔºåÈÄÇÁî®‰∫éÂêÑÁßçËßÑÊ®°ÂíåÁ±ªÂûãÁöÑÂ∫îÁî®Âú∫ÊôØ„ÄÇÈÄöËøá‰ΩøÁî®GarnetÔºåÂºÄÂèëËÄÖÂèØ‰ª•Êõ¥Â•ΩÂú∞ÊèêÂçáÂ∫îÁî®ÁöÑÊÄßËÉΩÂíåÁî®Êà∑‰ΩìÈ™åÔºåÂÆûÁé∞‰∏öÂä°ÁöÑÂø´ÈÄüÂèëÂ±ïÂíåÊåÅÁª≠ÂàõÊñ∞„ÄÇ\n\n# ÂèÇËÄÉÊñáÊ°£\n+ [Garnet ÂºÄÂèëÂÖ•Èó®](https://microsoft.github.io/garnet/docs)\n\n\n\nÊõ¥Â§ö‰∏ÄÊâãËÆØÊÅØÔºåÂèØÂÖ≥Ê≥®ÂÖ¨‰ºóÂè∑Ôºö[ITProHub](https://myom-dev.oss-cn-hangzhou.aliyuncs.com/WechatPublicPlatformQrCode.jpg)\n\n![ITProHub](https://myom-dev.oss-cn-hangzhou.aliyuncs.com/WechatPublicPlatformQrCode.jpg)","slug":"garnet","published":1,"updated":"2024-04-26T03:07:22.478Z","_id":"clup9vupa0000okp14bz96eiy","comments":1,"layout":"post","photos":[],"link":"","content":"<p>Âè∑Â§ñÂè∑Â§ñÔºÅ</p>\n<ol>\n<li>redis‰∏çÂÜç‚ÄúÂºÄÊ∫ê‚ÄùÔºõ</li>\n<li>ÂæÆËΩØÂºÄÊ∫ê‰∫ÜGarnet</li>\n</ol>\n<h1 id=\"‰ªÄ‰πàÊòØGarnetÔºü\"><a href=\"#‰ªÄ‰πàÊòØGarnetÔºü\" class=\"headerlink\" title=\"‰ªÄ‰πàÊòØGarnetÔºü\"></a>‰ªÄ‰πàÊòØGarnetÔºü</h1><p>GarnetÊòØÂæÆËΩØÊé®Âá∫ÁöÑ‰∏ÄÊ¨æËøúÁ®ãÁºìÂ≠òÂ≠òÂÇ®Á≥ªÁªüÔºåÊó®Âú®‰∏∫ÂºÄÂèëËÄÖÊèê‰æõÈ´òÊÄßËÉΩ„ÄÅÂèØÈù†ÊÄßÂíåÂèØ‰º∏Áº©ÊÄßÁöÑÁºìÂ≠òËß£ÂÜ≥ÊñπÊ°à„ÄÇÂÆÉÈááÁî®‰∫ÜÁé∞‰ª£ÂåñÁöÑÊû∂ÊûÑÂíåÊäÄÊúØÔºåÂÖ∑ÊúâÈ´òÂ∫¶ÂèØÂÆöÂà∂ÊÄßÂíåÁÅµÊ¥ªÊÄßÔºåÈÄÇÁî®‰∫éÂêÑÁßçËßÑÊ®°ÂíåÁ±ªÂûãÁöÑÂ∫îÁî®Âú∫ÊôØ„ÄÇ</p>\n<h1 id=\"ÁâπÊÄßÂíå‰ºòÂäø\"><a href=\"#ÁâπÊÄßÂíå‰ºòÂäø\" class=\"headerlink\" title=\"ÁâπÊÄßÂíå‰ºòÂäø\"></a>ÁâπÊÄßÂíå‰ºòÂäø</h1><ol>\n<li><p>È´òÊÄßËÉΩ</p>\n<p>&nbsp; GarnetÈááÁî®‰∫ÜÈ´òÊïàÁöÑÁºìÂ≠òÁÆóÊ≥ïÂíåÊï∞ÊçÆÁªìÊûÑÔºå‰ª•ÂÆûÁé∞Âø´ÈÄüÁöÑÊï∞ÊçÆËÆøÈóÆÂíåÂìçÂ∫î„ÄÇÂÆÉÊîØÊåÅÂπ∂ÂèëËÆøÈóÆÂíåÈ´òÂêûÂêêÈáèÔºåËÉΩÂ§üÂ§ÑÁêÜÂ§ßËßÑÊ®°ÁöÑËØ∑Ê±ÇÊµÅÈáè„ÄÇ</p>\n</li>\n</ol>\n<p>  GarnetÈÄöËøáÊô∫ËÉΩÁºìÂ≠òÁ≠ñÁï•ÔºåÂ∞ÜÁÉ≠ÁÇπÊï∞ÊçÆÔºàÁªèÂ∏∏ËÆøÈóÆÁöÑÊï∞ÊçÆÔºâÂ≠òÂÇ®Âú®Áî®Êà∑ÈôÑËøëÁöÑËäÇÁÇπ‰∏äÔºå‰ªéËÄåÂáèÂ∞ë‰∫ÜÊï∞ÊçÆ‰º†ËæìÁöÑÊó∂Èó¥ÂíåË∑ùÁ¶ªÔºåÂÆûÁé∞‰∫Ü‰ΩéÂª∂ËøüËÆøÈóÆ„ÄÇ</p>\n<ol start=\"2\">\n<li><p>ÂèØÈù†ÊÄß</p>\n<p>&nbsp; GarnetÂÖ∑ÊúâÂº∫Â§ßÁöÑÊï∞ÊçÆ‰øùÊä§ÂíåÂÆπÈîôÊú∫Âà∂ÔºåËÉΩÂ§üÁ°Æ‰øùÊï∞ÊçÆÁöÑÊåÅ‰πÖÊÄßÂíå‰∏ÄËá¥ÊÄß„ÄÇÂÆÉÊîØÊåÅÊï∞ÊçÆÂ§á‰ªΩ„ÄÅÂ§çÂà∂ÂíåÊïÖÈöúËΩ¨ÁßªÔºåÊúâÊïàÂú∞Èôç‰Ωé‰∫ÜÊï∞ÊçÆ‰∏¢Â§±ÂíåÁ≥ªÁªüÊïÖÈöúÁöÑÈ£éÈô©„ÄÇ</p>\n</li>\n<li><p>ÂèØÊâ©Â±ïÊÄß</p>\n<p>&nbsp; GarnetÁöÑÊû∂ÊûÑËÆæËÆ°ÂÖ∑ÊúâËâØÂ•ΩÁöÑÊ∞¥Âπ≥Êâ©Â±ïÊÄßÔºåÂèØ‰ª•ËΩªÊùæÂú∞Êâ©Â±ïÂà∞Êï∞ÁôæÁîöËá≥Êï∞ÂçÉÂè∞ÊúçÂä°Âô®„ÄÇÂÆÉÊîØÊåÅÂä®ÊÄÅÊ∑ªÂä†ÂíåÁßªÈô§ËäÇÁÇπÔºåËÉΩÂ§üÊ†πÊçÆÈúÄÊ±ÇÁÅµÊ¥ªË∞ÉÊï¥ÈõÜÁæ§ËßÑÊ®°„ÄÇ</p>\n</li>\n<li><p>Â§öÁßçÊï∞ÊçÆÁ±ªÂûãÊîØÊåÅÔºö</p>\n<p>&nbsp; Èô§‰∫ÜÂ∏∏ËßÑÁöÑÈîÆÂÄºÂØπÂ≠òÂÇ®‰πãÂ§ñÔºåGarnetËøòÊîØÊåÅÂ§öÁßçÊï∞ÊçÆÁ±ªÂûãÔºåÂåÖÊã¨ÂàóË°®„ÄÅÈõÜÂêà„ÄÅÂìàÂ∏åË°®Á≠âÔºåÊª°Ë∂≥‰∫Ü‰∏çÂêåÂ∫îÁî®Âú∫ÊôØÁöÑÈúÄÊ±Ç„ÄÇ</p>\n</li>\n<li><p>‰∏∞ÂØåÁöÑÂäüËÉΩ</p>\n<p>&nbsp; GarnetÊèê‰æõ‰∫Ü‰∏∞ÂØåÁöÑÂäüËÉΩÂíåÂ∑•ÂÖ∑ÔºåÂåÖÊã¨ÁõëÊéß„ÄÅË∞É‰ºò„ÄÅÊïÖÈöúÊéíÈô§Á≠âÔºåÂ∏ÆÂä©ÂºÄÂèëËÄÖÊõ¥Â•ΩÂú∞ÁÆ°ÁêÜÂíåËøêÁª¥ÁºìÂ≠òÁ≥ªÁªü„ÄÇ</p>\n</li>\n</ol>\n<h1 id=\"È´òÊÄßËÉΩ\"><a href=\"#È´òÊÄßËÉΩ\" class=\"headerlink\" title=\"È´òÊÄßËÉΩ\"></a>È´òÊÄßËÉΩ</h1><p>ÂØπ‰∫é‰∏Ä‰∏™‰∏≠Èó¥‰ª∂Êù•ËØ¥ÔºåÂ§ßÂÆ∂ÊúÄÂÖ≥ÂøÉÁöÑÂ∫îËØ•Â∞±ÊòØÊÄßËÉΩÂà∞Â∫ïÊÄé‰πàÊ†∑ÔºüÂü∫ÂáÜÊµãËØïÁöÑÁªìÊûúÔºåÊÄª‰ΩìËøòÊòØË°®Áé∞‰∏çÈîôÁöÑ„ÄÇ</p>\n<p>ÂÖ∑‰ΩìÊÄßËÉΩÊµãËØïËØ¶ÊÉÖÂèØ‰ª•Êü•ÁúãÈìæÊé•Ôºö <a href=\"https://microsoft.github.io/garnet/docs/benchmarking/results-resp-bench\">Evaluating Garnet‚Äôs Performance Benefits</a></p>\n<p>ÂÆûÈôÖÂ∫îÁî®ÁöÑËøáÁ®ã‰∏≠ÊïàÊûúÂà∞Â∫ïÂíãÊ†∑ÂΩìÁÑ∂ËøòÈúÄË¶ÅÊàë‰ª¨Âú®ÈÄöËøá‰ª£Á†ÅÊù•È™åËØÅ‰∏Ä‰∏ã„ÄÇ</p>\n<p>‰∏ãÈù¢ÊàëÂÜô‰∫Ü‰∏Ä‰∏™ÁÆÄÂçïÁöÑ‰æãÂ≠êÔºåÁõ¥Êé•Âæ™ÁéØÂæÄgarnetÂíåredisÈáåÈù¢ÂÜôÂÖ•ÂíåËØªÂèñÊï∞ÊçÆ„ÄÇÈÄöËøáËÆ°ÁÆóÊó∂Èó¥Êù•ÂØπÊØî‰∏Ä‰∏ã‰∏§ËÄÖÁöÑÂ∑ÆË∑ùÂà∞Â∫ïÊúâÂ§öÂ§ß</p>\n<figure class=\"highlight c#\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[<span class=\"meta\">HttpGet</span>]</span><br><span class=\"line\">[<span class=\"meta\">ActionTitle(Name = <span class=\"string\">&quot;ÊµãËØïGarnet&quot;</span>)</span>]</span><br><span class=\"line\">[<span class=\"meta\">Route(<span class=\"string\">&quot;test.svc&quot;</span>)</span>]</span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">Start</span>()</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"comment\">// Redis connection</span></span><br><span class=\"line\">    <span class=\"keyword\">var</span> redis = ConnectionMultiplexer.Connect(<span class=\"string\">&quot;localhost&quot;</span>);</span><br><span class=\"line\">    <span class=\"keyword\">var</span> redisDb = redis.GetDatabase();</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// Garnet connection</span></span><br><span class=\"line\">    <span class=\"keyword\">var</span> garnet = <span class=\"keyword\">new</span> GarnetClient(<span class=\"string\">&quot;localhost&quot;</span>, <span class=\"number\">3278</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// Test data</span></span><br><span class=\"line\">    <span class=\"built_in\">string</span> key = <span class=\"string\">&quot;test_key&quot;</span>;</span><br><span class=\"line\">    <span class=\"built_in\">string</span> <span class=\"keyword\">value</span> = <span class=\"string\">&quot;test_value&quot;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// Test with Redis</span></span><br><span class=\"line\">   <span class=\"keyword\">var</span> redisStartTime = DateTime.Now;</span><br><span class=\"line\">   <span class=\"keyword\">for</span>( <span class=\"built_in\">int</span> i = <span class=\"number\">0</span>; i &lt; <span class=\"number\">1000</span>; i++ ) &#123;</span><br><span class=\"line\">       redisDb.StringSet(key + i, <span class=\"keyword\">value</span> + i);</span><br><span class=\"line\">   &#125;</span><br><span class=\"line\">   <span class=\"keyword\">var</span> redisEndTime = DateTime.Now;</span><br><span class=\"line\">   Console.WriteLine(<span class=\"string\">$&quot;StringSet Time taken by Redis: <span class=\"subst\">&#123;(redisEndTime - redisStartTime).TotalMilliseconds&#125;</span> ms&quot;</span>);</span><br><span class=\"line\">   </span><br><span class=\"line\">   <span class=\"comment\">// Test with Garnet</span></span><br><span class=\"line\">   <span class=\"keyword\">var</span> garnetStartTime = DateTime.Now;</span><br><span class=\"line\">   <span class=\"keyword\">for</span>( <span class=\"built_in\">int</span> i = <span class=\"number\">0</span>; i &lt; <span class=\"number\">1000</span>; i++ ) &#123;</span><br><span class=\"line\">       garnet.StringSet(key + i, <span class=\"keyword\">value</span> + i, <span class=\"literal\">null</span>);</span><br><span class=\"line\">   &#125;</span><br><span class=\"line\">   <span class=\"keyword\">var</span> garnetEndTime = DateTime.Now;</span><br><span class=\"line\">   Console.WriteLine(<span class=\"string\">$&quot;StringSet Time taken by Garnet: <span class=\"subst\">&#123;(garnetEndTime - garnetStartTime).TotalMilliseconds&#125;</span> ms&quot;</span>);</span><br><span class=\"line\">   </span><br><span class=\"line\">   <span class=\"comment\">// Test with Redis</span></span><br><span class=\"line\">   redisStartTime = DateTime.Now;</span><br><span class=\"line\">   <span class=\"keyword\">for</span>( <span class=\"built_in\">int</span> i = <span class=\"number\">0</span>; i &lt; <span class=\"number\">1000</span>; i++ ) &#123;</span><br><span class=\"line\">       <span class=\"built_in\">string</span> a = redisDb.StringGet(key + i).ToString();</span><br><span class=\"line\">   &#125;</span><br><span class=\"line\">   redisEndTime = DateTime.Now;</span><br><span class=\"line\">   Console.WriteLine(<span class=\"string\">$&quot;StringGet Time taken by Redis: <span class=\"subst\">&#123;(redisEndTime - redisStartTime).TotalMilliseconds&#125;</span> ms&quot;</span>);</span><br><span class=\"line\">   </span><br><span class=\"line\">   <span class=\"comment\">// Test with Garnet</span></span><br><span class=\"line\">   garnetStartTime = DateTime.Now;</span><br><span class=\"line\">   <span class=\"keyword\">for</span>( <span class=\"built_in\">int</span> i = <span class=\"number\">0</span>; i &lt; <span class=\"number\">1000</span>; i++ ) &#123;</span><br><span class=\"line\">       garnet.StringGet(key + i, <span class=\"literal\">null</span>);</span><br><span class=\"line\">   &#125;</span><br><span class=\"line\">   garnetEndTime = DateTime.Now;</span><br><span class=\"line\">   Console.WriteLine(<span class=\"string\">$&quot;StringGet Time taken by Garnet: <span class=\"subst\">&#123;(garnetEndTime - garnetStartTime).TotalMilliseconds&#125;</span> ms&quot;</span>);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>ÊúÄÂêéËøêË°åÁöÑÁªìÊûúËøòÊòØÊå∫ÊåØÂ•ã‰∫∫ÂøÉÁöÑ!</p>\n<p><img src=\"/images/garnet/compare1.png\" alt=\"ËøêË°åÁªìÊûú1\"></p>\n<h1 id=\"ÂÖºÂÆπÊÄß\"><a href=\"#ÂÖºÂÆπÊÄß\" class=\"headerlink\" title=\"ÂÖºÂÆπÊÄß\"></a>ÂÖºÂÆπÊÄß</h1><p>ÂΩìÁÑ∂Âú®ËøõË°å‰∏≠Èó¥‰ª∂ÈÄâÊã©ÁöÑÊó∂ÂÄôÔºåÂàáÊç¢ÁöÑÊàêÊú¨‰πüÊòØÈáçÁÇπË¶ÅÁ∫≥ÂÖ•ËÄÉËôëÁöÑ„ÄÇ‚ÄúÁôΩÂ´ñ‰∏ÄÊó∂ÁàΩÔºåÈáçÊûÑÁÅ´Ëë¨Âú∫ÔºÅ‚ÄùËøôÁßç‰∫ãÊÉÖÊòæÁÑ∂ÊòØÊàë‰ª¨‰∏çÊÑøÊÑèÁúãÂà∞ÁöÑ„ÄÇ</p>\n<p>Ëøô‰∏™Êó∂ÂÄôÊàë‰ª¨Âú®ÂÆòÁΩëÁúãÂà∞ËøôÊ†∑‰∏ÄÂè•ËØù</p>\n<blockquote>\n<p>Garnet Âπ∂‰∏çÊòØË¶ÅÊàê‰∏∫ Redis 100% ÂÆåÁæéÁöÑÊõø‰ª£ÂìÅÔºåËÄåÊòØÂ∫îËØ•Â∞ÜÂÖ∂ËßÜ‰∏∫‰∏Ä‰∏™Ë∂≥Â§üÊé•ËøëÁöÑËµ∑ÁÇπÔºå‰ª•Á°Æ‰øùÂØπÊÇ®ÈáçË¶ÅÁöÑÂäüËÉΩÁöÑÂÖºÂÆπÊÄß„ÄÇ Garnet Á°ÆÂÆûÂèØ‰ª•Âú®Êú™Áªè‰øÆÊîπÁöÑÊÉÖÂÜµ‰∏ã‰∏éËÆ∏Â§ö Redis ÂÆ¢Êà∑Á´Ø‰∏ÄËµ∑‰ΩøÁî®ÔºàÊàë‰ª¨ÁâπÂà´ÂØπ Garnet ËøõË°å‰∫ÜStackExchange.RedisÂæàÂ•ΩÁöÑÊµãËØïÔºâÔºåÂõ†Ê≠§ÂÖ•Èó®ÈùûÂ∏∏ÂÆπÊòì„ÄÇ</p>\n</blockquote>\n<p>‰∫éÊòØÔºåÊàë‰ª¨ÂÜçÊï¥‰∏™demo</p>\n<figure class=\"highlight c#\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[<span class=\"meta\">HttpGet</span>]</span><br><span class=\"line\">[<span class=\"meta\">ActionTitle(Name = <span class=\"string\">&quot;ÊµãËØïGarnetËøûÊé•&quot;</span>)</span>]</span><br><span class=\"line\">[<span class=\"meta\">Route(<span class=\"string\">&quot;connect.svc&quot;</span>)</span>]</span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">Connect</span>()</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"comment\">// Redis connection</span></span><br><span class=\"line\">    <span class=\"keyword\">var</span> redis = ConnectionMultiplexer.Connect(<span class=\"string\">&quot;localhost&quot;</span>);</span><br><span class=\"line\">    <span class=\"keyword\">var</span> redisDb = redis.GetDatabase();</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// Garnet connection</span></span><br><span class=\"line\">    <span class=\"keyword\">var</span> garnet = ConnectionMultiplexer.Connect(<span class=\"string\">&quot;localhost:3278&quot;</span>);</span><br><span class=\"line\">    <span class=\"keyword\">var</span> garnetDb = garnet.GetDatabase();</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// Test data</span></span><br><span class=\"line\">    <span class=\"built_in\">string</span> key = <span class=\"string\">&quot;test_key&quot;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// Test with Redis</span></span><br><span class=\"line\">    <span class=\"built_in\">string</span> a = redisDb.StringGet(key + <span class=\"number\">1</span>).ToString();</span><br><span class=\"line\">    Console.WriteLine(<span class=\"string\">$&quot;StringGet by Redis : <span class=\"subst\">&#123;a&#125;</span>&quot;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// Test with Garnet</span></span><br><span class=\"line\">    <span class=\"built_in\">string</span> b = garnetDb.StringGet(key + <span class=\"number\">1</span>).ToString();</span><br><span class=\"line\">    Console.WriteLine(<span class=\"string\">$&quot;StringGet by Garnet : <span class=\"subst\">&#123;b&#125;</span>&quot;</span>);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>ÂæÆËΩØ ËØö‰∏çÊàëÊ¨∫ÔºÅ</p>\n<p>Âú®‰∏çÂä®ÂÆ¢Êà∑Á´Ø‰ª£Á†ÅÁöÑÊÉÖÂÜµ‰∏ãÔºåÊàë‰ª¨ËÉΩÂ§üÈùûÂ∏∏Âπ≥ÊªëÁöÑÂàáÊç¢Âà∞Garnet<br><img src=\"/images/garnet/connect.png\" alt=\"connect\"></p>\n<p>redisÊ°åÈù¢ÂÆ¢Êà∑Á´Ø‰πüËÉΩÁõ¥Êé•ËøûÊé•Garnet<br><img src=\"/images/garnet/client.png\" alt=\"client\"></p>\n<h1 id=\"Êó•ÂøóÂíåËØäÊñ≠\"><a href=\"#Êó•ÂøóÂíåËØäÊñ≠\" class=\"headerlink\" title=\"Êó•ÂøóÂíåËØäÊñ≠\"></a>Êó•ÂøóÂíåËØäÊñ≠</h1><p>Garnet Êèê‰æõ‰∫Ü‰∏∞ÂØåÁöÑÊó•ÂøóÂíåËØäÊñ≠ÁâπÊÄßÔºå‰ª•Â∏ÆÂä©ÂºÄÂèë‰∫∫ÂëòÁõëËßÜÂíåË∞ÉËØïÂÖ∂Â∫îÁî®Á®ãÂ∫èÁöÑÊÄßËÉΩÂíåË°å‰∏∫„ÄÇ‰ª•‰∏ãÊòØ Garnet Êó•ÂøóÂíåËØäÊñ≠ÁâπÊÄßÁöÑ‰∏ªË¶ÅÂÜÖÂÆπÔºö</p>\n<ol>\n<li><p>ËØ¶ÁªÜÊó•ÂøóËÆ∞ÂΩïÔºöGarnet ÂÖ∑ÊúâÁÅµÊ¥ªÁöÑÊó•ÂøóËÆ∞ÂΩïÂäüËÉΩÔºåÂèØ‰ª•ËÆ∞ÂΩïÂêÑÁßçÁ∫ßÂà´ÁöÑÊó•ÂøóÊ∂àÊÅØÔºåÂåÖÊã¨‰ø°ÊÅØ„ÄÅË≠¶ÂëäÂíåÈîôËØØ„ÄÇËøô‰∫õÊó•ÂøóÊ∂àÊÅØÂèØ‰ª•Â∏ÆÂä©ÂºÄÂèë‰∫∫Âëò‰∫ÜËß£Á≥ªÁªüÁöÑËøêË°åÊÉÖÂÜµÔºåËØÜÂà´ÊΩúÂú®ÁöÑÈóÆÈ¢òÂπ∂ËøõË°åÊïÖÈöúÊéíÈô§„ÄÇ</p>\n</li>\n<li><p>ÊÄßËÉΩÊåáÊ†áÔºöGarnet ËøòÊèê‰æõ‰∫Ü‰∏∞ÂØåÁöÑÊÄßËÉΩÊåáÊ†áÔºåÂèØ‰ª•Â∏ÆÂä©ÂºÄÂèë‰∫∫ÂëòÁõëËßÜÁ≥ªÁªüÁöÑÊÄßËÉΩÁä∂ÂÜµ„ÄÇËøô‰∫õÊåáÊ†áÂèØ‰ª•ÂåÖÊã¨ÂêÑÁßçÂÖ≥ÈîÆÊÄßËÉΩÊåáÊ†áÔºåÂ¶ÇËØ∑Ê±ÇÂìçÂ∫îÊó∂Èó¥„ÄÅÂêûÂêêÈáè„ÄÅÂª∂ËøüÁ≠â„ÄÇ</p>\n</li>\n<li><p>ÂºÇÂ∏∏Ë∑üË∏™ÔºöGarnet ÂÖ∑ÊúâÂºÇÂ∏∏Ë∑üË∏™ÂäüËÉΩÔºåÂèØ‰ª•ÊçïËé∑ÂíåËÆ∞ÂΩïÂ∫îÁî®Á®ãÂ∫è‰∏≠ÁöÑÂºÇÂ∏∏ÊÉÖÂÜµ„ÄÇËøô‰∫õÂºÇÂ∏∏Ë∑üË∏™‰ø°ÊÅØÂèØ‰ª•Â∏ÆÂä©ÂºÄÂèë‰∫∫ÂëòÂø´ÈÄüÂÆö‰ΩçÂíå‰øÆÂ§çÈóÆÈ¢ò„ÄÇ</p>\n</li>\n<li><p>ËØäÊñ≠Â∑•ÂÖ∑ÔºöGarnet ËøòÊèê‰æõ‰∫Ü‰∏ÄÁ≥ªÂàóËØäÊñ≠Â∑•ÂÖ∑ÔºåÁî®‰∫éÂàÜÊûêÂíåË∞ÉËØïÁ≥ªÁªüÁöÑË°å‰∏∫„ÄÇËøô‰∫õÂ∑•ÂÖ∑ÂèØ‰ª•Â∏ÆÂä©ÂºÄÂèë‰∫∫ÂëòÊ∑±ÂÖ•‰∫ÜËß£Á≥ªÁªüÁöÑÂÜÖÈÉ®Â∑•‰ΩúÂéüÁêÜÔºåÂπ∂ËØÜÂà´ÊΩúÂú®ÁöÑÊÄßËÉΩÁì∂È¢àÂíåÈóÆÈ¢ò„ÄÇ</p>\n</li>\n</ol>\n<figure class=\"highlight c#\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title\">Main</span>(<span class=\"params\"><span class=\"built_in\">string</span>[] args</span>)</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"keyword\">try</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">var</span> loggerFactory = LoggerFactory.Create(x =&gt;</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            x.ClearProviders();</span><br><span class=\"line\">            x.SetMinimumLevel(LogLevel.Trace);</span><br><span class=\"line\">            x.AddZLoggerConsole(options =&gt;</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                options.UsePlainTextFormatter(formatter =&gt;</span><br><span class=\"line\">                &#123;</span><br><span class=\"line\">                    formatter.SetPrefixFormatter(<span class=\"string\">$&quot;[<span class=\"subst\">&#123;<span class=\"number\">0</span>&#125;</span>]&quot;</span>, (<span class=\"keyword\">in</span> MessageTemplate template, <span class=\"keyword\">in</span> LogInfo info) =&gt; template.Format(info.Category));</span><br><span class=\"line\">                &#125;);</span><br><span class=\"line\">            &#125;);</span><br><span class=\"line\">        &#125;);</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">using</span> <span class=\"keyword\">var</span> server = <span class=\"keyword\">new</span> GarnetServer(args, loggerFactory);</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">// Optional: register custom extensions</span></span><br><span class=\"line\">        RegisterExtensions(server);</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">// Start the server</span></span><br><span class=\"line\">        server.Start();</span><br><span class=\"line\"></span><br><span class=\"line\">        Thread.Sleep(Timeout.Infinite);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">catch</span> (Exception ex)</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        Console.WriteLine(<span class=\"string\">$&quot;Unable to initialize server due to exception: <span class=\"subst\">&#123;ex.Message&#125;</span>&quot;</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p><img src=\"/images/garnet/log.png\" alt=\"Êó•Âøó\"></p>\n<h1 id=\"Ëá™ÂÆö‰πâÂëΩ‰ª§\"><a href=\"#Ëá™ÂÆö‰πâÂëΩ‰ª§\" class=\"headerlink\" title=\"Ëá™ÂÆö‰πâÂëΩ‰ª§\"></a>Ëá™ÂÆö‰πâÂëΩ‰ª§</h1><p>ÊÉ≥Ë¶ÅÂú® Redis ‰∏äÊâßË°å‰∏Ä‰∫õÂ§çÊùÇÁöÑÊâßË°åÊòØÂæàÂ∏∏ËßÅÁöÑÔºåÂú® Redis ÁöÑÊÉÖÂÜµ‰∏ãÔºåÊàë‰ª¨ËøáÂéªÂ∏∏Â∏∏‰ΩøÁî® Lua ËÑöÊú¨Êù•Â§ÑÁêÜÂÆÉÔºå‰ΩÜ‰ΩøÁî® GarnetÔºåÊàë‰ª¨ÂèØ‰ª•Âú® C# ‰∏≠ÂÆûÁé∞ÂíåÂêàÂπ∂Ëá™ÂÆö‰πâÂëΩ‰ª§„ÄÇ Â¶ÇÊûú‰Ω†‰∏çÁü•ÈÅì LUA ÊòØÂê¶Âú®ÊÄßËÉΩÊñπÈù¢ÔºåÊàñËÄÖÂ¶ÇÊûú‰Ω†ÊÉ≥ÂÅö‰∏Ä‰∫õ LUA ÂÅö‰∏çÂà∞ÁöÑÁõ∏ÂΩìÂ§çÊùÇÁöÑ‰∫ãÊÉÖÔºå‰Ω†ÂèØ‰ª•‰ΩøÁî®ÂÆÉËÄå‰∏ç‰ºöÊúâ‰ªª‰ΩïÊÄßËÉΩÂä£Âäø„ÄÇ Êõ¥Â•ΩÁöÑÊòØÔºåÊúçÂä°Âô®Á´ØÊèê‰æõÁöÑÊâ©Â±ïÂëΩ‰ª§ÈÅµÂæ™ RESPÔºåÂõ†Ê≠§ÂÆ¢Êà∑Á´ØÂèØ‰ª•‰ªé PHP Êàñ Go Ë∞ÉÁî®ÂÆÉ‰ª¨ÔºåËÄå‰∏ç‰ªÖ‰ªÖÊòØÈíàÂØπ C#„ÄÇ</p>\n<p>Âõ†Ê≠§ÔºåËÆ©Êàë‰ª¨Á´ãÂç≥ÂàõÂª∫‰∏Ä‰∏™Âêç‰∏∫‚ÄúTEST‚ÄùÁöÑËá™ÂÆö‰πâÂëΩ‰ª§„ÄÇÂëΩ‰ª§ÂæàÁÆÄÂçïÔºåÁõ¥Êé•ËøîÂõû‰∏Ä‰∏™‚ÄúHello Garnet!‚Äù</p>\n<p>Ê≥®ÂÜåËá™ÂÆö‰πâÂëΩ‰ª§Êú¨Ë∫´ÈùûÂ∏∏ÁÆÄÂçïÔºåÂè™ÈúÄÊ∑ªÂä†‰∏Ä‰∏™ÂÆûÁé∞ÁöÑÁ±ªÔºåÊàñËÄÖ‰∏éÂëΩ‰ª§ÂêçÁß∞‰∏ÄËµ∑Ê∑ªÂä†Âç≥ÂèØ„ÄÇ</p>\n<figure class=\"highlight plaintext\"><figcaption><span>Server</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">// ÊµãËØïËá™ÂÆö‰πâÂëΩ‰ª§</span><br><span class=\"line\">server.Register.NewTransactionProc(&quot;TEST&quot;, 0, () =&gt; new TestCustomCommand());</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">sealed class TestCustomCommand : CustomTransactionProcedure</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    /// &lt;summary&gt;</span><br><span class=\"line\">    /// No transactional phase, skip Prepare</span><br><span class=\"line\">    /// &lt;/summary&gt;</span><br><span class=\"line\">    public override bool Prepare&lt;TGarnetReadApi&gt;(TGarnetReadApi api, ArgSlice input)</span><br><span class=\"line\">        =&gt; false;</span><br><span class=\"line\"></span><br><span class=\"line\">    /// &lt;summary&gt;</span><br><span class=\"line\">    /// Main will not be called because Prepare returns false</span><br><span class=\"line\">    /// &lt;/summary&gt;</span><br><span class=\"line\">    public override void Main&lt;TGarnetApi&gt;(TGarnetApi api, ArgSlice input, ref MemoryResult&lt;byte&gt; output)</span><br><span class=\"line\">        =&gt; throw new InvalidOperationException();</span><br><span class=\"line\"></span><br><span class=\"line\">    /// &lt;summary&gt;</span><br><span class=\"line\">    /// Finalize reads two keys (non-transactionally) and return their values as an array of bulk strings</span><br><span class=\"line\">    /// &lt;/summary&gt;</span><br><span class=\"line\">    public override void Finalize&lt;TGarnetApi&gt;(TGarnetApi api, ArgSlice input, ref MemoryResult&lt;byte&gt; output)</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        // Return the two keys as an array of bulk strings</span><br><span class=\"line\">        WriteSimpleString(ref output, &quot;Hello Garnet!&quot;);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<p>ÂêåÊó∂ËøòÊòØÂõ†‰∏∫GarnetÈÅµÂæ™ RESPÔºåÂõ†Ê≠§ÂÆ¢Êà∑Á´Ø‰∏çÊòØ‰∏ìÁî®‰∫é C#Ôºå‰πü‰∏çÊòØ Garnet ÂÆ¢Êà∑Á´ØÁã¨ÊúâÁöÑ„ÄÇ ÊâÄ‰ª•Êàë‰ª¨ÂèØ‰ª•Áõ¥Êé•Âú®redisÂÆ¢Êà∑Á´ØË∞ÉÁî®GarnetÁöÑËá™ÂÆö‰πâÂëΩ‰ª§</p>\n<figure class=\"highlight plaintext\"><figcaption><span>client</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[HttpGet]</span><br><span class=\"line\">[ActionTitle(Name = &quot;ÊµãËØïGarnet Ëá™ÂÆö‰πâÂëΩ‰ª§&quot;)]</span><br><span class=\"line\">[Route(&quot;custom-command.svc&quot;)]</span><br><span class=\"line\">public async void Test()</span><br><span class=\"line\">&#123;       </span><br><span class=\"line\">    // Garnet connection</span><br><span class=\"line\">    var garnet = new GarnetClient(&quot;localhost&quot;, 3278);</span><br><span class=\"line\">    garnet.Connect();</span><br><span class=\"line\">    // Test data</span><br><span class=\"line\">    string result = await garnet.ExecuteForStringResultAsync(&quot;TEST&quot;);</span><br><span class=\"line\"></span><br><span class=\"line\">    Console.WriteLine($&quot;Garnet Custom Command Result: &#123;result&#125;&quot;);</span><br><span class=\"line\"></span><br><span class=\"line\">    // ÈááÁî®redisÂÆ¢Êà∑Á´ØËøûÊé•</span><br><span class=\"line\">    var client = ConnectionMultiplexer.Connect(&quot;localhost:3278&quot;);</span><br><span class=\"line\">    var db = client.GetDatabase();</span><br><span class=\"line\"></span><br><span class=\"line\">    RedisResult redisResult = db.Execute(&quot;TEST&quot;);</span><br><span class=\"line\"></span><br><span class=\"line\">    Console.WriteLine($&quot;Redis Client Custom Command Result: &#123;((string?)redisResult)&#125;&quot;);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>ÊúÄÂêéÊàë‰ª¨ÂèØ‰ª•ÁúãÂà∞Áî®‰∏§ÁßçÂÆ¢Êà∑Á´ØÊâßË°åËá™ÂÆö‰πâÂëΩ‰ª§ÈÉΩËæìÂá∫‰∫ÜÂêåÊ†∑ÁöÑÁªìÊûú<br><img src=\"/images/garnet/custom-command.png\" alt=\"custom command result\"></p>\n<h1 id=\"ÁªìËØ≠\"><a href=\"#ÁªìËØ≠\" class=\"headerlink\" title=\"ÁªìËØ≠\"></a>ÁªìËØ≠</h1><p>Garnet‰Ωú‰∏∫ÂæÆËΩØÊúÄÊñ∞Êé®Âá∫ÁöÑËøúÁ®ãÁºìÂ≠òÂ≠òÂÇ®Á≥ªÁªüÔºå‰∏∫ÂºÄÂèëËÄÖÊèê‰æõ‰∫Ü‰∏ÄÁßçÂÖ®Êñ∞ÁöÑÈÄâÊã©„ÄÇÂÆÉÂÖ∑ÊúâÈ´òÊÄßËÉΩ„ÄÅÂèØÈù†ÊÄßÂíåÂèØ‰º∏Áº©ÊÄßÁöÑÁâπÊÄßÔºåÈÄÇÁî®‰∫éÂêÑÁßçËßÑÊ®°ÂíåÁ±ªÂûãÁöÑÂ∫îÁî®Âú∫ÊôØ„ÄÇÈÄöËøá‰ΩøÁî®GarnetÔºåÂºÄÂèëËÄÖÂèØ‰ª•Êõ¥Â•ΩÂú∞ÊèêÂçáÂ∫îÁî®ÁöÑÊÄßËÉΩÂíåÁî®Êà∑‰ΩìÈ™åÔºåÂÆûÁé∞‰∏öÂä°ÁöÑÂø´ÈÄüÂèëÂ±ïÂíåÊåÅÁª≠ÂàõÊñ∞„ÄÇ</p>\n<h1 id=\"ÂèÇËÄÉÊñáÊ°£\"><a href=\"#ÂèÇËÄÉÊñáÊ°£\" class=\"headerlink\" title=\"ÂèÇËÄÉÊñáÊ°£\"></a>ÂèÇËÄÉÊñáÊ°£</h1><ul>\n<li><a href=\"https://microsoft.github.io/garnet/docs\">Garnet ÂºÄÂèëÂÖ•Èó®</a></li>\n</ul>\n<p>Êõ¥Â§ö‰∏ÄÊâãËÆØÊÅØÔºåÂèØÂÖ≥Ê≥®ÂÖ¨‰ºóÂè∑Ôºö<a href=\"https://myom-dev.oss-cn-hangzhou.aliyuncs.com/WechatPublicPlatformQrCode.jpg\">ITProHub</a></p>\n<p><img src=\"https://myom-dev.oss-cn-hangzhou.aliyuncs.com/WechatPublicPlatformQrCode.jpg\" alt=\"ITProHub\"></p>\n","site":{"data":{}},"excerpt":"","more":"<p>Âè∑Â§ñÂè∑Â§ñÔºÅ</p>\n<ol>\n<li>redis‰∏çÂÜç‚ÄúÂºÄÊ∫ê‚ÄùÔºõ</li>\n<li>ÂæÆËΩØÂºÄÊ∫ê‰∫ÜGarnet</li>\n</ol>\n<h1 id=\"‰ªÄ‰πàÊòØGarnetÔºü\"><a href=\"#‰ªÄ‰πàÊòØGarnetÔºü\" class=\"headerlink\" title=\"‰ªÄ‰πàÊòØGarnetÔºü\"></a>‰ªÄ‰πàÊòØGarnetÔºü</h1><p>GarnetÊòØÂæÆËΩØÊé®Âá∫ÁöÑ‰∏ÄÊ¨æËøúÁ®ãÁºìÂ≠òÂ≠òÂÇ®Á≥ªÁªüÔºåÊó®Âú®‰∏∫ÂºÄÂèëËÄÖÊèê‰æõÈ´òÊÄßËÉΩ„ÄÅÂèØÈù†ÊÄßÂíåÂèØ‰º∏Áº©ÊÄßÁöÑÁºìÂ≠òËß£ÂÜ≥ÊñπÊ°à„ÄÇÂÆÉÈááÁî®‰∫ÜÁé∞‰ª£ÂåñÁöÑÊû∂ÊûÑÂíåÊäÄÊúØÔºåÂÖ∑ÊúâÈ´òÂ∫¶ÂèØÂÆöÂà∂ÊÄßÂíåÁÅµÊ¥ªÊÄßÔºåÈÄÇÁî®‰∫éÂêÑÁßçËßÑÊ®°ÂíåÁ±ªÂûãÁöÑÂ∫îÁî®Âú∫ÊôØ„ÄÇ</p>\n<h1 id=\"ÁâπÊÄßÂíå‰ºòÂäø\"><a href=\"#ÁâπÊÄßÂíå‰ºòÂäø\" class=\"headerlink\" title=\"ÁâπÊÄßÂíå‰ºòÂäø\"></a>ÁâπÊÄßÂíå‰ºòÂäø</h1><ol>\n<li><p>È´òÊÄßËÉΩ</p>\n<p>&nbsp; GarnetÈááÁî®‰∫ÜÈ´òÊïàÁöÑÁºìÂ≠òÁÆóÊ≥ïÂíåÊï∞ÊçÆÁªìÊûÑÔºå‰ª•ÂÆûÁé∞Âø´ÈÄüÁöÑÊï∞ÊçÆËÆøÈóÆÂíåÂìçÂ∫î„ÄÇÂÆÉÊîØÊåÅÂπ∂ÂèëËÆøÈóÆÂíåÈ´òÂêûÂêêÈáèÔºåËÉΩÂ§üÂ§ÑÁêÜÂ§ßËßÑÊ®°ÁöÑËØ∑Ê±ÇÊµÅÈáè„ÄÇ</p>\n</li>\n</ol>\n<p>  GarnetÈÄöËøáÊô∫ËÉΩÁºìÂ≠òÁ≠ñÁï•ÔºåÂ∞ÜÁÉ≠ÁÇπÊï∞ÊçÆÔºàÁªèÂ∏∏ËÆøÈóÆÁöÑÊï∞ÊçÆÔºâÂ≠òÂÇ®Âú®Áî®Êà∑ÈôÑËøëÁöÑËäÇÁÇπ‰∏äÔºå‰ªéËÄåÂáèÂ∞ë‰∫ÜÊï∞ÊçÆ‰º†ËæìÁöÑÊó∂Èó¥ÂíåË∑ùÁ¶ªÔºåÂÆûÁé∞‰∫Ü‰ΩéÂª∂ËøüËÆøÈóÆ„ÄÇ</p>\n<ol start=\"2\">\n<li><p>ÂèØÈù†ÊÄß</p>\n<p>&nbsp; GarnetÂÖ∑ÊúâÂº∫Â§ßÁöÑÊï∞ÊçÆ‰øùÊä§ÂíåÂÆπÈîôÊú∫Âà∂ÔºåËÉΩÂ§üÁ°Æ‰øùÊï∞ÊçÆÁöÑÊåÅ‰πÖÊÄßÂíå‰∏ÄËá¥ÊÄß„ÄÇÂÆÉÊîØÊåÅÊï∞ÊçÆÂ§á‰ªΩ„ÄÅÂ§çÂà∂ÂíåÊïÖÈöúËΩ¨ÁßªÔºåÊúâÊïàÂú∞Èôç‰Ωé‰∫ÜÊï∞ÊçÆ‰∏¢Â§±ÂíåÁ≥ªÁªüÊïÖÈöúÁöÑÈ£éÈô©„ÄÇ</p>\n</li>\n<li><p>ÂèØÊâ©Â±ïÊÄß</p>\n<p>&nbsp; GarnetÁöÑÊû∂ÊûÑËÆæËÆ°ÂÖ∑ÊúâËâØÂ•ΩÁöÑÊ∞¥Âπ≥Êâ©Â±ïÊÄßÔºåÂèØ‰ª•ËΩªÊùæÂú∞Êâ©Â±ïÂà∞Êï∞ÁôæÁîöËá≥Êï∞ÂçÉÂè∞ÊúçÂä°Âô®„ÄÇÂÆÉÊîØÊåÅÂä®ÊÄÅÊ∑ªÂä†ÂíåÁßªÈô§ËäÇÁÇπÔºåËÉΩÂ§üÊ†πÊçÆÈúÄÊ±ÇÁÅµÊ¥ªË∞ÉÊï¥ÈõÜÁæ§ËßÑÊ®°„ÄÇ</p>\n</li>\n<li><p>Â§öÁßçÊï∞ÊçÆÁ±ªÂûãÊîØÊåÅÔºö</p>\n<p>&nbsp; Èô§‰∫ÜÂ∏∏ËßÑÁöÑÈîÆÂÄºÂØπÂ≠òÂÇ®‰πãÂ§ñÔºåGarnetËøòÊîØÊåÅÂ§öÁßçÊï∞ÊçÆÁ±ªÂûãÔºåÂåÖÊã¨ÂàóË°®„ÄÅÈõÜÂêà„ÄÅÂìàÂ∏åË°®Á≠âÔºåÊª°Ë∂≥‰∫Ü‰∏çÂêåÂ∫îÁî®Âú∫ÊôØÁöÑÈúÄÊ±Ç„ÄÇ</p>\n</li>\n<li><p>‰∏∞ÂØåÁöÑÂäüËÉΩ</p>\n<p>&nbsp; GarnetÊèê‰æõ‰∫Ü‰∏∞ÂØåÁöÑÂäüËÉΩÂíåÂ∑•ÂÖ∑ÔºåÂåÖÊã¨ÁõëÊéß„ÄÅË∞É‰ºò„ÄÅÊïÖÈöúÊéíÈô§Á≠âÔºåÂ∏ÆÂä©ÂºÄÂèëËÄÖÊõ¥Â•ΩÂú∞ÁÆ°ÁêÜÂíåËøêÁª¥ÁºìÂ≠òÁ≥ªÁªü„ÄÇ</p>\n</li>\n</ol>\n<h1 id=\"È´òÊÄßËÉΩ\"><a href=\"#È´òÊÄßËÉΩ\" class=\"headerlink\" title=\"È´òÊÄßËÉΩ\"></a>È´òÊÄßËÉΩ</h1><p>ÂØπ‰∫é‰∏Ä‰∏™‰∏≠Èó¥‰ª∂Êù•ËØ¥ÔºåÂ§ßÂÆ∂ÊúÄÂÖ≥ÂøÉÁöÑÂ∫îËØ•Â∞±ÊòØÊÄßËÉΩÂà∞Â∫ïÊÄé‰πàÊ†∑ÔºüÂü∫ÂáÜÊµãËØïÁöÑÁªìÊûúÔºåÊÄª‰ΩìËøòÊòØË°®Áé∞‰∏çÈîôÁöÑ„ÄÇ</p>\n<p>ÂÖ∑‰ΩìÊÄßËÉΩÊµãËØïËØ¶ÊÉÖÂèØ‰ª•Êü•ÁúãÈìæÊé•Ôºö <a href=\"https://microsoft.github.io/garnet/docs/benchmarking/results-resp-bench\">Evaluating Garnet‚Äôs Performance Benefits</a></p>\n<p>ÂÆûÈôÖÂ∫îÁî®ÁöÑËøáÁ®ã‰∏≠ÊïàÊûúÂà∞Â∫ïÂíãÊ†∑ÂΩìÁÑ∂ËøòÈúÄË¶ÅÊàë‰ª¨Âú®ÈÄöËøá‰ª£Á†ÅÊù•È™åËØÅ‰∏Ä‰∏ã„ÄÇ</p>\n<p>‰∏ãÈù¢ÊàëÂÜô‰∫Ü‰∏Ä‰∏™ÁÆÄÂçïÁöÑ‰æãÂ≠êÔºåÁõ¥Êé•Âæ™ÁéØÂæÄgarnetÂíåredisÈáåÈù¢ÂÜôÂÖ•ÂíåËØªÂèñÊï∞ÊçÆ„ÄÇÈÄöËøáËÆ°ÁÆóÊó∂Èó¥Êù•ÂØπÊØî‰∏Ä‰∏ã‰∏§ËÄÖÁöÑÂ∑ÆË∑ùÂà∞Â∫ïÊúâÂ§öÂ§ß</p>\n<figure class=\"highlight c#\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[<span class=\"meta\">HttpGet</span>]</span><br><span class=\"line\">[<span class=\"meta\">ActionTitle(Name = <span class=\"string\">&quot;ÊµãËØïGarnet&quot;</span>)</span>]</span><br><span class=\"line\">[<span class=\"meta\">Route(<span class=\"string\">&quot;test.svc&quot;</span>)</span>]</span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">Start</span>()</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"comment\">// Redis connection</span></span><br><span class=\"line\">    <span class=\"keyword\">var</span> redis = ConnectionMultiplexer.Connect(<span class=\"string\">&quot;localhost&quot;</span>);</span><br><span class=\"line\">    <span class=\"keyword\">var</span> redisDb = redis.GetDatabase();</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// Garnet connection</span></span><br><span class=\"line\">    <span class=\"keyword\">var</span> garnet = <span class=\"keyword\">new</span> GarnetClient(<span class=\"string\">&quot;localhost&quot;</span>, <span class=\"number\">3278</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// Test data</span></span><br><span class=\"line\">    <span class=\"built_in\">string</span> key = <span class=\"string\">&quot;test_key&quot;</span>;</span><br><span class=\"line\">    <span class=\"built_in\">string</span> <span class=\"keyword\">value</span> = <span class=\"string\">&quot;test_value&quot;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// Test with Redis</span></span><br><span class=\"line\">   <span class=\"keyword\">var</span> redisStartTime = DateTime.Now;</span><br><span class=\"line\">   <span class=\"keyword\">for</span>( <span class=\"built_in\">int</span> i = <span class=\"number\">0</span>; i &lt; <span class=\"number\">1000</span>; i++ ) &#123;</span><br><span class=\"line\">       redisDb.StringSet(key + i, <span class=\"keyword\">value</span> + i);</span><br><span class=\"line\">   &#125;</span><br><span class=\"line\">   <span class=\"keyword\">var</span> redisEndTime = DateTime.Now;</span><br><span class=\"line\">   Console.WriteLine(<span class=\"string\">$&quot;StringSet Time taken by Redis: <span class=\"subst\">&#123;(redisEndTime - redisStartTime).TotalMilliseconds&#125;</span> ms&quot;</span>);</span><br><span class=\"line\">   </span><br><span class=\"line\">   <span class=\"comment\">// Test with Garnet</span></span><br><span class=\"line\">   <span class=\"keyword\">var</span> garnetStartTime = DateTime.Now;</span><br><span class=\"line\">   <span class=\"keyword\">for</span>( <span class=\"built_in\">int</span> i = <span class=\"number\">0</span>; i &lt; <span class=\"number\">1000</span>; i++ ) &#123;</span><br><span class=\"line\">       garnet.StringSet(key + i, <span class=\"keyword\">value</span> + i, <span class=\"literal\">null</span>);</span><br><span class=\"line\">   &#125;</span><br><span class=\"line\">   <span class=\"keyword\">var</span> garnetEndTime = DateTime.Now;</span><br><span class=\"line\">   Console.WriteLine(<span class=\"string\">$&quot;StringSet Time taken by Garnet: <span class=\"subst\">&#123;(garnetEndTime - garnetStartTime).TotalMilliseconds&#125;</span> ms&quot;</span>);</span><br><span class=\"line\">   </span><br><span class=\"line\">   <span class=\"comment\">// Test with Redis</span></span><br><span class=\"line\">   redisStartTime = DateTime.Now;</span><br><span class=\"line\">   <span class=\"keyword\">for</span>( <span class=\"built_in\">int</span> i = <span class=\"number\">0</span>; i &lt; <span class=\"number\">1000</span>; i++ ) &#123;</span><br><span class=\"line\">       <span class=\"built_in\">string</span> a = redisDb.StringGet(key + i).ToString();</span><br><span class=\"line\">   &#125;</span><br><span class=\"line\">   redisEndTime = DateTime.Now;</span><br><span class=\"line\">   Console.WriteLine(<span class=\"string\">$&quot;StringGet Time taken by Redis: <span class=\"subst\">&#123;(redisEndTime - redisStartTime).TotalMilliseconds&#125;</span> ms&quot;</span>);</span><br><span class=\"line\">   </span><br><span class=\"line\">   <span class=\"comment\">// Test with Garnet</span></span><br><span class=\"line\">   garnetStartTime = DateTime.Now;</span><br><span class=\"line\">   <span class=\"keyword\">for</span>( <span class=\"built_in\">int</span> i = <span class=\"number\">0</span>; i &lt; <span class=\"number\">1000</span>; i++ ) &#123;</span><br><span class=\"line\">       garnet.StringGet(key + i, <span class=\"literal\">null</span>);</span><br><span class=\"line\">   &#125;</span><br><span class=\"line\">   garnetEndTime = DateTime.Now;</span><br><span class=\"line\">   Console.WriteLine(<span class=\"string\">$&quot;StringGet Time taken by Garnet: <span class=\"subst\">&#123;(garnetEndTime - garnetStartTime).TotalMilliseconds&#125;</span> ms&quot;</span>);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>ÊúÄÂêéËøêË°åÁöÑÁªìÊûúËøòÊòØÊå∫ÊåØÂ•ã‰∫∫ÂøÉÁöÑ!</p>\n<p><img src=\"/images/garnet/compare1.png\" alt=\"ËøêË°åÁªìÊûú1\"></p>\n<h1 id=\"ÂÖºÂÆπÊÄß\"><a href=\"#ÂÖºÂÆπÊÄß\" class=\"headerlink\" title=\"ÂÖºÂÆπÊÄß\"></a>ÂÖºÂÆπÊÄß</h1><p>ÂΩìÁÑ∂Âú®ËøõË°å‰∏≠Èó¥‰ª∂ÈÄâÊã©ÁöÑÊó∂ÂÄôÔºåÂàáÊç¢ÁöÑÊàêÊú¨‰πüÊòØÈáçÁÇπË¶ÅÁ∫≥ÂÖ•ËÄÉËôëÁöÑ„ÄÇ‚ÄúÁôΩÂ´ñ‰∏ÄÊó∂ÁàΩÔºåÈáçÊûÑÁÅ´Ëë¨Âú∫ÔºÅ‚ÄùËøôÁßç‰∫ãÊÉÖÊòæÁÑ∂ÊòØÊàë‰ª¨‰∏çÊÑøÊÑèÁúãÂà∞ÁöÑ„ÄÇ</p>\n<p>Ëøô‰∏™Êó∂ÂÄôÊàë‰ª¨Âú®ÂÆòÁΩëÁúãÂà∞ËøôÊ†∑‰∏ÄÂè•ËØù</p>\n<blockquote>\n<p>Garnet Âπ∂‰∏çÊòØË¶ÅÊàê‰∏∫ Redis 100% ÂÆåÁæéÁöÑÊõø‰ª£ÂìÅÔºåËÄåÊòØÂ∫îËØ•Â∞ÜÂÖ∂ËßÜ‰∏∫‰∏Ä‰∏™Ë∂≥Â§üÊé•ËøëÁöÑËµ∑ÁÇπÔºå‰ª•Á°Æ‰øùÂØπÊÇ®ÈáçË¶ÅÁöÑÂäüËÉΩÁöÑÂÖºÂÆπÊÄß„ÄÇ Garnet Á°ÆÂÆûÂèØ‰ª•Âú®Êú™Áªè‰øÆÊîπÁöÑÊÉÖÂÜµ‰∏ã‰∏éËÆ∏Â§ö Redis ÂÆ¢Êà∑Á´Ø‰∏ÄËµ∑‰ΩøÁî®ÔºàÊàë‰ª¨ÁâπÂà´ÂØπ Garnet ËøõË°å‰∫ÜStackExchange.RedisÂæàÂ•ΩÁöÑÊµãËØïÔºâÔºåÂõ†Ê≠§ÂÖ•Èó®ÈùûÂ∏∏ÂÆπÊòì„ÄÇ</p>\n</blockquote>\n<p>‰∫éÊòØÔºåÊàë‰ª¨ÂÜçÊï¥‰∏™demo</p>\n<figure class=\"highlight c#\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[<span class=\"meta\">HttpGet</span>]</span><br><span class=\"line\">[<span class=\"meta\">ActionTitle(Name = <span class=\"string\">&quot;ÊµãËØïGarnetËøûÊé•&quot;</span>)</span>]</span><br><span class=\"line\">[<span class=\"meta\">Route(<span class=\"string\">&quot;connect.svc&quot;</span>)</span>]</span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">Connect</span>()</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"comment\">// Redis connection</span></span><br><span class=\"line\">    <span class=\"keyword\">var</span> redis = ConnectionMultiplexer.Connect(<span class=\"string\">&quot;localhost&quot;</span>);</span><br><span class=\"line\">    <span class=\"keyword\">var</span> redisDb = redis.GetDatabase();</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// Garnet connection</span></span><br><span class=\"line\">    <span class=\"keyword\">var</span> garnet = ConnectionMultiplexer.Connect(<span class=\"string\">&quot;localhost:3278&quot;</span>);</span><br><span class=\"line\">    <span class=\"keyword\">var</span> garnetDb = garnet.GetDatabase();</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// Test data</span></span><br><span class=\"line\">    <span class=\"built_in\">string</span> key = <span class=\"string\">&quot;test_key&quot;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// Test with Redis</span></span><br><span class=\"line\">    <span class=\"built_in\">string</span> a = redisDb.StringGet(key + <span class=\"number\">1</span>).ToString();</span><br><span class=\"line\">    Console.WriteLine(<span class=\"string\">$&quot;StringGet by Redis : <span class=\"subst\">&#123;a&#125;</span>&quot;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// Test with Garnet</span></span><br><span class=\"line\">    <span class=\"built_in\">string</span> b = garnetDb.StringGet(key + <span class=\"number\">1</span>).ToString();</span><br><span class=\"line\">    Console.WriteLine(<span class=\"string\">$&quot;StringGet by Garnet : <span class=\"subst\">&#123;b&#125;</span>&quot;</span>);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>ÂæÆËΩØ ËØö‰∏çÊàëÊ¨∫ÔºÅ</p>\n<p>Âú®‰∏çÂä®ÂÆ¢Êà∑Á´Ø‰ª£Á†ÅÁöÑÊÉÖÂÜµ‰∏ãÔºåÊàë‰ª¨ËÉΩÂ§üÈùûÂ∏∏Âπ≥ÊªëÁöÑÂàáÊç¢Âà∞Garnet<br><img src=\"/images/garnet/connect.png\" alt=\"connect\"></p>\n<p>redisÊ°åÈù¢ÂÆ¢Êà∑Á´Ø‰πüËÉΩÁõ¥Êé•ËøûÊé•Garnet<br><img src=\"/images/garnet/client.png\" alt=\"client\"></p>\n<h1 id=\"Êó•ÂøóÂíåËØäÊñ≠\"><a href=\"#Êó•ÂøóÂíåËØäÊñ≠\" class=\"headerlink\" title=\"Êó•ÂøóÂíåËØäÊñ≠\"></a>Êó•ÂøóÂíåËØäÊñ≠</h1><p>Garnet Êèê‰æõ‰∫Ü‰∏∞ÂØåÁöÑÊó•ÂøóÂíåËØäÊñ≠ÁâπÊÄßÔºå‰ª•Â∏ÆÂä©ÂºÄÂèë‰∫∫ÂëòÁõëËßÜÂíåË∞ÉËØïÂÖ∂Â∫îÁî®Á®ãÂ∫èÁöÑÊÄßËÉΩÂíåË°å‰∏∫„ÄÇ‰ª•‰∏ãÊòØ Garnet Êó•ÂøóÂíåËØäÊñ≠ÁâπÊÄßÁöÑ‰∏ªË¶ÅÂÜÖÂÆπÔºö</p>\n<ol>\n<li><p>ËØ¶ÁªÜÊó•ÂøóËÆ∞ÂΩïÔºöGarnet ÂÖ∑ÊúâÁÅµÊ¥ªÁöÑÊó•ÂøóËÆ∞ÂΩïÂäüËÉΩÔºåÂèØ‰ª•ËÆ∞ÂΩïÂêÑÁßçÁ∫ßÂà´ÁöÑÊó•ÂøóÊ∂àÊÅØÔºåÂåÖÊã¨‰ø°ÊÅØ„ÄÅË≠¶ÂëäÂíåÈîôËØØ„ÄÇËøô‰∫õÊó•ÂøóÊ∂àÊÅØÂèØ‰ª•Â∏ÆÂä©ÂºÄÂèë‰∫∫Âëò‰∫ÜËß£Á≥ªÁªüÁöÑËøêË°åÊÉÖÂÜµÔºåËØÜÂà´ÊΩúÂú®ÁöÑÈóÆÈ¢òÂπ∂ËøõË°åÊïÖÈöúÊéíÈô§„ÄÇ</p>\n</li>\n<li><p>ÊÄßËÉΩÊåáÊ†áÔºöGarnet ËøòÊèê‰æõ‰∫Ü‰∏∞ÂØåÁöÑÊÄßËÉΩÊåáÊ†áÔºåÂèØ‰ª•Â∏ÆÂä©ÂºÄÂèë‰∫∫ÂëòÁõëËßÜÁ≥ªÁªüÁöÑÊÄßËÉΩÁä∂ÂÜµ„ÄÇËøô‰∫õÊåáÊ†áÂèØ‰ª•ÂåÖÊã¨ÂêÑÁßçÂÖ≥ÈîÆÊÄßËÉΩÊåáÊ†áÔºåÂ¶ÇËØ∑Ê±ÇÂìçÂ∫îÊó∂Èó¥„ÄÅÂêûÂêêÈáè„ÄÅÂª∂ËøüÁ≠â„ÄÇ</p>\n</li>\n<li><p>ÂºÇÂ∏∏Ë∑üË∏™ÔºöGarnet ÂÖ∑ÊúâÂºÇÂ∏∏Ë∑üË∏™ÂäüËÉΩÔºåÂèØ‰ª•ÊçïËé∑ÂíåËÆ∞ÂΩïÂ∫îÁî®Á®ãÂ∫è‰∏≠ÁöÑÂºÇÂ∏∏ÊÉÖÂÜµ„ÄÇËøô‰∫õÂºÇÂ∏∏Ë∑üË∏™‰ø°ÊÅØÂèØ‰ª•Â∏ÆÂä©ÂºÄÂèë‰∫∫ÂëòÂø´ÈÄüÂÆö‰ΩçÂíå‰øÆÂ§çÈóÆÈ¢ò„ÄÇ</p>\n</li>\n<li><p>ËØäÊñ≠Â∑•ÂÖ∑ÔºöGarnet ËøòÊèê‰æõ‰∫Ü‰∏ÄÁ≥ªÂàóËØäÊñ≠Â∑•ÂÖ∑ÔºåÁî®‰∫éÂàÜÊûêÂíåË∞ÉËØïÁ≥ªÁªüÁöÑË°å‰∏∫„ÄÇËøô‰∫õÂ∑•ÂÖ∑ÂèØ‰ª•Â∏ÆÂä©ÂºÄÂèë‰∫∫ÂëòÊ∑±ÂÖ•‰∫ÜËß£Á≥ªÁªüÁöÑÂÜÖÈÉ®Â∑•‰ΩúÂéüÁêÜÔºåÂπ∂ËØÜÂà´ÊΩúÂú®ÁöÑÊÄßËÉΩÁì∂È¢àÂíåÈóÆÈ¢ò„ÄÇ</p>\n</li>\n</ol>\n<figure class=\"highlight c#\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title\">Main</span>(<span class=\"params\"><span class=\"built_in\">string</span>[] args</span>)</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"keyword\">try</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">var</span> loggerFactory = LoggerFactory.Create(x =&gt;</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            x.ClearProviders();</span><br><span class=\"line\">            x.SetMinimumLevel(LogLevel.Trace);</span><br><span class=\"line\">            x.AddZLoggerConsole(options =&gt;</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                options.UsePlainTextFormatter(formatter =&gt;</span><br><span class=\"line\">                &#123;</span><br><span class=\"line\">                    formatter.SetPrefixFormatter(<span class=\"string\">$&quot;[<span class=\"subst\">&#123;<span class=\"number\">0</span>&#125;</span>]&quot;</span>, (<span class=\"keyword\">in</span> MessageTemplate template, <span class=\"keyword\">in</span> LogInfo info) =&gt; template.Format(info.Category));</span><br><span class=\"line\">                &#125;);</span><br><span class=\"line\">            &#125;);</span><br><span class=\"line\">        &#125;);</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">using</span> <span class=\"keyword\">var</span> server = <span class=\"keyword\">new</span> GarnetServer(args, loggerFactory);</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">// Optional: register custom extensions</span></span><br><span class=\"line\">        RegisterExtensions(server);</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">// Start the server</span></span><br><span class=\"line\">        server.Start();</span><br><span class=\"line\"></span><br><span class=\"line\">        Thread.Sleep(Timeout.Infinite);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">catch</span> (Exception ex)</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        Console.WriteLine(<span class=\"string\">$&quot;Unable to initialize server due to exception: <span class=\"subst\">&#123;ex.Message&#125;</span>&quot;</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p><img src=\"/images/garnet/log.png\" alt=\"Êó•Âøó\"></p>\n<h1 id=\"Ëá™ÂÆö‰πâÂëΩ‰ª§\"><a href=\"#Ëá™ÂÆö‰πâÂëΩ‰ª§\" class=\"headerlink\" title=\"Ëá™ÂÆö‰πâÂëΩ‰ª§\"></a>Ëá™ÂÆö‰πâÂëΩ‰ª§</h1><p>ÊÉ≥Ë¶ÅÂú® Redis ‰∏äÊâßË°å‰∏Ä‰∫õÂ§çÊùÇÁöÑÊâßË°åÊòØÂæàÂ∏∏ËßÅÁöÑÔºåÂú® Redis ÁöÑÊÉÖÂÜµ‰∏ãÔºåÊàë‰ª¨ËøáÂéªÂ∏∏Â∏∏‰ΩøÁî® Lua ËÑöÊú¨Êù•Â§ÑÁêÜÂÆÉÔºå‰ΩÜ‰ΩøÁî® GarnetÔºåÊàë‰ª¨ÂèØ‰ª•Âú® C# ‰∏≠ÂÆûÁé∞ÂíåÂêàÂπ∂Ëá™ÂÆö‰πâÂëΩ‰ª§„ÄÇ Â¶ÇÊûú‰Ω†‰∏çÁü•ÈÅì LUA ÊòØÂê¶Âú®ÊÄßËÉΩÊñπÈù¢ÔºåÊàñËÄÖÂ¶ÇÊûú‰Ω†ÊÉ≥ÂÅö‰∏Ä‰∫õ LUA ÂÅö‰∏çÂà∞ÁöÑÁõ∏ÂΩìÂ§çÊùÇÁöÑ‰∫ãÊÉÖÔºå‰Ω†ÂèØ‰ª•‰ΩøÁî®ÂÆÉËÄå‰∏ç‰ºöÊúâ‰ªª‰ΩïÊÄßËÉΩÂä£Âäø„ÄÇ Êõ¥Â•ΩÁöÑÊòØÔºåÊúçÂä°Âô®Á´ØÊèê‰æõÁöÑÊâ©Â±ïÂëΩ‰ª§ÈÅµÂæ™ RESPÔºåÂõ†Ê≠§ÂÆ¢Êà∑Á´ØÂèØ‰ª•‰ªé PHP Êàñ Go Ë∞ÉÁî®ÂÆÉ‰ª¨ÔºåËÄå‰∏ç‰ªÖ‰ªÖÊòØÈíàÂØπ C#„ÄÇ</p>\n<p>Âõ†Ê≠§ÔºåËÆ©Êàë‰ª¨Á´ãÂç≥ÂàõÂª∫‰∏Ä‰∏™Âêç‰∏∫‚ÄúTEST‚ÄùÁöÑËá™ÂÆö‰πâÂëΩ‰ª§„ÄÇÂëΩ‰ª§ÂæàÁÆÄÂçïÔºåÁõ¥Êé•ËøîÂõû‰∏Ä‰∏™‚ÄúHello Garnet!‚Äù</p>\n<p>Ê≥®ÂÜåËá™ÂÆö‰πâÂëΩ‰ª§Êú¨Ë∫´ÈùûÂ∏∏ÁÆÄÂçïÔºåÂè™ÈúÄÊ∑ªÂä†‰∏Ä‰∏™ÂÆûÁé∞ÁöÑÁ±ªÔºåÊàñËÄÖ‰∏éÂëΩ‰ª§ÂêçÁß∞‰∏ÄËµ∑Ê∑ªÂä†Âç≥ÂèØ„ÄÇ</p>\n<figure class=\"highlight plaintext\"><figcaption><span>Server</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">// ÊµãËØïËá™ÂÆö‰πâÂëΩ‰ª§</span><br><span class=\"line\">server.Register.NewTransactionProc(&quot;TEST&quot;, 0, () =&gt; new TestCustomCommand());</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">sealed class TestCustomCommand : CustomTransactionProcedure</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    /// &lt;summary&gt;</span><br><span class=\"line\">    /// No transactional phase, skip Prepare</span><br><span class=\"line\">    /// &lt;/summary&gt;</span><br><span class=\"line\">    public override bool Prepare&lt;TGarnetReadApi&gt;(TGarnetReadApi api, ArgSlice input)</span><br><span class=\"line\">        =&gt; false;</span><br><span class=\"line\"></span><br><span class=\"line\">    /// &lt;summary&gt;</span><br><span class=\"line\">    /// Main will not be called because Prepare returns false</span><br><span class=\"line\">    /// &lt;/summary&gt;</span><br><span class=\"line\">    public override void Main&lt;TGarnetApi&gt;(TGarnetApi api, ArgSlice input, ref MemoryResult&lt;byte&gt; output)</span><br><span class=\"line\">        =&gt; throw new InvalidOperationException();</span><br><span class=\"line\"></span><br><span class=\"line\">    /// &lt;summary&gt;</span><br><span class=\"line\">    /// Finalize reads two keys (non-transactionally) and return their values as an array of bulk strings</span><br><span class=\"line\">    /// &lt;/summary&gt;</span><br><span class=\"line\">    public override void Finalize&lt;TGarnetApi&gt;(TGarnetApi api, ArgSlice input, ref MemoryResult&lt;byte&gt; output)</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        // Return the two keys as an array of bulk strings</span><br><span class=\"line\">        WriteSimpleString(ref output, &quot;Hello Garnet!&quot;);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<p>ÂêåÊó∂ËøòÊòØÂõ†‰∏∫GarnetÈÅµÂæ™ RESPÔºåÂõ†Ê≠§ÂÆ¢Êà∑Á´Ø‰∏çÊòØ‰∏ìÁî®‰∫é C#Ôºå‰πü‰∏çÊòØ Garnet ÂÆ¢Êà∑Á´ØÁã¨ÊúâÁöÑ„ÄÇ ÊâÄ‰ª•Êàë‰ª¨ÂèØ‰ª•Áõ¥Êé•Âú®redisÂÆ¢Êà∑Á´ØË∞ÉÁî®GarnetÁöÑËá™ÂÆö‰πâÂëΩ‰ª§</p>\n<figure class=\"highlight plaintext\"><figcaption><span>client</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[HttpGet]</span><br><span class=\"line\">[ActionTitle(Name = &quot;ÊµãËØïGarnet Ëá™ÂÆö‰πâÂëΩ‰ª§&quot;)]</span><br><span class=\"line\">[Route(&quot;custom-command.svc&quot;)]</span><br><span class=\"line\">public async void Test()</span><br><span class=\"line\">&#123;       </span><br><span class=\"line\">    // Garnet connection</span><br><span class=\"line\">    var garnet = new GarnetClient(&quot;localhost&quot;, 3278);</span><br><span class=\"line\">    garnet.Connect();</span><br><span class=\"line\">    // Test data</span><br><span class=\"line\">    string result = await garnet.ExecuteForStringResultAsync(&quot;TEST&quot;);</span><br><span class=\"line\"></span><br><span class=\"line\">    Console.WriteLine($&quot;Garnet Custom Command Result: &#123;result&#125;&quot;);</span><br><span class=\"line\"></span><br><span class=\"line\">    // ÈááÁî®redisÂÆ¢Êà∑Á´ØËøûÊé•</span><br><span class=\"line\">    var client = ConnectionMultiplexer.Connect(&quot;localhost:3278&quot;);</span><br><span class=\"line\">    var db = client.GetDatabase();</span><br><span class=\"line\"></span><br><span class=\"line\">    RedisResult redisResult = db.Execute(&quot;TEST&quot;);</span><br><span class=\"line\"></span><br><span class=\"line\">    Console.WriteLine($&quot;Redis Client Custom Command Result: &#123;((string?)redisResult)&#125;&quot;);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>ÊúÄÂêéÊàë‰ª¨ÂèØ‰ª•ÁúãÂà∞Áî®‰∏§ÁßçÂÆ¢Êà∑Á´ØÊâßË°åËá™ÂÆö‰πâÂëΩ‰ª§ÈÉΩËæìÂá∫‰∫ÜÂêåÊ†∑ÁöÑÁªìÊûú<br><img src=\"/images/garnet/custom-command.png\" alt=\"custom command result\"></p>\n<h1 id=\"ÁªìËØ≠\"><a href=\"#ÁªìËØ≠\" class=\"headerlink\" title=\"ÁªìËØ≠\"></a>ÁªìËØ≠</h1><p>Garnet‰Ωú‰∏∫ÂæÆËΩØÊúÄÊñ∞Êé®Âá∫ÁöÑËøúÁ®ãÁºìÂ≠òÂ≠òÂÇ®Á≥ªÁªüÔºå‰∏∫ÂºÄÂèëËÄÖÊèê‰æõ‰∫Ü‰∏ÄÁßçÂÖ®Êñ∞ÁöÑÈÄâÊã©„ÄÇÂÆÉÂÖ∑ÊúâÈ´òÊÄßËÉΩ„ÄÅÂèØÈù†ÊÄßÂíåÂèØ‰º∏Áº©ÊÄßÁöÑÁâπÊÄßÔºåÈÄÇÁî®‰∫éÂêÑÁßçËßÑÊ®°ÂíåÁ±ªÂûãÁöÑÂ∫îÁî®Âú∫ÊôØ„ÄÇÈÄöËøá‰ΩøÁî®GarnetÔºåÂºÄÂèëËÄÖÂèØ‰ª•Êõ¥Â•ΩÂú∞ÊèêÂçáÂ∫îÁî®ÁöÑÊÄßËÉΩÂíåÁî®Êà∑‰ΩìÈ™åÔºåÂÆûÁé∞‰∏öÂä°ÁöÑÂø´ÈÄüÂèëÂ±ïÂíåÊåÅÁª≠ÂàõÊñ∞„ÄÇ</p>\n<h1 id=\"ÂèÇËÄÉÊñáÊ°£\"><a href=\"#ÂèÇËÄÉÊñáÊ°£\" class=\"headerlink\" title=\"ÂèÇËÄÉÊñáÊ°£\"></a>ÂèÇËÄÉÊñáÊ°£</h1><ul>\n<li><a href=\"https://microsoft.github.io/garnet/docs\">Garnet ÂºÄÂèëÂÖ•Èó®</a></li>\n</ul>\n<p>Êõ¥Â§ö‰∏ÄÊâãËÆØÊÅØÔºåÂèØÂÖ≥Ê≥®ÂÖ¨‰ºóÂè∑Ôºö<a href=\"https://myom-dev.oss-cn-hangzhou.aliyuncs.com/WechatPublicPlatformQrCode.jpg\">ITProHub</a></p>\n<p><img src=\"https://myom-dev.oss-cn-hangzhou.aliyuncs.com/WechatPublicPlatformQrCode.jpg\" alt=\"ITProHub\"></p>\n"},{"title":"HTTPSÁöÑÂ∑•‰ΩúÂéüÁêÜ‰ª•ÂèäÂÆâË£Ö","date":"2024-04-11T07:36:46.000Z","_content":"\n# ‰ªÄ‰πàÊòØ HTTPSÔºü\nHTTP ÊòØ‰∏ÄÁßçÁî®‰∫éÂú®ÊúçÂä°Âô®ÂíåÂÆ¢Êà∑Á´ØÔºàWeb ÊµèËßàÂô®Ôºâ‰πãÈó¥‰∫§Êç¢Êï∞ÊçÆÁöÑ‰∫íËÅîÁΩëÂçèËÆÆ„ÄÇ HTTPS Âè™‰∏çËøáÊòØÂú®HTTPÁöÑÂü∫Á°Ä‰∏äÊ∑ªÂä†‰∫ÜÂÆâÂÖ®Â±Ç„ÄÇ\nHTTP ‰∏çÊòØ‰∏Ä‰∏™ÂÆâÂÖ®ÂçèËÆÆÔºöÂÆÉÊòØ‰∏∫‰∫ÜÁ∫ØÁ≤πÁöÑÂäüËÉΩÁõÆÊ†áËÄåËÆæËÆ°ÁöÑÔºåÊ≤°ÊúâËÄÉËôë‰ªª‰ΩïÂÆâÂÖ®Á∫¶Êùü„ÄÇ\n\nÊâÄ‰ª•Êàë‰ª¨ÁªôHTTPÊ∑ªÂä†‰∫Ü‰∏Ä‰∏™ÂÆâÂÖ®Â±Ç„ÄÇÊõ¥ÂáÜÁ°ÆÂú∞ËØ¥ÔºåÂ∞Ü HTTP Â∞ÅË£ÖÂà∞ÂÆâÂÖ®ËøûÊé•‰∏≠„ÄÇ\n\n![ÂÆâÂÖ®ËøûÊé•](/images/https/security.png)\n\nHTTPS ‰ΩøÊàë‰ª¨ËÉΩÂ§üÂÆûÁé∞‰∏â‰∏™ÁõÆÊ†áÔºö\n\n+ Ë∫´‰ªΩÈ™åËØÅÔºöHTTPS ‰ΩøÁî®Êï∞Â≠óËØÅ‰π¶Êù•È™åËØÅÊúçÂä°Âô®ÂíåÂÆ¢Êà∑Á´ØÁöÑË∫´‰ªΩÔºåÈò≤Ê≠¢‰∏≠Èó¥‰∫∫ÊîªÂáª„ÄÇÊúçÂä°Âô®ÈúÄË¶ÅÊèê‰æõÊúâÊïàÁöÑÊï∞Â≠óËØÅ‰π¶ÔºåËÄåÂÆ¢Êà∑Á´ØÂèØ‰ª•È™åËØÅËØÅ‰π¶ÁöÑÊúâÊïàÊÄßÔºåÁ°Æ‰øù‰∏éÊ≠£Á°ÆÁöÑÊúçÂä°Âô®Âª∫Á´ãËøûÊé•„ÄÇ\n+ ÈöêÁßÅÔºöÁΩëÁªú‰∏äÁöÑ‰ªª‰Ωï‰∫∫ÈÉΩÊó†Ê≥ïËØªÂèñÊï∞ÊçÆÔºåÂõ†‰∏∫ÂÆÉÊòØÂä†ÂØÜÁöÑ\n+ ÂÆåÊï¥ÊÄßÔºöHTTPS ‰ΩøÁî®Ê∂àÊÅØÊëòË¶ÅÁÆóÊ≥ïÔºàÂ¶Ç SHA-256ÔºâÊù•ËÆ°ÁÆóÊï∞ÊçÆÁöÑÊëòË¶ÅÔºåÂπ∂Â∞ÜÊëòË¶Å‰∏éÊï∞ÊçÆ‰∏ÄËµ∑‰º†Ëæì„ÄÇÊé•Êî∂ÊñπÂèØ‰ª•È™åËØÅÊï∞ÊçÆÁöÑÂÆåÊï¥ÊÄßÔºåÁ°Æ‰øùÊï∞ÊçÆÂú®‰º†ËæìËøáÁ®ã‰∏≠Êú™Ë¢´ÁØ°Êîπ„ÄÇ\n\n\n# ËØÅ‰π¶È¢ÅÂèëÊú∫ÊûÑ\nËØÅ‰π¶È¢ÅÂèëÊú∫ÊûÑÊòØÊèê‰æõ SSL ËØÅ‰π¶ÁöÑÂÖ¨Âè∏„ÄÇËøô‰∫õÁªÑÁªá‰∏∫ÁΩëÁªúÊµèËßàÂô®ÊâÄÁÜüÁü•ÔºåÂπ∂Êé•ÂèóËøô‰∫õÊú∫ÊûÑÊèê‰æõÁöÑËØÅ‰π¶„ÄÇ\n‰ªª‰Ωï‰∫∫ÈÉΩÂèØ‰ª•ÁîüÊàêËØÅ‰π¶Ôºå‰ΩÜÂ¶ÇÊûú‰∏çÊòØÁî±Â∑≤Áü•Êú∫ÊûÑÊèê‰æõÁöÑÔºåÊµèËßàÂô®‰ºöÊòæÁ§∫ÂÆâÂÖ®Ë≠¶Êä•„ÄÇ\n\nËØÅ‰π¶È¢ÅÂèëÊú∫ÊûÑÁ§∫‰æãÔºöDigiCert„ÄÅGeoTrust„ÄÅGlobalSign„ÄÅCFCA„ÄÅTrustAsia\n\n![ca](/images/https/ca2.png)\n\n# SSL Êè°Êâã\nSSL Êè°ÊâãÊòØ Web ÊúçÂä°Âô®ÂíåÊµèËßàÂô®ËÆ®ËÆ∫Âπ∂ÂïÜÂÆöË¶Å‰ΩøÁî®ÁöÑÂçèËÆÆÔºàÁâπÂÆöÁâàÊú¨‰∏≠ÁöÑ SSL Êàñ TLSÔºâ„ÄÅË¶Å‰ΩøÁî®ÁöÑÂØÜÁ†ÅÂ•ó‰ª∂‰ª•ÂèäÊúÄÂêéË¶Å‰ΩøÁî®ÁöÑ‰ºöËØùÂØÜÈí•ÁöÑËøáÁ®ã„ÄÇÊè°ÊâãÂÆåÊàêÂêéËøõË°åÈÄö‰ø°„ÄÇ\n\n![Êè°ÊâãËøáÁ®ã](/images/https/handshake.png)ÂõæÁâáÊù•Ê∫êÔºöhttps://code-maze.com/wp-content/uploads/2017/07/TLS-handshake.png\n\n‰∏çÊ∑±Á©∂ÁªÜËäÇÔºåÊè°Êâã‰ºöÁªèËøá‰ª•‰∏ãÊ≠•È™§Ôºö\n\n1. ÊµèËßàÂô®ÂíåÊúçÂä°Âô®Â∞±ÊâÄ‰ΩøÁî®ÁöÑÂçèËÆÆËææÊàê‰∏ÄËá¥ÔºàSSL X„ÄÅTLS XÔºâ\n2. ÊµèËßàÂô®È™åËØÅÊúçÂä°Âô®ÁöÑÁúüÂÆûÊÄßÔºàËØÅ‰π¶È¢ÅÂèëÊú∫ÊûÑÔºâ\n3. ÊµèËßàÂô®ÂàõÂª∫‰ºöËØùÂØÜÈí•Âπ∂‰ΩøÁî®ÊúçÂä°Âô®ÁöÑÂÖ¨Èí•ÂØπÂÖ∂ËøõË°åÂä†ÂØÜ\n4. ÊúçÂä°Âô®Áî®ÂÖ∂ÁßÅÈí•Ëß£ÂØÜÂÖàÂâçÁöÑÊ∂àÊÅØ\n5. ÊµèËßàÂô®ÂíåÊúçÂä°Âô®‰ΩøÁî®‰ªñ‰ª¨ÂàöÂàöÂïÜÂÆöÁöÑ‰ºöËØùÂØÜÈí•ËøõË°åÈÄö‰ø°„ÄÇÊè°ÊâãÂÆåÊØï„ÄÇ\n\n\n\n\nÊÑüÂÖ¥Ë∂£ÁöÑÂêåÂ≠¶‰πüÂèØ‰ª•ÊäìÂåÖÁúã‰∏Ä‰∏ãhttpsËÆøÈóÆÁöÑËØ¶ÁªÜËøáÁ®ãÔºå‰∏ãÈù¢ÊòØÁî®wiresharkÊäìÂåÖÁöÑÁªìÊûú\n![Êè°Êâã](/images/https/client-hello.png)\nÊè°ÊâãÂÆåÊàêÂêéÊï∞ÊçÆ‰º†ËæìÁöÑÈÉΩÊòØÂä†ÂØÜÁöÑÊï∞ÊçÆ\n![Êï∞ÊçÆÂä†ÂØÜ](/images/https/encrypted.png)\n\n\n\n\n# ÂØÜÁ†ÅÂ•ó‰ª∂\nHTTPS ÂÜÖÂ≠òÂú®‰∏çÂêåÁ∫ßÂà´ÁöÑÂä†ÂØÜ„ÄÇ\nÂ¶ÇÂâçÊâÄËø∞ÔºåHTTPS ÊòØÂ∞Ü HTTP Â∞ÅË£ÖÂà∞ÂÆâÂÖ®ÂçèËÆÆ SSL Êàñ TLS ‰∏≠„ÄÇ\nËøô‰∏§ÁßçÂÆâÂÖ®ÂçèËÆÆÂ≠òÂú®‰∏çÂêåÁöÑÁâàÊú¨ÔºåÂÖ∂‰∏≠‰∏Ä‰∫õË¢´ËÆ§‰∏∫ÊòØËæÉÂº±ÁöÑ„ÄÇËá™‚ÄúPOODLE‚ÄùÊºèÊ¥û‰ª•Êù•ÔºåSSL V2 Â∑≤ËøáÊó∂ÔºåSSL V3 ‰πüÂ∑≤ËøáÊó∂„ÄÇÔºàÊÑüÂÖ¥Ë∂£ÁöÑÂêåÂ≠¶ÂèØ‰ª•Ëá™Ë°åÁôæÂ∫¶Ôºâ\n‰ΩøÁî®ÔºöTLS v1.0„ÄÅv1.1„ÄÅv1.2\n\nÊ≠§Â§ñÔºåSSLÂíåTLS‰ΩøÁî®‰∏çÂêåÁöÑÂä†ÂØÜÁÆóÊ≥ï„ÄÇËøô‰∫õÁÆóÊ≥ïÂú®ÈÄö‰ø°ËøáÁ®ã‰∏≠‰ΩøÁî®Ôºå‰ΩøÁî®Âì™ÁßçÁÆóÊ≥ïÂèñÂÜ≥‰∫éÊúçÂä°Âô®ÂíåÊµèËßàÂô®Êé•ÂèóÁöÑÁÆóÊ≥ï„ÄÇ\nÈöèÁùÄÊó∂Èó¥ÁöÑÊé®ÁßªÔºåÂÖ∂‰∏≠‰∏Ä‰∫õÁÆóÊ≥ï‰ºöÂèòÂæóÂæàÂº±ÔºåÂøÖÈ°ªÂÅúÁî®Ôºö\n‰æãÂ¶ÇÔºåÊàë‰ª¨ÂèØ‰ª•ÊèêÂà∞ÂØÜÈí•Â§ßÂ∞è‰Ωé‰∫é 128 ‰ΩçÁöÑÊâÄÊúâÂØÜÁ†ÅÂíå RC4 ÁÆóÊ≥ï„ÄÇ\n\nÂõ†Ê≠§ÔºåÊúâÂøÖË¶Å‰ΩøÁ≥ªÁªü‰øùÊåÅÊúÄÊñ∞ÔºåÁâπÂà´ÊòØ Web ÊúçÂä°Âô®ÁöÑ HTTPS ÈÖçÁΩÆ„ÄÇ\n\n## client hello\n‰∏ãÈù¢ÊòØÊàë‰ª¨ÈÄöËøáwiresharÊäìÂåÖÊü•ÁúãÂÆ¢Êà∑Á´ØÊîØÊåÅÁöÑÂØÜÁ†ÅÂ•ó‰ª∂\n![ÂÆ¢Êà∑Á´ØÊîØÊåÅÁöÑÂØÜÁ†ÅÂ•ó‰ª∂](/images/https/cipher-suites.png)\n\n## server hello\nÂÆ¢Êà∑Á´Ø‰∏éÊúçÂä°Á´ØÂçèÂïÜÂØÜÁ†ÅÂ•ó‰ª∂, ‰∏ªË¶ÅÊòØ‰ªéÂÆ¢Êà∑Á´ØÊîØÊåÅÁöÑÂä†ÂØÜÊñπÂºè‰∏≠ÈÄâÊã©‰∏Ä‰∏™ÂêàÈÄÇÁöÑÂëäËØâÂÆ¢Êà∑Á´Ø„ÄÇ\n![ÂçèÂïÜÂØÜÁ†ÅÂ•ó‰ª∂](/images/https/negotiated-cipher-suite.png)\n\n## ËØ•ÂØÜÁ†Å‰∏≤ÁöÑÂê´‰πâ\nECDHEÔºöÂØÜÈí•‰∫§Êç¢ÁÆóÊ≥ï\nECDSAÔºöË∫´‰ªΩÈ™åËØÅ\nAES_128_CBCÔºöÁî®‰∫éÊ∂àÊÅØÂä†ÂØÜÁöÑÊâπÈáèÂØÜÁ†Å\nSHAÔºöMAC ÁÆóÊ≥ï\n\n\n# Âú® Web ÊúçÂä°Âô®‰∏äÂÆâË£Ö HTTPS\nÂØπ‰∫é‰∏çÂêåÁ±ªÂûãÁöÑÊúçÂä°Âô®ÔºåÂú® Web ÊúçÂä°Âô®‰∏äÈÖçÁΩÆ HTTPS Áõ∏ÂØπÁÆÄÂçïÔºåÂπ∂‰∏îÊúâËØ¶ÁªÜÁöÑÊñáÊ°£ËÆ∞ÂΩï„ÄÇ\n\nËÆæÁΩÆÁöÑ‰∏ªË¶ÅÊ≠•È™§ÊòØÔºö\n\n+ ÂêëËØÅ‰π¶È¢ÅÂèëÊú∫ÊûÑËÆ¢Ë¥≠ SSL ËØÅ‰π¶\n+ Âú® Web ÊúçÂä°Âô®‰∏≠ÂÆâË£ÖËØÅ‰π¶ÔºàË¶ÅÂ§çÂà∂Âà∞ÊúçÂä°Âô®ÁöÑÊñá‰ª∂Ôºâ\n+ ÈÖçÁΩÆÁΩëÁªúÊúçÂä°Âô®\n\nÊúçÂä°Âô®ÁöÑÈÖçÁΩÆÂèØËÉΩÂåÖÊã¨Ôºö\n\n+ ËØÅ‰π¶ÁªëÂÆöÁöÑIPÂú∞ÂùÄ-Á´ØÂè£/ÂüüÂêç\n+ ÊøÄÊ¥ªÂçèËÆÆÁöÑÈÖçÁΩÆÔºàTLS/SSLÔºâ\n+ ÁÆóÊ≥ïÂíåÂØÜÁ†ÅÂØÜÈí•Â§ßÂ∞èÁöÑÈÖçÁΩÆÔºàÂØÜÁ†ÅÂ•ó‰ª∂Ôºâ\n\n```nginx\nserver {\n    listen 443 ssl;\n    server_name xxx;\n\n    ssl_certificate /cert/xxx.crt;\n    ssl_certificate_key /cert/xxx.key;\n\n    location / {\n        proxy_pass http://localhost:4000;\n        proxy_set_header Host $host;\n        proxy_set_header X-Real-IP $remote_addr;\n        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n        proxy_set_header X-Forwarded-Proto $scheme;\n    }\n}\n```\n\nÂèØ‰ª•Âú®‰∏ãÈù¢ÊâæÂà∞ËØ¶ÁªÜËØ¥ÊòéÂ¶Ç‰ΩïÂú®‰∏â‰∏™‰∏ªË¶Å Web ÊúçÂä°Âô®‰∏äÂÆâË£Ö SSL ÁöÑÊñáÊ°£ÈìæÊé•Ôºö\nApacheÔºö  https://wiki.apache.org/httpd/SSL\nIISÔºö http://www.iis.net/learn/manage/configuring-security/how-to-set-up-ssl-on-iis\nNginxÔºö http://nginx.org/en/docs/http/configuring_https_servers.html\n\nMozilla ÂèëÂ∏É‰∫Ü‰∏Ä‰∏™Á´ôÁÇπÔºå‰Ω†ÂèØ‰ª•Âú®ÂÖ∂‰∏≠ÁîüÊàêÂÆâÂÖ®ÁöÑ HTTPS ÈÖçÁΩÆÔºö\n\n[Mozilla SSL ÈÖçÁΩÆÁîüÊàêÂô®](https://mozilla.github.io/server-side-tls/ssl-config-generator/)\n\n\n# ‰øùÊåÅ HTTPS Êõ¥Êñ∞‰∏∫ÊúÄÊñ∞\nHTTPS ÈÖçÁΩÆ‰∏çÊòØ‰∏ÄÊ¨°ÊÄß‰∫ã‰ª∂„ÄÇÂÆâË£ÖÂêéÔºåÂøÖÈ°ª‰øùÊåÅÂÖ∂ÈÖçÁΩÆÊúÄÊñ∞„ÄÇ\nÂæàÂ§öbugÈÉΩ‰ºöÂΩ±Âìç‰∏Ä‰∫õËæÉ‰ΩéÁâàÊú¨ÁöÑopenSSLÂ∫ì(‰æãÂ¶Ç[Heartbleed](https://baike.baidu.com/item/Heartbleed/13580882)), Á≥ªÁªüÊõ¥Êñ∞ÂèØ‰ª•Â∏ÆÂä©ÈÅøÂÖç‰∏Ä‰∫õ‰∏é HTTPS ‰ΩøÁî®Áõ¥Êé•Áõ∏ÂÖ≥ÁöÑÊºèÊ¥û„ÄÇ\n\nÊ≠§Â§ñÔºåÊúâÂøÖË¶ÅÈöèÊó∂‰∫ÜËß£‰∏çÂêåÂçèËÆÆÂíåÂØÜÁ†ÅÂ•ó‰ª∂ÁöÑÂÆâÂÖ®ÊÄß„ÄÇËøôÈáåÁöÑÁõÆÊ†áÊòØÂú®Êüê‰∫õÊó∂ÂÄôË¢´ËÆ§‰∏∫ËæÉÂº±ÁöÑÊÉÖÂÜµ‰∏ãÂÅúÁî®ÂÖ∂‰∏≠‰∏Ä‰∫õ„ÄÇ\n\nÊúÄÂêé‰∏ÄÁÇπ‰πüÊòØÂæàÈáçË¶ÅÁöÑÔºå‰πüÊòØÂæàÊòéÊòæ‰ΩÜÁªèÂ∏∏Ë¢´ÈÅóÂøòÁöÑÔºöËØÅ‰π¶ËøáÊúü„ÄÇ‰∏ÄÊó¶ËØÅ‰π¶ËøáÊúüÔºåÁΩëÁªúÊµèËßàÂô®Â∞ÜÊòæÁ§∫ÈùûÂ∏∏ÂÖ∑ÊúâÂäùÈòªÊÄßÁöÑÂÆâÂÖ®Ë≠¶Êä•ÔºåÈºìÂä±Áî®Êà∑Á¶ªÂºÄÁΩëÁ´ô„ÄÇ\n\nÁõ∏‰ø°Â§ßÂÆ∂Âú®ÊµèËßàÁΩëÁ´ôÁöÑÊó∂ÂÄôÈÅáÂà∞ËøáËøôÊ†∑ÁöÑÊÉÖÂÜµ\n![ËøáÊúü](/images/https/expire.png)\n\n\n# HTTPS ‰∏çÂÅö‰ªÄ‰πà\n‰∫∫‰ª¨ÂæàÂÆπÊòìËÆ§‰∏∫ HTTPS ÊòØ‰∏Ä‰∏™Á•ûÂ•áÁöÑ‰∫íËÅîÁΩëÂÆâÂÖ®Ëß£ÂÜ≥ÊñπÊ°àÔºå‰ΩÜÂÆÉËøòÊúâÂæàÂ§ö‰∏çËÉΩÂÅöÁöÑ‰∫ãÊÉÖ„ÄÇ\n\n## HTTPS ‰∏ç‰ºöÔºö\n1. ÈöêËóè‰Ω†Ê≠£Âú®ËÆøÈóÆÁöÑÁΩëÁ´ôÁöÑÂêçÁß∞\n\nËøôÊòØÂõ†‰∏∫ÁΩëÁ´ôÁöÑÂêçÁß∞ÔºàÂèàÂêç‚ÄúÂüü‚ÄùÔºâÊòØ‰ΩøÁî® DNSÔºàÂüüÂêçÊúçÂä°ÔºâÂèëÈÄÅÁöÑÔºåËÄå DNS ‰∏çÂú® HTTPS ÈößÈÅìÂÜÖ„ÄÇÂÆÉÂú®Âª∫Á´ãÂÆâÂÖ®ËøûÊé•‰πãÂâçÂèëÈÄÅ„ÄÇ‰∏≠Èó¥ÁöÑÁ™ÉÂê¨ËÄÖÂèØ‰ª•ÁúãÂà∞‰Ω†Ë¶ÅËÆøÈóÆÁöÑÁΩëÁ´ôÁöÑÂêçÁß∞Ôºà‰æãÂ¶Ç TipTopSecurity.comÔºâÔºå‰ªñ‰ª¨Âè™ÊòØÊó†Ê≥ïËØªÂèñÊù•Âõû‰º†ËæìÁöÑ‰ªª‰ΩïÂÆûÈôÖÂÜÖÂÆπ„ÄÇÁõ¥Âà∞DNSSECÂÆåÂÖ®ÂÆûÊñΩÂêéÔºåËøôÁßçÊÉÖÂÜµÊâç‰ºöÊîπÂèò„ÄÇ\n\n2. ‰øùÊä§‰Ω†ÂÖçÂèóËÆøÈóÆÈÇ™ÊÅ∂ÁΩëÁ´ôÁöÑ‰æµÂÆ≥\n\nHTTPS ‰∏çËÉΩÁ°Æ‰øùÁΩëÁ´ôÊú¨Ë∫´ÁöÑÂÆâÂÖ®„ÄÇ‰ªÖ‰ªÖÂõ†‰∏∫‰Ω†ÂÆâÂÖ®ËøûÊé•Âπ∂‰∏çÊÑèÂë≥ÁùÄ‰Ω†Ê≤°ÊúâËøûÊé•Âà∞Áî±Âùè‰∫∫ËøêË°åÁöÑÁΩëÁ´ô„ÄÇÊàë‰ª¨Â∞ùËØïÈÄöËøáÂèó‰ø°‰ªªÁöÑËØÅ‰π¶È¢ÅÂèëÊú∫ÊûÑÊù•Ëß£ÂÜ≥Ê≠§ÈóÆÈ¢òÔºå‰ΩÜËØ•Á≥ªÁªüÂπ∂‰∏çÂÆåÁæéÔºàËØ∑ÁªßÁª≠ÂÖ≥Ê≥®ÊúâÂÖ≥Ê≠§ÊñπÈù¢ÁöÑÊõ¥Â§ö‰ø°ÊÅØÔºâ„ÄÇ\n\n3. Êèê‰æõÂåøÂêç\n\nHTTPS ‰∏ç‰ºöÈöêËóè‰Ω†ÁöÑÁâ©ÁêÜ‰ΩçÁΩÆÊàñ‰∏™‰∫∫Ë∫´‰ªΩ„ÄÇ‰Ω†ÁöÑ‰∏™‰∫∫ IP Âú∞ÂùÄÔºà‰Ω†Âú®‰∫íËÅîÁΩë‰∏äÁöÑÂú∞ÂùÄÔºâÂøÖÈ°ªÈôÑÂä†Âà∞Âä†ÂØÜÊï∞ÊçÆÁöÑÂ§ñÈÉ®ÔºåÂõ†‰∏∫Â¶ÇÊûú‰Ω†ÁöÑ IP Âú∞ÂùÄ‰πüË¢´Âä†ÂØÜÔºå‰∫íËÅîÁΩëÂ∞Ü‰∏çÁü•ÈÅìÂ∞ÜÂÖ∂ÂèëÈÄÅÂà∞Âì™Èáå„ÄÇËÄå‰∏îÂÆÉ‰πü‰∏ç‰ºöÂú®‰Ω†Ê≠£Âú®ËÆøÈóÆÁöÑÁΩëÁ´ô‰∏äÈöêËóè‰Ω†ÁöÑË∫´‰ªΩ„ÄÇ‰Ω†ËÆøÈóÆÁöÑÁΩëÁ´ô‰ªçÁÑ∂‰∫ÜËß£‰Ω†ÁöÑ‰∏ÄÂàáÔºåÂ∞±ÂÉèÂú®ÈùûÂÆâÂÖ®ËøûÊé•‰∏ä‰∏ÄÊ†∑„ÄÇ\n\n4. Èò≤Ê≠¢‰Ω†ÊÑüÊüìÁóÖÊØí\n\nHTTPS ‰∏çÊòØËøáÊª§Âô®„ÄÇÊúâÂèØËÉΩÈÄöËøá HTTPS ËøûÊé•Êé•Êî∂ÁóÖÊØíÂíåÂÖ∂‰ªñÊÅ∂ÊÑèËΩØ‰ª∂„ÄÇÂ¶ÇÊûú Web ÊúçÂä°Âô®Ë¢´ÊÑüÊüìÊàñËÄÖ‰Ω†ÊâÄÂú®ÁöÑÊÅ∂ÊÑèÁΩëÁ´ôÊ≠£Âú®ÂàÜÂèëÊÅ∂ÊÑèËΩØ‰ª∂ÔºåÂàôËØ•ÊÅ∂ÊÑèËΩØ‰ª∂Â∞ÜÂÉèÂÖ∂‰ªñÊâÄÊúâÂÜÖÂÆπ‰∏ÄÊ†∑Âú® HTTPS ÊµÅ‰∏≠ÂèëÈÄÅ„ÄÇÁÑ∂ËÄåÔºå HTTPSÁ°ÆÂÆûÂèØ‰ª•Èò≤Ê≠¢‰∏≠Èó¥ÁöÑ‰ªª‰Ωï‰∫∫Â∞ÜÊÅ∂ÊÑèËΩØ‰ª∂Ê≥®ÂÖ•Âà∞‰Ω†ÁöÑÁßªÂä®ÊµÅÈáè‰∏≠„ÄÇ\n\n5. ‰øùÊä§‰Ω†ÁöÑËÆ°ÁÆóÊú∫ÂÖçÈÅ≠ÈªëÂÆ¢ÊîªÂáª\n\nHTTPS ‰ªÖ‰øùÊä§Âú®‰Ω†ÁöÑËÆ°ÁÆóÊú∫Âíå Web ÊúçÂä°Âô®‰πãÈó¥ÁßªÂä®ÁöÑÊï∞ÊçÆ„ÄÇÂÆÉ‰∏ç‰ºö‰∏∫‰Ω†ÁöÑÂÆûÈôÖËÆ°ÁÆóÊú∫ÊàñÊúçÂä°Âô®Êú¨Ë∫´Êèê‰æõ‰ªª‰Ωï‰øùÊä§„ÄÇËøô‰πüÊÑèÂë≥ÁùÄÔºåÂ¶ÇÊûúÊúâÊÅ∂ÊÑèËΩØ‰ª∂Ê≠£Âú®ÁõëËßÜËøûÊé•‰∏ÄÁ´ØÁöÑÊµÅÈáèÔºåÂÆÉÂ∞±ÂèØ‰ª•ËØªÂèñ HTTPS ÊµÅ‰∏≠Âä†ÂØÜ‰πãÂâçÂíå‰πãÂêéÁöÑÊµÅÈáè„ÄÇ\n\n\nÊõ¥Â§ö‰∏ÄÊâãËÆØÊÅØÔºåÂèØÂÖ≥Ê≥®ÂÖ¨‰ºóÂè∑Ôºö[ITProHub](https://myom-dev.oss-cn-hangzhou.aliyuncs.com/WechatPublicPlatformQrCode.jpg)\n\n![ITProHub](https://myom-dev.oss-cn-hangzhou.aliyuncs.com/WechatPublicPlatformQrCode.jpg)","source":"_posts/https.md","raw":"---\ntitle: HTTPSÁöÑÂ∑•‰ΩúÂéüÁêÜ‰ª•ÂèäÂÆâË£Ö\ndate: 2024-04-11 15:36:46\ntags: https http ssl tls\n---\n\n# ‰ªÄ‰πàÊòØ HTTPSÔºü\nHTTP ÊòØ‰∏ÄÁßçÁî®‰∫éÂú®ÊúçÂä°Âô®ÂíåÂÆ¢Êà∑Á´ØÔºàWeb ÊµèËßàÂô®Ôºâ‰πãÈó¥‰∫§Êç¢Êï∞ÊçÆÁöÑ‰∫íËÅîÁΩëÂçèËÆÆ„ÄÇ HTTPS Âè™‰∏çËøáÊòØÂú®HTTPÁöÑÂü∫Á°Ä‰∏äÊ∑ªÂä†‰∫ÜÂÆâÂÖ®Â±Ç„ÄÇ\nHTTP ‰∏çÊòØ‰∏Ä‰∏™ÂÆâÂÖ®ÂçèËÆÆÔºöÂÆÉÊòØ‰∏∫‰∫ÜÁ∫ØÁ≤πÁöÑÂäüËÉΩÁõÆÊ†áËÄåËÆæËÆ°ÁöÑÔºåÊ≤°ÊúâËÄÉËôë‰ªª‰ΩïÂÆâÂÖ®Á∫¶Êùü„ÄÇ\n\nÊâÄ‰ª•Êàë‰ª¨ÁªôHTTPÊ∑ªÂä†‰∫Ü‰∏Ä‰∏™ÂÆâÂÖ®Â±Ç„ÄÇÊõ¥ÂáÜÁ°ÆÂú∞ËØ¥ÔºåÂ∞Ü HTTP Â∞ÅË£ÖÂà∞ÂÆâÂÖ®ËøûÊé•‰∏≠„ÄÇ\n\n![ÂÆâÂÖ®ËøûÊé•](/images/https/security.png)\n\nHTTPS ‰ΩøÊàë‰ª¨ËÉΩÂ§üÂÆûÁé∞‰∏â‰∏™ÁõÆÊ†áÔºö\n\n+ Ë∫´‰ªΩÈ™åËØÅÔºöHTTPS ‰ΩøÁî®Êï∞Â≠óËØÅ‰π¶Êù•È™åËØÅÊúçÂä°Âô®ÂíåÂÆ¢Êà∑Á´ØÁöÑË∫´‰ªΩÔºåÈò≤Ê≠¢‰∏≠Èó¥‰∫∫ÊîªÂáª„ÄÇÊúçÂä°Âô®ÈúÄË¶ÅÊèê‰æõÊúâÊïàÁöÑÊï∞Â≠óËØÅ‰π¶ÔºåËÄåÂÆ¢Êà∑Á´ØÂèØ‰ª•È™åËØÅËØÅ‰π¶ÁöÑÊúâÊïàÊÄßÔºåÁ°Æ‰øù‰∏éÊ≠£Á°ÆÁöÑÊúçÂä°Âô®Âª∫Á´ãËøûÊé•„ÄÇ\n+ ÈöêÁßÅÔºöÁΩëÁªú‰∏äÁöÑ‰ªª‰Ωï‰∫∫ÈÉΩÊó†Ê≥ïËØªÂèñÊï∞ÊçÆÔºåÂõ†‰∏∫ÂÆÉÊòØÂä†ÂØÜÁöÑ\n+ ÂÆåÊï¥ÊÄßÔºöHTTPS ‰ΩøÁî®Ê∂àÊÅØÊëòË¶ÅÁÆóÊ≥ïÔºàÂ¶Ç SHA-256ÔºâÊù•ËÆ°ÁÆóÊï∞ÊçÆÁöÑÊëòË¶ÅÔºåÂπ∂Â∞ÜÊëòË¶Å‰∏éÊï∞ÊçÆ‰∏ÄËµ∑‰º†Ëæì„ÄÇÊé•Êî∂ÊñπÂèØ‰ª•È™åËØÅÊï∞ÊçÆÁöÑÂÆåÊï¥ÊÄßÔºåÁ°Æ‰øùÊï∞ÊçÆÂú®‰º†ËæìËøáÁ®ã‰∏≠Êú™Ë¢´ÁØ°Êîπ„ÄÇ\n\n\n# ËØÅ‰π¶È¢ÅÂèëÊú∫ÊûÑ\nËØÅ‰π¶È¢ÅÂèëÊú∫ÊûÑÊòØÊèê‰æõ SSL ËØÅ‰π¶ÁöÑÂÖ¨Âè∏„ÄÇËøô‰∫õÁªÑÁªá‰∏∫ÁΩëÁªúÊµèËßàÂô®ÊâÄÁÜüÁü•ÔºåÂπ∂Êé•ÂèóËøô‰∫õÊú∫ÊûÑÊèê‰æõÁöÑËØÅ‰π¶„ÄÇ\n‰ªª‰Ωï‰∫∫ÈÉΩÂèØ‰ª•ÁîüÊàêËØÅ‰π¶Ôºå‰ΩÜÂ¶ÇÊûú‰∏çÊòØÁî±Â∑≤Áü•Êú∫ÊûÑÊèê‰æõÁöÑÔºåÊµèËßàÂô®‰ºöÊòæÁ§∫ÂÆâÂÖ®Ë≠¶Êä•„ÄÇ\n\nËØÅ‰π¶È¢ÅÂèëÊú∫ÊûÑÁ§∫‰æãÔºöDigiCert„ÄÅGeoTrust„ÄÅGlobalSign„ÄÅCFCA„ÄÅTrustAsia\n\n![ca](/images/https/ca2.png)\n\n# SSL Êè°Êâã\nSSL Êè°ÊâãÊòØ Web ÊúçÂä°Âô®ÂíåÊµèËßàÂô®ËÆ®ËÆ∫Âπ∂ÂïÜÂÆöË¶Å‰ΩøÁî®ÁöÑÂçèËÆÆÔºàÁâπÂÆöÁâàÊú¨‰∏≠ÁöÑ SSL Êàñ TLSÔºâ„ÄÅË¶Å‰ΩøÁî®ÁöÑÂØÜÁ†ÅÂ•ó‰ª∂‰ª•ÂèäÊúÄÂêéË¶Å‰ΩøÁî®ÁöÑ‰ºöËØùÂØÜÈí•ÁöÑËøáÁ®ã„ÄÇÊè°ÊâãÂÆåÊàêÂêéËøõË°åÈÄö‰ø°„ÄÇ\n\n![Êè°ÊâãËøáÁ®ã](/images/https/handshake.png)ÂõæÁâáÊù•Ê∫êÔºöhttps://code-maze.com/wp-content/uploads/2017/07/TLS-handshake.png\n\n‰∏çÊ∑±Á©∂ÁªÜËäÇÔºåÊè°Êâã‰ºöÁªèËøá‰ª•‰∏ãÊ≠•È™§Ôºö\n\n1. ÊµèËßàÂô®ÂíåÊúçÂä°Âô®Â∞±ÊâÄ‰ΩøÁî®ÁöÑÂçèËÆÆËææÊàê‰∏ÄËá¥ÔºàSSL X„ÄÅTLS XÔºâ\n2. ÊµèËßàÂô®È™åËØÅÊúçÂä°Âô®ÁöÑÁúüÂÆûÊÄßÔºàËØÅ‰π¶È¢ÅÂèëÊú∫ÊûÑÔºâ\n3. ÊµèËßàÂô®ÂàõÂª∫‰ºöËØùÂØÜÈí•Âπ∂‰ΩøÁî®ÊúçÂä°Âô®ÁöÑÂÖ¨Èí•ÂØπÂÖ∂ËøõË°åÂä†ÂØÜ\n4. ÊúçÂä°Âô®Áî®ÂÖ∂ÁßÅÈí•Ëß£ÂØÜÂÖàÂâçÁöÑÊ∂àÊÅØ\n5. ÊµèËßàÂô®ÂíåÊúçÂä°Âô®‰ΩøÁî®‰ªñ‰ª¨ÂàöÂàöÂïÜÂÆöÁöÑ‰ºöËØùÂØÜÈí•ËøõË°åÈÄö‰ø°„ÄÇÊè°ÊâãÂÆåÊØï„ÄÇ\n\n\n\n\nÊÑüÂÖ¥Ë∂£ÁöÑÂêåÂ≠¶‰πüÂèØ‰ª•ÊäìÂåÖÁúã‰∏Ä‰∏ãhttpsËÆøÈóÆÁöÑËØ¶ÁªÜËøáÁ®ãÔºå‰∏ãÈù¢ÊòØÁî®wiresharkÊäìÂåÖÁöÑÁªìÊûú\n![Êè°Êâã](/images/https/client-hello.png)\nÊè°ÊâãÂÆåÊàêÂêéÊï∞ÊçÆ‰º†ËæìÁöÑÈÉΩÊòØÂä†ÂØÜÁöÑÊï∞ÊçÆ\n![Êï∞ÊçÆÂä†ÂØÜ](/images/https/encrypted.png)\n\n\n\n\n# ÂØÜÁ†ÅÂ•ó‰ª∂\nHTTPS ÂÜÖÂ≠òÂú®‰∏çÂêåÁ∫ßÂà´ÁöÑÂä†ÂØÜ„ÄÇ\nÂ¶ÇÂâçÊâÄËø∞ÔºåHTTPS ÊòØÂ∞Ü HTTP Â∞ÅË£ÖÂà∞ÂÆâÂÖ®ÂçèËÆÆ SSL Êàñ TLS ‰∏≠„ÄÇ\nËøô‰∏§ÁßçÂÆâÂÖ®ÂçèËÆÆÂ≠òÂú®‰∏çÂêåÁöÑÁâàÊú¨ÔºåÂÖ∂‰∏≠‰∏Ä‰∫õË¢´ËÆ§‰∏∫ÊòØËæÉÂº±ÁöÑ„ÄÇËá™‚ÄúPOODLE‚ÄùÊºèÊ¥û‰ª•Êù•ÔºåSSL V2 Â∑≤ËøáÊó∂ÔºåSSL V3 ‰πüÂ∑≤ËøáÊó∂„ÄÇÔºàÊÑüÂÖ¥Ë∂£ÁöÑÂêåÂ≠¶ÂèØ‰ª•Ëá™Ë°åÁôæÂ∫¶Ôºâ\n‰ΩøÁî®ÔºöTLS v1.0„ÄÅv1.1„ÄÅv1.2\n\nÊ≠§Â§ñÔºåSSLÂíåTLS‰ΩøÁî®‰∏çÂêåÁöÑÂä†ÂØÜÁÆóÊ≥ï„ÄÇËøô‰∫õÁÆóÊ≥ïÂú®ÈÄö‰ø°ËøáÁ®ã‰∏≠‰ΩøÁî®Ôºå‰ΩøÁî®Âì™ÁßçÁÆóÊ≥ïÂèñÂÜ≥‰∫éÊúçÂä°Âô®ÂíåÊµèËßàÂô®Êé•ÂèóÁöÑÁÆóÊ≥ï„ÄÇ\nÈöèÁùÄÊó∂Èó¥ÁöÑÊé®ÁßªÔºåÂÖ∂‰∏≠‰∏Ä‰∫õÁÆóÊ≥ï‰ºöÂèòÂæóÂæàÂº±ÔºåÂøÖÈ°ªÂÅúÁî®Ôºö\n‰æãÂ¶ÇÔºåÊàë‰ª¨ÂèØ‰ª•ÊèêÂà∞ÂØÜÈí•Â§ßÂ∞è‰Ωé‰∫é 128 ‰ΩçÁöÑÊâÄÊúâÂØÜÁ†ÅÂíå RC4 ÁÆóÊ≥ï„ÄÇ\n\nÂõ†Ê≠§ÔºåÊúâÂøÖË¶Å‰ΩøÁ≥ªÁªü‰øùÊåÅÊúÄÊñ∞ÔºåÁâπÂà´ÊòØ Web ÊúçÂä°Âô®ÁöÑ HTTPS ÈÖçÁΩÆ„ÄÇ\n\n## client hello\n‰∏ãÈù¢ÊòØÊàë‰ª¨ÈÄöËøáwiresharÊäìÂåÖÊü•ÁúãÂÆ¢Êà∑Á´ØÊîØÊåÅÁöÑÂØÜÁ†ÅÂ•ó‰ª∂\n![ÂÆ¢Êà∑Á´ØÊîØÊåÅÁöÑÂØÜÁ†ÅÂ•ó‰ª∂](/images/https/cipher-suites.png)\n\n## server hello\nÂÆ¢Êà∑Á´Ø‰∏éÊúçÂä°Á´ØÂçèÂïÜÂØÜÁ†ÅÂ•ó‰ª∂, ‰∏ªË¶ÅÊòØ‰ªéÂÆ¢Êà∑Á´ØÊîØÊåÅÁöÑÂä†ÂØÜÊñπÂºè‰∏≠ÈÄâÊã©‰∏Ä‰∏™ÂêàÈÄÇÁöÑÂëäËØâÂÆ¢Êà∑Á´Ø„ÄÇ\n![ÂçèÂïÜÂØÜÁ†ÅÂ•ó‰ª∂](/images/https/negotiated-cipher-suite.png)\n\n## ËØ•ÂØÜÁ†Å‰∏≤ÁöÑÂê´‰πâ\nECDHEÔºöÂØÜÈí•‰∫§Êç¢ÁÆóÊ≥ï\nECDSAÔºöË∫´‰ªΩÈ™åËØÅ\nAES_128_CBCÔºöÁî®‰∫éÊ∂àÊÅØÂä†ÂØÜÁöÑÊâπÈáèÂØÜÁ†Å\nSHAÔºöMAC ÁÆóÊ≥ï\n\n\n# Âú® Web ÊúçÂä°Âô®‰∏äÂÆâË£Ö HTTPS\nÂØπ‰∫é‰∏çÂêåÁ±ªÂûãÁöÑÊúçÂä°Âô®ÔºåÂú® Web ÊúçÂä°Âô®‰∏äÈÖçÁΩÆ HTTPS Áõ∏ÂØπÁÆÄÂçïÔºåÂπ∂‰∏îÊúâËØ¶ÁªÜÁöÑÊñáÊ°£ËÆ∞ÂΩï„ÄÇ\n\nËÆæÁΩÆÁöÑ‰∏ªË¶ÅÊ≠•È™§ÊòØÔºö\n\n+ ÂêëËØÅ‰π¶È¢ÅÂèëÊú∫ÊûÑËÆ¢Ë¥≠ SSL ËØÅ‰π¶\n+ Âú® Web ÊúçÂä°Âô®‰∏≠ÂÆâË£ÖËØÅ‰π¶ÔºàË¶ÅÂ§çÂà∂Âà∞ÊúçÂä°Âô®ÁöÑÊñá‰ª∂Ôºâ\n+ ÈÖçÁΩÆÁΩëÁªúÊúçÂä°Âô®\n\nÊúçÂä°Âô®ÁöÑÈÖçÁΩÆÂèØËÉΩÂåÖÊã¨Ôºö\n\n+ ËØÅ‰π¶ÁªëÂÆöÁöÑIPÂú∞ÂùÄ-Á´ØÂè£/ÂüüÂêç\n+ ÊøÄÊ¥ªÂçèËÆÆÁöÑÈÖçÁΩÆÔºàTLS/SSLÔºâ\n+ ÁÆóÊ≥ïÂíåÂØÜÁ†ÅÂØÜÈí•Â§ßÂ∞èÁöÑÈÖçÁΩÆÔºàÂØÜÁ†ÅÂ•ó‰ª∂Ôºâ\n\n```nginx\nserver {\n    listen 443 ssl;\n    server_name xxx;\n\n    ssl_certificate /cert/xxx.crt;\n    ssl_certificate_key /cert/xxx.key;\n\n    location / {\n        proxy_pass http://localhost:4000;\n        proxy_set_header Host $host;\n        proxy_set_header X-Real-IP $remote_addr;\n        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n        proxy_set_header X-Forwarded-Proto $scheme;\n    }\n}\n```\n\nÂèØ‰ª•Âú®‰∏ãÈù¢ÊâæÂà∞ËØ¶ÁªÜËØ¥ÊòéÂ¶Ç‰ΩïÂú®‰∏â‰∏™‰∏ªË¶Å Web ÊúçÂä°Âô®‰∏äÂÆâË£Ö SSL ÁöÑÊñáÊ°£ÈìæÊé•Ôºö\nApacheÔºö  https://wiki.apache.org/httpd/SSL\nIISÔºö http://www.iis.net/learn/manage/configuring-security/how-to-set-up-ssl-on-iis\nNginxÔºö http://nginx.org/en/docs/http/configuring_https_servers.html\n\nMozilla ÂèëÂ∏É‰∫Ü‰∏Ä‰∏™Á´ôÁÇπÔºå‰Ω†ÂèØ‰ª•Âú®ÂÖ∂‰∏≠ÁîüÊàêÂÆâÂÖ®ÁöÑ HTTPS ÈÖçÁΩÆÔºö\n\n[Mozilla SSL ÈÖçÁΩÆÁîüÊàêÂô®](https://mozilla.github.io/server-side-tls/ssl-config-generator/)\n\n\n# ‰øùÊåÅ HTTPS Êõ¥Êñ∞‰∏∫ÊúÄÊñ∞\nHTTPS ÈÖçÁΩÆ‰∏çÊòØ‰∏ÄÊ¨°ÊÄß‰∫ã‰ª∂„ÄÇÂÆâË£ÖÂêéÔºåÂøÖÈ°ª‰øùÊåÅÂÖ∂ÈÖçÁΩÆÊúÄÊñ∞„ÄÇ\nÂæàÂ§öbugÈÉΩ‰ºöÂΩ±Âìç‰∏Ä‰∫õËæÉ‰ΩéÁâàÊú¨ÁöÑopenSSLÂ∫ì(‰æãÂ¶Ç[Heartbleed](https://baike.baidu.com/item/Heartbleed/13580882)), Á≥ªÁªüÊõ¥Êñ∞ÂèØ‰ª•Â∏ÆÂä©ÈÅøÂÖç‰∏Ä‰∫õ‰∏é HTTPS ‰ΩøÁî®Áõ¥Êé•Áõ∏ÂÖ≥ÁöÑÊºèÊ¥û„ÄÇ\n\nÊ≠§Â§ñÔºåÊúâÂøÖË¶ÅÈöèÊó∂‰∫ÜËß£‰∏çÂêåÂçèËÆÆÂíåÂØÜÁ†ÅÂ•ó‰ª∂ÁöÑÂÆâÂÖ®ÊÄß„ÄÇËøôÈáåÁöÑÁõÆÊ†áÊòØÂú®Êüê‰∫õÊó∂ÂÄôË¢´ËÆ§‰∏∫ËæÉÂº±ÁöÑÊÉÖÂÜµ‰∏ãÂÅúÁî®ÂÖ∂‰∏≠‰∏Ä‰∫õ„ÄÇ\n\nÊúÄÂêé‰∏ÄÁÇπ‰πüÊòØÂæàÈáçË¶ÅÁöÑÔºå‰πüÊòØÂæàÊòéÊòæ‰ΩÜÁªèÂ∏∏Ë¢´ÈÅóÂøòÁöÑÔºöËØÅ‰π¶ËøáÊúü„ÄÇ‰∏ÄÊó¶ËØÅ‰π¶ËøáÊúüÔºåÁΩëÁªúÊµèËßàÂô®Â∞ÜÊòæÁ§∫ÈùûÂ∏∏ÂÖ∑ÊúâÂäùÈòªÊÄßÁöÑÂÆâÂÖ®Ë≠¶Êä•ÔºåÈºìÂä±Áî®Êà∑Á¶ªÂºÄÁΩëÁ´ô„ÄÇ\n\nÁõ∏‰ø°Â§ßÂÆ∂Âú®ÊµèËßàÁΩëÁ´ôÁöÑÊó∂ÂÄôÈÅáÂà∞ËøáËøôÊ†∑ÁöÑÊÉÖÂÜµ\n![ËøáÊúü](/images/https/expire.png)\n\n\n# HTTPS ‰∏çÂÅö‰ªÄ‰πà\n‰∫∫‰ª¨ÂæàÂÆπÊòìËÆ§‰∏∫ HTTPS ÊòØ‰∏Ä‰∏™Á•ûÂ•áÁöÑ‰∫íËÅîÁΩëÂÆâÂÖ®Ëß£ÂÜ≥ÊñπÊ°àÔºå‰ΩÜÂÆÉËøòÊúâÂæàÂ§ö‰∏çËÉΩÂÅöÁöÑ‰∫ãÊÉÖ„ÄÇ\n\n## HTTPS ‰∏ç‰ºöÔºö\n1. ÈöêËóè‰Ω†Ê≠£Âú®ËÆøÈóÆÁöÑÁΩëÁ´ôÁöÑÂêçÁß∞\n\nËøôÊòØÂõ†‰∏∫ÁΩëÁ´ôÁöÑÂêçÁß∞ÔºàÂèàÂêç‚ÄúÂüü‚ÄùÔºâÊòØ‰ΩøÁî® DNSÔºàÂüüÂêçÊúçÂä°ÔºâÂèëÈÄÅÁöÑÔºåËÄå DNS ‰∏çÂú® HTTPS ÈößÈÅìÂÜÖ„ÄÇÂÆÉÂú®Âª∫Á´ãÂÆâÂÖ®ËøûÊé•‰πãÂâçÂèëÈÄÅ„ÄÇ‰∏≠Èó¥ÁöÑÁ™ÉÂê¨ËÄÖÂèØ‰ª•ÁúãÂà∞‰Ω†Ë¶ÅËÆøÈóÆÁöÑÁΩëÁ´ôÁöÑÂêçÁß∞Ôºà‰æãÂ¶Ç TipTopSecurity.comÔºâÔºå‰ªñ‰ª¨Âè™ÊòØÊó†Ê≥ïËØªÂèñÊù•Âõû‰º†ËæìÁöÑ‰ªª‰ΩïÂÆûÈôÖÂÜÖÂÆπ„ÄÇÁõ¥Âà∞DNSSECÂÆåÂÖ®ÂÆûÊñΩÂêéÔºåËøôÁßçÊÉÖÂÜµÊâç‰ºöÊîπÂèò„ÄÇ\n\n2. ‰øùÊä§‰Ω†ÂÖçÂèóËÆøÈóÆÈÇ™ÊÅ∂ÁΩëÁ´ôÁöÑ‰æµÂÆ≥\n\nHTTPS ‰∏çËÉΩÁ°Æ‰øùÁΩëÁ´ôÊú¨Ë∫´ÁöÑÂÆâÂÖ®„ÄÇ‰ªÖ‰ªÖÂõ†‰∏∫‰Ω†ÂÆâÂÖ®ËøûÊé•Âπ∂‰∏çÊÑèÂë≥ÁùÄ‰Ω†Ê≤°ÊúâËøûÊé•Âà∞Áî±Âùè‰∫∫ËøêË°åÁöÑÁΩëÁ´ô„ÄÇÊàë‰ª¨Â∞ùËØïÈÄöËøáÂèó‰ø°‰ªªÁöÑËØÅ‰π¶È¢ÅÂèëÊú∫ÊûÑÊù•Ëß£ÂÜ≥Ê≠§ÈóÆÈ¢òÔºå‰ΩÜËØ•Á≥ªÁªüÂπ∂‰∏çÂÆåÁæéÔºàËØ∑ÁªßÁª≠ÂÖ≥Ê≥®ÊúâÂÖ≥Ê≠§ÊñπÈù¢ÁöÑÊõ¥Â§ö‰ø°ÊÅØÔºâ„ÄÇ\n\n3. Êèê‰æõÂåøÂêç\n\nHTTPS ‰∏ç‰ºöÈöêËóè‰Ω†ÁöÑÁâ©ÁêÜ‰ΩçÁΩÆÊàñ‰∏™‰∫∫Ë∫´‰ªΩ„ÄÇ‰Ω†ÁöÑ‰∏™‰∫∫ IP Âú∞ÂùÄÔºà‰Ω†Âú®‰∫íËÅîÁΩë‰∏äÁöÑÂú∞ÂùÄÔºâÂøÖÈ°ªÈôÑÂä†Âà∞Âä†ÂØÜÊï∞ÊçÆÁöÑÂ§ñÈÉ®ÔºåÂõ†‰∏∫Â¶ÇÊûú‰Ω†ÁöÑ IP Âú∞ÂùÄ‰πüË¢´Âä†ÂØÜÔºå‰∫íËÅîÁΩëÂ∞Ü‰∏çÁü•ÈÅìÂ∞ÜÂÖ∂ÂèëÈÄÅÂà∞Âì™Èáå„ÄÇËÄå‰∏îÂÆÉ‰πü‰∏ç‰ºöÂú®‰Ω†Ê≠£Âú®ËÆøÈóÆÁöÑÁΩëÁ´ô‰∏äÈöêËóè‰Ω†ÁöÑË∫´‰ªΩ„ÄÇ‰Ω†ËÆøÈóÆÁöÑÁΩëÁ´ô‰ªçÁÑ∂‰∫ÜËß£‰Ω†ÁöÑ‰∏ÄÂàáÔºåÂ∞±ÂÉèÂú®ÈùûÂÆâÂÖ®ËøûÊé•‰∏ä‰∏ÄÊ†∑„ÄÇ\n\n4. Èò≤Ê≠¢‰Ω†ÊÑüÊüìÁóÖÊØí\n\nHTTPS ‰∏çÊòØËøáÊª§Âô®„ÄÇÊúâÂèØËÉΩÈÄöËøá HTTPS ËøûÊé•Êé•Êî∂ÁóÖÊØíÂíåÂÖ∂‰ªñÊÅ∂ÊÑèËΩØ‰ª∂„ÄÇÂ¶ÇÊûú Web ÊúçÂä°Âô®Ë¢´ÊÑüÊüìÊàñËÄÖ‰Ω†ÊâÄÂú®ÁöÑÊÅ∂ÊÑèÁΩëÁ´ôÊ≠£Âú®ÂàÜÂèëÊÅ∂ÊÑèËΩØ‰ª∂ÔºåÂàôËØ•ÊÅ∂ÊÑèËΩØ‰ª∂Â∞ÜÂÉèÂÖ∂‰ªñÊâÄÊúâÂÜÖÂÆπ‰∏ÄÊ†∑Âú® HTTPS ÊµÅ‰∏≠ÂèëÈÄÅ„ÄÇÁÑ∂ËÄåÔºå HTTPSÁ°ÆÂÆûÂèØ‰ª•Èò≤Ê≠¢‰∏≠Èó¥ÁöÑ‰ªª‰Ωï‰∫∫Â∞ÜÊÅ∂ÊÑèËΩØ‰ª∂Ê≥®ÂÖ•Âà∞‰Ω†ÁöÑÁßªÂä®ÊµÅÈáè‰∏≠„ÄÇ\n\n5. ‰øùÊä§‰Ω†ÁöÑËÆ°ÁÆóÊú∫ÂÖçÈÅ≠ÈªëÂÆ¢ÊîªÂáª\n\nHTTPS ‰ªÖ‰øùÊä§Âú®‰Ω†ÁöÑËÆ°ÁÆóÊú∫Âíå Web ÊúçÂä°Âô®‰πãÈó¥ÁßªÂä®ÁöÑÊï∞ÊçÆ„ÄÇÂÆÉ‰∏ç‰ºö‰∏∫‰Ω†ÁöÑÂÆûÈôÖËÆ°ÁÆóÊú∫ÊàñÊúçÂä°Âô®Êú¨Ë∫´Êèê‰æõ‰ªª‰Ωï‰øùÊä§„ÄÇËøô‰πüÊÑèÂë≥ÁùÄÔºåÂ¶ÇÊûúÊúâÊÅ∂ÊÑèËΩØ‰ª∂Ê≠£Âú®ÁõëËßÜËøûÊé•‰∏ÄÁ´ØÁöÑÊµÅÈáèÔºåÂÆÉÂ∞±ÂèØ‰ª•ËØªÂèñ HTTPS ÊµÅ‰∏≠Âä†ÂØÜ‰πãÂâçÂíå‰πãÂêéÁöÑÊµÅÈáè„ÄÇ\n\n\nÊõ¥Â§ö‰∏ÄÊâãËÆØÊÅØÔºåÂèØÂÖ≥Ê≥®ÂÖ¨‰ºóÂè∑Ôºö[ITProHub](https://myom-dev.oss-cn-hangzhou.aliyuncs.com/WechatPublicPlatformQrCode.jpg)\n\n![ITProHub](https://myom-dev.oss-cn-hangzhou.aliyuncs.com/WechatPublicPlatformQrCode.jpg)","slug":"https","published":1,"updated":"2024-04-26T03:06:40.272Z","_id":"cluuzgyxx000088p1frvnfrom","comments":1,"layout":"post","photos":[],"link":"","content":"<h1 id=\"‰ªÄ‰πàÊòØ-HTTPSÔºü\"><a href=\"#‰ªÄ‰πàÊòØ-HTTPSÔºü\" class=\"headerlink\" title=\"‰ªÄ‰πàÊòØ HTTPSÔºü\"></a>‰ªÄ‰πàÊòØ HTTPSÔºü</h1><p>HTTP ÊòØ‰∏ÄÁßçÁî®‰∫éÂú®ÊúçÂä°Âô®ÂíåÂÆ¢Êà∑Á´ØÔºàWeb ÊµèËßàÂô®Ôºâ‰πãÈó¥‰∫§Êç¢Êï∞ÊçÆÁöÑ‰∫íËÅîÁΩëÂçèËÆÆ„ÄÇ HTTPS Âè™‰∏çËøáÊòØÂú®HTTPÁöÑÂü∫Á°Ä‰∏äÊ∑ªÂä†‰∫ÜÂÆâÂÖ®Â±Ç„ÄÇ<br>HTTP ‰∏çÊòØ‰∏Ä‰∏™ÂÆâÂÖ®ÂçèËÆÆÔºöÂÆÉÊòØ‰∏∫‰∫ÜÁ∫ØÁ≤πÁöÑÂäüËÉΩÁõÆÊ†áËÄåËÆæËÆ°ÁöÑÔºåÊ≤°ÊúâËÄÉËôë‰ªª‰ΩïÂÆâÂÖ®Á∫¶Êùü„ÄÇ</p>\n<p>ÊâÄ‰ª•Êàë‰ª¨ÁªôHTTPÊ∑ªÂä†‰∫Ü‰∏Ä‰∏™ÂÆâÂÖ®Â±Ç„ÄÇÊõ¥ÂáÜÁ°ÆÂú∞ËØ¥ÔºåÂ∞Ü HTTP Â∞ÅË£ÖÂà∞ÂÆâÂÖ®ËøûÊé•‰∏≠„ÄÇ</p>\n<p><img src=\"/images/https/security.png\" alt=\"ÂÆâÂÖ®ËøûÊé•\"></p>\n<p>HTTPS ‰ΩøÊàë‰ª¨ËÉΩÂ§üÂÆûÁé∞‰∏â‰∏™ÁõÆÊ†áÔºö</p>\n<ul>\n<li>Ë∫´‰ªΩÈ™åËØÅÔºöHTTPS ‰ΩøÁî®Êï∞Â≠óËØÅ‰π¶Êù•È™åËØÅÊúçÂä°Âô®ÂíåÂÆ¢Êà∑Á´ØÁöÑË∫´‰ªΩÔºåÈò≤Ê≠¢‰∏≠Èó¥‰∫∫ÊîªÂáª„ÄÇÊúçÂä°Âô®ÈúÄË¶ÅÊèê‰æõÊúâÊïàÁöÑÊï∞Â≠óËØÅ‰π¶ÔºåËÄåÂÆ¢Êà∑Á´ØÂèØ‰ª•È™åËØÅËØÅ‰π¶ÁöÑÊúâÊïàÊÄßÔºåÁ°Æ‰øù‰∏éÊ≠£Á°ÆÁöÑÊúçÂä°Âô®Âª∫Á´ãËøûÊé•„ÄÇ</li>\n<li>ÈöêÁßÅÔºöÁΩëÁªú‰∏äÁöÑ‰ªª‰Ωï‰∫∫ÈÉΩÊó†Ê≥ïËØªÂèñÊï∞ÊçÆÔºåÂõ†‰∏∫ÂÆÉÊòØÂä†ÂØÜÁöÑ</li>\n<li>ÂÆåÊï¥ÊÄßÔºöHTTPS ‰ΩøÁî®Ê∂àÊÅØÊëòË¶ÅÁÆóÊ≥ïÔºàÂ¶Ç SHA-256ÔºâÊù•ËÆ°ÁÆóÊï∞ÊçÆÁöÑÊëòË¶ÅÔºåÂπ∂Â∞ÜÊëòË¶Å‰∏éÊï∞ÊçÆ‰∏ÄËµ∑‰º†Ëæì„ÄÇÊé•Êî∂ÊñπÂèØ‰ª•È™åËØÅÊï∞ÊçÆÁöÑÂÆåÊï¥ÊÄßÔºåÁ°Æ‰øùÊï∞ÊçÆÂú®‰º†ËæìËøáÁ®ã‰∏≠Êú™Ë¢´ÁØ°Êîπ„ÄÇ</li>\n</ul>\n<h1 id=\"ËØÅ‰π¶È¢ÅÂèëÊú∫ÊûÑ\"><a href=\"#ËØÅ‰π¶È¢ÅÂèëÊú∫ÊûÑ\" class=\"headerlink\" title=\"ËØÅ‰π¶È¢ÅÂèëÊú∫ÊûÑ\"></a>ËØÅ‰π¶È¢ÅÂèëÊú∫ÊûÑ</h1><p>ËØÅ‰π¶È¢ÅÂèëÊú∫ÊûÑÊòØÊèê‰æõ SSL ËØÅ‰π¶ÁöÑÂÖ¨Âè∏„ÄÇËøô‰∫õÁªÑÁªá‰∏∫ÁΩëÁªúÊµèËßàÂô®ÊâÄÁÜüÁü•ÔºåÂπ∂Êé•ÂèóËøô‰∫õÊú∫ÊûÑÊèê‰æõÁöÑËØÅ‰π¶„ÄÇ<br>‰ªª‰Ωï‰∫∫ÈÉΩÂèØ‰ª•ÁîüÊàêËØÅ‰π¶Ôºå‰ΩÜÂ¶ÇÊûú‰∏çÊòØÁî±Â∑≤Áü•Êú∫ÊûÑÊèê‰æõÁöÑÔºåÊµèËßàÂô®‰ºöÊòæÁ§∫ÂÆâÂÖ®Ë≠¶Êä•„ÄÇ</p>\n<p>ËØÅ‰π¶È¢ÅÂèëÊú∫ÊûÑÁ§∫‰æãÔºöDigiCert„ÄÅGeoTrust„ÄÅGlobalSign„ÄÅCFCA„ÄÅTrustAsia</p>\n<p><img src=\"/images/https/ca2.png\" alt=\"ca\"></p>\n<h1 id=\"SSL-Êè°Êâã\"><a href=\"#SSL-Êè°Êâã\" class=\"headerlink\" title=\"SSL Êè°Êâã\"></a>SSL Êè°Êâã</h1><p>SSL Êè°ÊâãÊòØ Web ÊúçÂä°Âô®ÂíåÊµèËßàÂô®ËÆ®ËÆ∫Âπ∂ÂïÜÂÆöË¶Å‰ΩøÁî®ÁöÑÂçèËÆÆÔºàÁâπÂÆöÁâàÊú¨‰∏≠ÁöÑ SSL Êàñ TLSÔºâ„ÄÅË¶Å‰ΩøÁî®ÁöÑÂØÜÁ†ÅÂ•ó‰ª∂‰ª•ÂèäÊúÄÂêéË¶Å‰ΩøÁî®ÁöÑ‰ºöËØùÂØÜÈí•ÁöÑËøáÁ®ã„ÄÇÊè°ÊâãÂÆåÊàêÂêéËøõË°åÈÄö‰ø°„ÄÇ</p>\n<p><img src=\"/images/https/handshake.png\" alt=\"Êè°ÊâãËøáÁ®ã\">ÂõæÁâáÊù•Ê∫êÔºö<a href=\"https://code-maze.com/wp-content/uploads/2017/07/TLS-handshake.png\">https://code-maze.com/wp-content/uploads/2017/07/TLS-handshake.png</a></p>\n<p>‰∏çÊ∑±Á©∂ÁªÜËäÇÔºåÊè°Êâã‰ºöÁªèËøá‰ª•‰∏ãÊ≠•È™§Ôºö</p>\n<ol>\n<li>ÊµèËßàÂô®ÂíåÊúçÂä°Âô®Â∞±ÊâÄ‰ΩøÁî®ÁöÑÂçèËÆÆËææÊàê‰∏ÄËá¥ÔºàSSL X„ÄÅTLS XÔºâ</li>\n<li>ÊµèËßàÂô®È™åËØÅÊúçÂä°Âô®ÁöÑÁúüÂÆûÊÄßÔºàËØÅ‰π¶È¢ÅÂèëÊú∫ÊûÑÔºâ</li>\n<li>ÊµèËßàÂô®ÂàõÂª∫‰ºöËØùÂØÜÈí•Âπ∂‰ΩøÁî®ÊúçÂä°Âô®ÁöÑÂÖ¨Èí•ÂØπÂÖ∂ËøõË°åÂä†ÂØÜ</li>\n<li>ÊúçÂä°Âô®Áî®ÂÖ∂ÁßÅÈí•Ëß£ÂØÜÂÖàÂâçÁöÑÊ∂àÊÅØ</li>\n<li>ÊµèËßàÂô®ÂíåÊúçÂä°Âô®‰ΩøÁî®‰ªñ‰ª¨ÂàöÂàöÂïÜÂÆöÁöÑ‰ºöËØùÂØÜÈí•ËøõË°åÈÄö‰ø°„ÄÇÊè°ÊâãÂÆåÊØï„ÄÇ</li>\n</ol>\n<p>ÊÑüÂÖ¥Ë∂£ÁöÑÂêåÂ≠¶‰πüÂèØ‰ª•ÊäìÂåÖÁúã‰∏Ä‰∏ãhttpsËÆøÈóÆÁöÑËØ¶ÁªÜËøáÁ®ãÔºå‰∏ãÈù¢ÊòØÁî®wiresharkÊäìÂåÖÁöÑÁªìÊûú<br><img src=\"/images/https/client-hello.png\" alt=\"Êè°Êâã\"><br>Êè°ÊâãÂÆåÊàêÂêéÊï∞ÊçÆ‰º†ËæìÁöÑÈÉΩÊòØÂä†ÂØÜÁöÑÊï∞ÊçÆ<br><img src=\"/images/https/encrypted.png\" alt=\"Êï∞ÊçÆÂä†ÂØÜ\"></p>\n<h1 id=\"ÂØÜÁ†ÅÂ•ó‰ª∂\"><a href=\"#ÂØÜÁ†ÅÂ•ó‰ª∂\" class=\"headerlink\" title=\"ÂØÜÁ†ÅÂ•ó‰ª∂\"></a>ÂØÜÁ†ÅÂ•ó‰ª∂</h1><p>HTTPS ÂÜÖÂ≠òÂú®‰∏çÂêåÁ∫ßÂà´ÁöÑÂä†ÂØÜ„ÄÇ<br>Â¶ÇÂâçÊâÄËø∞ÔºåHTTPS ÊòØÂ∞Ü HTTP Â∞ÅË£ÖÂà∞ÂÆâÂÖ®ÂçèËÆÆ SSL Êàñ TLS ‰∏≠„ÄÇ<br>Ëøô‰∏§ÁßçÂÆâÂÖ®ÂçèËÆÆÂ≠òÂú®‰∏çÂêåÁöÑÁâàÊú¨ÔºåÂÖ∂‰∏≠‰∏Ä‰∫õË¢´ËÆ§‰∏∫ÊòØËæÉÂº±ÁöÑ„ÄÇËá™‚ÄúPOODLE‚ÄùÊºèÊ¥û‰ª•Êù•ÔºåSSL V2 Â∑≤ËøáÊó∂ÔºåSSL V3 ‰πüÂ∑≤ËøáÊó∂„ÄÇÔºàÊÑüÂÖ¥Ë∂£ÁöÑÂêåÂ≠¶ÂèØ‰ª•Ëá™Ë°åÁôæÂ∫¶Ôºâ<br>‰ΩøÁî®ÔºöTLS v1.0„ÄÅv1.1„ÄÅv1.2</p>\n<p>Ê≠§Â§ñÔºåSSLÂíåTLS‰ΩøÁî®‰∏çÂêåÁöÑÂä†ÂØÜÁÆóÊ≥ï„ÄÇËøô‰∫õÁÆóÊ≥ïÂú®ÈÄö‰ø°ËøáÁ®ã‰∏≠‰ΩøÁî®Ôºå‰ΩøÁî®Âì™ÁßçÁÆóÊ≥ïÂèñÂÜ≥‰∫éÊúçÂä°Âô®ÂíåÊµèËßàÂô®Êé•ÂèóÁöÑÁÆóÊ≥ï„ÄÇ<br>ÈöèÁùÄÊó∂Èó¥ÁöÑÊé®ÁßªÔºåÂÖ∂‰∏≠‰∏Ä‰∫õÁÆóÊ≥ï‰ºöÂèòÂæóÂæàÂº±ÔºåÂøÖÈ°ªÂÅúÁî®Ôºö<br>‰æãÂ¶ÇÔºåÊàë‰ª¨ÂèØ‰ª•ÊèêÂà∞ÂØÜÈí•Â§ßÂ∞è‰Ωé‰∫é 128 ‰ΩçÁöÑÊâÄÊúâÂØÜÁ†ÅÂíå RC4 ÁÆóÊ≥ï„ÄÇ</p>\n<p>Âõ†Ê≠§ÔºåÊúâÂøÖË¶Å‰ΩøÁ≥ªÁªü‰øùÊåÅÊúÄÊñ∞ÔºåÁâπÂà´ÊòØ Web ÊúçÂä°Âô®ÁöÑ HTTPS ÈÖçÁΩÆ„ÄÇ</p>\n<h2 id=\"client-hello\"><a href=\"#client-hello\" class=\"headerlink\" title=\"client hello\"></a>client hello</h2><p>‰∏ãÈù¢ÊòØÊàë‰ª¨ÈÄöËøáwiresharÊäìÂåÖÊü•ÁúãÂÆ¢Êà∑Á´ØÊîØÊåÅÁöÑÂØÜÁ†ÅÂ•ó‰ª∂<br><img src=\"/images/https/cipher-suites.png\" alt=\"ÂÆ¢Êà∑Á´ØÊîØÊåÅÁöÑÂØÜÁ†ÅÂ•ó‰ª∂\"></p>\n<h2 id=\"server-hello\"><a href=\"#server-hello\" class=\"headerlink\" title=\"server hello\"></a>server hello</h2><p>ÂÆ¢Êà∑Á´Ø‰∏éÊúçÂä°Á´ØÂçèÂïÜÂØÜÁ†ÅÂ•ó‰ª∂, ‰∏ªË¶ÅÊòØ‰ªéÂÆ¢Êà∑Á´ØÊîØÊåÅÁöÑÂä†ÂØÜÊñπÂºè‰∏≠ÈÄâÊã©‰∏Ä‰∏™ÂêàÈÄÇÁöÑÂëäËØâÂÆ¢Êà∑Á´Ø„ÄÇ<br><img src=\"/images/https/negotiated-cipher-suite.png\" alt=\"ÂçèÂïÜÂØÜÁ†ÅÂ•ó‰ª∂\"></p>\n<h2 id=\"ËØ•ÂØÜÁ†Å‰∏≤ÁöÑÂê´‰πâ\"><a href=\"#ËØ•ÂØÜÁ†Å‰∏≤ÁöÑÂê´‰πâ\" class=\"headerlink\" title=\"ËØ•ÂØÜÁ†Å‰∏≤ÁöÑÂê´‰πâ\"></a>ËØ•ÂØÜÁ†Å‰∏≤ÁöÑÂê´‰πâ</h2><p>ECDHEÔºöÂØÜÈí•‰∫§Êç¢ÁÆóÊ≥ï<br>ECDSAÔºöË∫´‰ªΩÈ™åËØÅ<br>AES_128_CBCÔºöÁî®‰∫éÊ∂àÊÅØÂä†ÂØÜÁöÑÊâπÈáèÂØÜÁ†Å<br>SHAÔºöMAC ÁÆóÊ≥ï</p>\n<h1 id=\"Âú®-Web-ÊúçÂä°Âô®‰∏äÂÆâË£Ö-HTTPS\"><a href=\"#Âú®-Web-ÊúçÂä°Âô®‰∏äÂÆâË£Ö-HTTPS\" class=\"headerlink\" title=\"Âú® Web ÊúçÂä°Âô®‰∏äÂÆâË£Ö HTTPS\"></a>Âú® Web ÊúçÂä°Âô®‰∏äÂÆâË£Ö HTTPS</h1><p>ÂØπ‰∫é‰∏çÂêåÁ±ªÂûãÁöÑÊúçÂä°Âô®ÔºåÂú® Web ÊúçÂä°Âô®‰∏äÈÖçÁΩÆ HTTPS Áõ∏ÂØπÁÆÄÂçïÔºåÂπ∂‰∏îÊúâËØ¶ÁªÜÁöÑÊñáÊ°£ËÆ∞ÂΩï„ÄÇ</p>\n<p>ËÆæÁΩÆÁöÑ‰∏ªË¶ÅÊ≠•È™§ÊòØÔºö</p>\n<ul>\n<li>ÂêëËØÅ‰π¶È¢ÅÂèëÊú∫ÊûÑËÆ¢Ë¥≠ SSL ËØÅ‰π¶</li>\n<li>Âú® Web ÊúçÂä°Âô®‰∏≠ÂÆâË£ÖËØÅ‰π¶ÔºàË¶ÅÂ§çÂà∂Âà∞ÊúçÂä°Âô®ÁöÑÊñá‰ª∂Ôºâ</li>\n<li>ÈÖçÁΩÆÁΩëÁªúÊúçÂä°Âô®</li>\n</ul>\n<p>ÊúçÂä°Âô®ÁöÑÈÖçÁΩÆÂèØËÉΩÂåÖÊã¨Ôºö</p>\n<ul>\n<li>ËØÅ‰π¶ÁªëÂÆöÁöÑIPÂú∞ÂùÄ-Á´ØÂè£&#x2F;ÂüüÂêç</li>\n<li>ÊøÄÊ¥ªÂçèËÆÆÁöÑÈÖçÁΩÆÔºàTLS&#x2F;SSLÔºâ</li>\n<li>ÁÆóÊ≥ïÂíåÂØÜÁ†ÅÂØÜÈí•Â§ßÂ∞èÁöÑÈÖçÁΩÆÔºàÂØÜÁ†ÅÂ•ó‰ª∂Ôºâ</li>\n</ul>\n<figure class=\"highlight nginx\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"section\">server</span> &#123;</span><br><span class=\"line\">    <span class=\"attribute\">listen</span> <span class=\"number\">443</span> ssl;</span><br><span class=\"line\">    <span class=\"attribute\">server_name</span> xxx;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"attribute\">ssl_certificate</span> /cert/xxx.crt;</span><br><span class=\"line\">    <span class=\"attribute\">ssl_certificate_key</span> /cert/xxx.key;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"section\">location</span> / &#123;</span><br><span class=\"line\">        <span class=\"attribute\">proxy_pass</span> http://localhost:4000;</span><br><span class=\"line\">        <span class=\"attribute\">proxy_set_header</span> Host <span class=\"variable\">$host</span>;</span><br><span class=\"line\">        <span class=\"attribute\">proxy_set_header</span> X-Real-IP <span class=\"variable\">$remote_addr</span>;</span><br><span class=\"line\">        <span class=\"attribute\">proxy_set_header</span> X-Forwarded-For <span class=\"variable\">$proxy_add_x_forwarded_for</span>;</span><br><span class=\"line\">        <span class=\"attribute\">proxy_set_header</span> X-Forwarded-Proto <span class=\"variable\">$scheme</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>ÂèØ‰ª•Âú®‰∏ãÈù¢ÊâæÂà∞ËØ¶ÁªÜËØ¥ÊòéÂ¶Ç‰ΩïÂú®‰∏â‰∏™‰∏ªË¶Å Web ÊúçÂä°Âô®‰∏äÂÆâË£Ö SSL ÁöÑÊñáÊ°£ÈìæÊé•Ôºö<br>ApacheÔºö  <a href=\"https://wiki.apache.org/httpd/SSL\">https://wiki.apache.org/httpd/SSL</a><br>IISÔºö <a href=\"http://www.iis.net/learn/manage/configuring-security/how-to-set-up-ssl-on-iis\">http://www.iis.net/learn/manage/configuring-security/how-to-set-up-ssl-on-iis</a><br>NginxÔºö <a href=\"http://nginx.org/en/docs/http/configuring_https_servers.html\">http://nginx.org/en/docs/http/configuring_https_servers.html</a></p>\n<p>Mozilla ÂèëÂ∏É‰∫Ü‰∏Ä‰∏™Á´ôÁÇπÔºå‰Ω†ÂèØ‰ª•Âú®ÂÖ∂‰∏≠ÁîüÊàêÂÆâÂÖ®ÁöÑ HTTPS ÈÖçÁΩÆÔºö</p>\n<p><a href=\"https://mozilla.github.io/server-side-tls/ssl-config-generator/\">Mozilla SSL ÈÖçÁΩÆÁîüÊàêÂô®</a></p>\n<h1 id=\"‰øùÊåÅ-HTTPS-Êõ¥Êñ∞‰∏∫ÊúÄÊñ∞\"><a href=\"#‰øùÊåÅ-HTTPS-Êõ¥Êñ∞‰∏∫ÊúÄÊñ∞\" class=\"headerlink\" title=\"‰øùÊåÅ HTTPS Êõ¥Êñ∞‰∏∫ÊúÄÊñ∞\"></a>‰øùÊåÅ HTTPS Êõ¥Êñ∞‰∏∫ÊúÄÊñ∞</h1><p>HTTPS ÈÖçÁΩÆ‰∏çÊòØ‰∏ÄÊ¨°ÊÄß‰∫ã‰ª∂„ÄÇÂÆâË£ÖÂêéÔºåÂøÖÈ°ª‰øùÊåÅÂÖ∂ÈÖçÁΩÆÊúÄÊñ∞„ÄÇ<br>ÂæàÂ§öbugÈÉΩ‰ºöÂΩ±Âìç‰∏Ä‰∫õËæÉ‰ΩéÁâàÊú¨ÁöÑopenSSLÂ∫ì(‰æãÂ¶Ç<a href=\"https://baike.baidu.com/item/Heartbleed/13580882\">Heartbleed</a>), Á≥ªÁªüÊõ¥Êñ∞ÂèØ‰ª•Â∏ÆÂä©ÈÅøÂÖç‰∏Ä‰∫õ‰∏é HTTPS ‰ΩøÁî®Áõ¥Êé•Áõ∏ÂÖ≥ÁöÑÊºèÊ¥û„ÄÇ</p>\n<p>Ê≠§Â§ñÔºåÊúâÂøÖË¶ÅÈöèÊó∂‰∫ÜËß£‰∏çÂêåÂçèËÆÆÂíåÂØÜÁ†ÅÂ•ó‰ª∂ÁöÑÂÆâÂÖ®ÊÄß„ÄÇËøôÈáåÁöÑÁõÆÊ†áÊòØÂú®Êüê‰∫õÊó∂ÂÄôË¢´ËÆ§‰∏∫ËæÉÂº±ÁöÑÊÉÖÂÜµ‰∏ãÂÅúÁî®ÂÖ∂‰∏≠‰∏Ä‰∫õ„ÄÇ</p>\n<p>ÊúÄÂêé‰∏ÄÁÇπ‰πüÊòØÂæàÈáçË¶ÅÁöÑÔºå‰πüÊòØÂæàÊòéÊòæ‰ΩÜÁªèÂ∏∏Ë¢´ÈÅóÂøòÁöÑÔºöËØÅ‰π¶ËøáÊúü„ÄÇ‰∏ÄÊó¶ËØÅ‰π¶ËøáÊúüÔºåÁΩëÁªúÊµèËßàÂô®Â∞ÜÊòæÁ§∫ÈùûÂ∏∏ÂÖ∑ÊúâÂäùÈòªÊÄßÁöÑÂÆâÂÖ®Ë≠¶Êä•ÔºåÈºìÂä±Áî®Êà∑Á¶ªÂºÄÁΩëÁ´ô„ÄÇ</p>\n<p>Áõ∏‰ø°Â§ßÂÆ∂Âú®ÊµèËßàÁΩëÁ´ôÁöÑÊó∂ÂÄôÈÅáÂà∞ËøáËøôÊ†∑ÁöÑÊÉÖÂÜµ<br><img src=\"/images/https/expire.png\" alt=\"ËøáÊúü\"></p>\n<h1 id=\"HTTPS-‰∏çÂÅö‰ªÄ‰πà\"><a href=\"#HTTPS-‰∏çÂÅö‰ªÄ‰πà\" class=\"headerlink\" title=\"HTTPS ‰∏çÂÅö‰ªÄ‰πà\"></a>HTTPS ‰∏çÂÅö‰ªÄ‰πà</h1><p>‰∫∫‰ª¨ÂæàÂÆπÊòìËÆ§‰∏∫ HTTPS ÊòØ‰∏Ä‰∏™Á•ûÂ•áÁöÑ‰∫íËÅîÁΩëÂÆâÂÖ®Ëß£ÂÜ≥ÊñπÊ°àÔºå‰ΩÜÂÆÉËøòÊúâÂæàÂ§ö‰∏çËÉΩÂÅöÁöÑ‰∫ãÊÉÖ„ÄÇ</p>\n<h2 id=\"HTTPS-‰∏ç‰ºöÔºö\"><a href=\"#HTTPS-‰∏ç‰ºöÔºö\" class=\"headerlink\" title=\"HTTPS ‰∏ç‰ºöÔºö\"></a>HTTPS ‰∏ç‰ºöÔºö</h2><ol>\n<li>ÈöêËóè‰Ω†Ê≠£Âú®ËÆøÈóÆÁöÑÁΩëÁ´ôÁöÑÂêçÁß∞</li>\n</ol>\n<p>ËøôÊòØÂõ†‰∏∫ÁΩëÁ´ôÁöÑÂêçÁß∞ÔºàÂèàÂêç‚ÄúÂüü‚ÄùÔºâÊòØ‰ΩøÁî® DNSÔºàÂüüÂêçÊúçÂä°ÔºâÂèëÈÄÅÁöÑÔºåËÄå DNS ‰∏çÂú® HTTPS ÈößÈÅìÂÜÖ„ÄÇÂÆÉÂú®Âª∫Á´ãÂÆâÂÖ®ËøûÊé•‰πãÂâçÂèëÈÄÅ„ÄÇ‰∏≠Èó¥ÁöÑÁ™ÉÂê¨ËÄÖÂèØ‰ª•ÁúãÂà∞‰Ω†Ë¶ÅËÆøÈóÆÁöÑÁΩëÁ´ôÁöÑÂêçÁß∞Ôºà‰æãÂ¶Ç TipTopSecurity.comÔºâÔºå‰ªñ‰ª¨Âè™ÊòØÊó†Ê≥ïËØªÂèñÊù•Âõû‰º†ËæìÁöÑ‰ªª‰ΩïÂÆûÈôÖÂÜÖÂÆπ„ÄÇÁõ¥Âà∞DNSSECÂÆåÂÖ®ÂÆûÊñΩÂêéÔºåËøôÁßçÊÉÖÂÜµÊâç‰ºöÊîπÂèò„ÄÇ</p>\n<ol start=\"2\">\n<li>‰øùÊä§‰Ω†ÂÖçÂèóËÆøÈóÆÈÇ™ÊÅ∂ÁΩëÁ´ôÁöÑ‰æµÂÆ≥</li>\n</ol>\n<p>HTTPS ‰∏çËÉΩÁ°Æ‰øùÁΩëÁ´ôÊú¨Ë∫´ÁöÑÂÆâÂÖ®„ÄÇ‰ªÖ‰ªÖÂõ†‰∏∫‰Ω†ÂÆâÂÖ®ËøûÊé•Âπ∂‰∏çÊÑèÂë≥ÁùÄ‰Ω†Ê≤°ÊúâËøûÊé•Âà∞Áî±Âùè‰∫∫ËøêË°åÁöÑÁΩëÁ´ô„ÄÇÊàë‰ª¨Â∞ùËØïÈÄöËøáÂèó‰ø°‰ªªÁöÑËØÅ‰π¶È¢ÅÂèëÊú∫ÊûÑÊù•Ëß£ÂÜ≥Ê≠§ÈóÆÈ¢òÔºå‰ΩÜËØ•Á≥ªÁªüÂπ∂‰∏çÂÆåÁæéÔºàËØ∑ÁªßÁª≠ÂÖ≥Ê≥®ÊúâÂÖ≥Ê≠§ÊñπÈù¢ÁöÑÊõ¥Â§ö‰ø°ÊÅØÔºâ„ÄÇ</p>\n<ol start=\"3\">\n<li>Êèê‰æõÂåøÂêç</li>\n</ol>\n<p>HTTPS ‰∏ç‰ºöÈöêËóè‰Ω†ÁöÑÁâ©ÁêÜ‰ΩçÁΩÆÊàñ‰∏™‰∫∫Ë∫´‰ªΩ„ÄÇ‰Ω†ÁöÑ‰∏™‰∫∫ IP Âú∞ÂùÄÔºà‰Ω†Âú®‰∫íËÅîÁΩë‰∏äÁöÑÂú∞ÂùÄÔºâÂøÖÈ°ªÈôÑÂä†Âà∞Âä†ÂØÜÊï∞ÊçÆÁöÑÂ§ñÈÉ®ÔºåÂõ†‰∏∫Â¶ÇÊûú‰Ω†ÁöÑ IP Âú∞ÂùÄ‰πüË¢´Âä†ÂØÜÔºå‰∫íËÅîÁΩëÂ∞Ü‰∏çÁü•ÈÅìÂ∞ÜÂÖ∂ÂèëÈÄÅÂà∞Âì™Èáå„ÄÇËÄå‰∏îÂÆÉ‰πü‰∏ç‰ºöÂú®‰Ω†Ê≠£Âú®ËÆøÈóÆÁöÑÁΩëÁ´ô‰∏äÈöêËóè‰Ω†ÁöÑË∫´‰ªΩ„ÄÇ‰Ω†ËÆøÈóÆÁöÑÁΩëÁ´ô‰ªçÁÑ∂‰∫ÜËß£‰Ω†ÁöÑ‰∏ÄÂàáÔºåÂ∞±ÂÉèÂú®ÈùûÂÆâÂÖ®ËøûÊé•‰∏ä‰∏ÄÊ†∑„ÄÇ</p>\n<ol start=\"4\">\n<li>Èò≤Ê≠¢‰Ω†ÊÑüÊüìÁóÖÊØí</li>\n</ol>\n<p>HTTPS ‰∏çÊòØËøáÊª§Âô®„ÄÇÊúâÂèØËÉΩÈÄöËøá HTTPS ËøûÊé•Êé•Êî∂ÁóÖÊØíÂíåÂÖ∂‰ªñÊÅ∂ÊÑèËΩØ‰ª∂„ÄÇÂ¶ÇÊûú Web ÊúçÂä°Âô®Ë¢´ÊÑüÊüìÊàñËÄÖ‰Ω†ÊâÄÂú®ÁöÑÊÅ∂ÊÑèÁΩëÁ´ôÊ≠£Âú®ÂàÜÂèëÊÅ∂ÊÑèËΩØ‰ª∂ÔºåÂàôËØ•ÊÅ∂ÊÑèËΩØ‰ª∂Â∞ÜÂÉèÂÖ∂‰ªñÊâÄÊúâÂÜÖÂÆπ‰∏ÄÊ†∑Âú® HTTPS ÊµÅ‰∏≠ÂèëÈÄÅ„ÄÇÁÑ∂ËÄåÔºå HTTPSÁ°ÆÂÆûÂèØ‰ª•Èò≤Ê≠¢‰∏≠Èó¥ÁöÑ‰ªª‰Ωï‰∫∫Â∞ÜÊÅ∂ÊÑèËΩØ‰ª∂Ê≥®ÂÖ•Âà∞‰Ω†ÁöÑÁßªÂä®ÊµÅÈáè‰∏≠„ÄÇ</p>\n<ol start=\"5\">\n<li>‰øùÊä§‰Ω†ÁöÑËÆ°ÁÆóÊú∫ÂÖçÈÅ≠ÈªëÂÆ¢ÊîªÂáª</li>\n</ol>\n<p>HTTPS ‰ªÖ‰øùÊä§Âú®‰Ω†ÁöÑËÆ°ÁÆóÊú∫Âíå Web ÊúçÂä°Âô®‰πãÈó¥ÁßªÂä®ÁöÑÊï∞ÊçÆ„ÄÇÂÆÉ‰∏ç‰ºö‰∏∫‰Ω†ÁöÑÂÆûÈôÖËÆ°ÁÆóÊú∫ÊàñÊúçÂä°Âô®Êú¨Ë∫´Êèê‰æõ‰ªª‰Ωï‰øùÊä§„ÄÇËøô‰πüÊÑèÂë≥ÁùÄÔºåÂ¶ÇÊûúÊúâÊÅ∂ÊÑèËΩØ‰ª∂Ê≠£Âú®ÁõëËßÜËøûÊé•‰∏ÄÁ´ØÁöÑÊµÅÈáèÔºåÂÆÉÂ∞±ÂèØ‰ª•ËØªÂèñ HTTPS ÊµÅ‰∏≠Âä†ÂØÜ‰πãÂâçÂíå‰πãÂêéÁöÑÊµÅÈáè„ÄÇ</p>\n<p>Êõ¥Â§ö‰∏ÄÊâãËÆØÊÅØÔºåÂèØÂÖ≥Ê≥®ÂÖ¨‰ºóÂè∑Ôºö<a href=\"https://myom-dev.oss-cn-hangzhou.aliyuncs.com/WechatPublicPlatformQrCode.jpg\">ITProHub</a></p>\n<p><img src=\"https://myom-dev.oss-cn-hangzhou.aliyuncs.com/WechatPublicPlatformQrCode.jpg\" alt=\"ITProHub\"></p>\n","site":{"data":{}},"excerpt":"","more":"<h1 id=\"‰ªÄ‰πàÊòØ-HTTPSÔºü\"><a href=\"#‰ªÄ‰πàÊòØ-HTTPSÔºü\" class=\"headerlink\" title=\"‰ªÄ‰πàÊòØ HTTPSÔºü\"></a>‰ªÄ‰πàÊòØ HTTPSÔºü</h1><p>HTTP ÊòØ‰∏ÄÁßçÁî®‰∫éÂú®ÊúçÂä°Âô®ÂíåÂÆ¢Êà∑Á´ØÔºàWeb ÊµèËßàÂô®Ôºâ‰πãÈó¥‰∫§Êç¢Êï∞ÊçÆÁöÑ‰∫íËÅîÁΩëÂçèËÆÆ„ÄÇ HTTPS Âè™‰∏çËøáÊòØÂú®HTTPÁöÑÂü∫Á°Ä‰∏äÊ∑ªÂä†‰∫ÜÂÆâÂÖ®Â±Ç„ÄÇ<br>HTTP ‰∏çÊòØ‰∏Ä‰∏™ÂÆâÂÖ®ÂçèËÆÆÔºöÂÆÉÊòØ‰∏∫‰∫ÜÁ∫ØÁ≤πÁöÑÂäüËÉΩÁõÆÊ†áËÄåËÆæËÆ°ÁöÑÔºåÊ≤°ÊúâËÄÉËôë‰ªª‰ΩïÂÆâÂÖ®Á∫¶Êùü„ÄÇ</p>\n<p>ÊâÄ‰ª•Êàë‰ª¨ÁªôHTTPÊ∑ªÂä†‰∫Ü‰∏Ä‰∏™ÂÆâÂÖ®Â±Ç„ÄÇÊõ¥ÂáÜÁ°ÆÂú∞ËØ¥ÔºåÂ∞Ü HTTP Â∞ÅË£ÖÂà∞ÂÆâÂÖ®ËøûÊé•‰∏≠„ÄÇ</p>\n<p><img src=\"/images/https/security.png\" alt=\"ÂÆâÂÖ®ËøûÊé•\"></p>\n<p>HTTPS ‰ΩøÊàë‰ª¨ËÉΩÂ§üÂÆûÁé∞‰∏â‰∏™ÁõÆÊ†áÔºö</p>\n<ul>\n<li>Ë∫´‰ªΩÈ™åËØÅÔºöHTTPS ‰ΩøÁî®Êï∞Â≠óËØÅ‰π¶Êù•È™åËØÅÊúçÂä°Âô®ÂíåÂÆ¢Êà∑Á´ØÁöÑË∫´‰ªΩÔºåÈò≤Ê≠¢‰∏≠Èó¥‰∫∫ÊîªÂáª„ÄÇÊúçÂä°Âô®ÈúÄË¶ÅÊèê‰æõÊúâÊïàÁöÑÊï∞Â≠óËØÅ‰π¶ÔºåËÄåÂÆ¢Êà∑Á´ØÂèØ‰ª•È™åËØÅËØÅ‰π¶ÁöÑÊúâÊïàÊÄßÔºåÁ°Æ‰øù‰∏éÊ≠£Á°ÆÁöÑÊúçÂä°Âô®Âª∫Á´ãËøûÊé•„ÄÇ</li>\n<li>ÈöêÁßÅÔºöÁΩëÁªú‰∏äÁöÑ‰ªª‰Ωï‰∫∫ÈÉΩÊó†Ê≥ïËØªÂèñÊï∞ÊçÆÔºåÂõ†‰∏∫ÂÆÉÊòØÂä†ÂØÜÁöÑ</li>\n<li>ÂÆåÊï¥ÊÄßÔºöHTTPS ‰ΩøÁî®Ê∂àÊÅØÊëòË¶ÅÁÆóÊ≥ïÔºàÂ¶Ç SHA-256ÔºâÊù•ËÆ°ÁÆóÊï∞ÊçÆÁöÑÊëòË¶ÅÔºåÂπ∂Â∞ÜÊëòË¶Å‰∏éÊï∞ÊçÆ‰∏ÄËµ∑‰º†Ëæì„ÄÇÊé•Êî∂ÊñπÂèØ‰ª•È™åËØÅÊï∞ÊçÆÁöÑÂÆåÊï¥ÊÄßÔºåÁ°Æ‰øùÊï∞ÊçÆÂú®‰º†ËæìËøáÁ®ã‰∏≠Êú™Ë¢´ÁØ°Êîπ„ÄÇ</li>\n</ul>\n<h1 id=\"ËØÅ‰π¶È¢ÅÂèëÊú∫ÊûÑ\"><a href=\"#ËØÅ‰π¶È¢ÅÂèëÊú∫ÊûÑ\" class=\"headerlink\" title=\"ËØÅ‰π¶È¢ÅÂèëÊú∫ÊûÑ\"></a>ËØÅ‰π¶È¢ÅÂèëÊú∫ÊûÑ</h1><p>ËØÅ‰π¶È¢ÅÂèëÊú∫ÊûÑÊòØÊèê‰æõ SSL ËØÅ‰π¶ÁöÑÂÖ¨Âè∏„ÄÇËøô‰∫õÁªÑÁªá‰∏∫ÁΩëÁªúÊµèËßàÂô®ÊâÄÁÜüÁü•ÔºåÂπ∂Êé•ÂèóËøô‰∫õÊú∫ÊûÑÊèê‰æõÁöÑËØÅ‰π¶„ÄÇ<br>‰ªª‰Ωï‰∫∫ÈÉΩÂèØ‰ª•ÁîüÊàêËØÅ‰π¶Ôºå‰ΩÜÂ¶ÇÊûú‰∏çÊòØÁî±Â∑≤Áü•Êú∫ÊûÑÊèê‰æõÁöÑÔºåÊµèËßàÂô®‰ºöÊòæÁ§∫ÂÆâÂÖ®Ë≠¶Êä•„ÄÇ</p>\n<p>ËØÅ‰π¶È¢ÅÂèëÊú∫ÊûÑÁ§∫‰æãÔºöDigiCert„ÄÅGeoTrust„ÄÅGlobalSign„ÄÅCFCA„ÄÅTrustAsia</p>\n<p><img src=\"/images/https/ca2.png\" alt=\"ca\"></p>\n<h1 id=\"SSL-Êè°Êâã\"><a href=\"#SSL-Êè°Êâã\" class=\"headerlink\" title=\"SSL Êè°Êâã\"></a>SSL Êè°Êâã</h1><p>SSL Êè°ÊâãÊòØ Web ÊúçÂä°Âô®ÂíåÊµèËßàÂô®ËÆ®ËÆ∫Âπ∂ÂïÜÂÆöË¶Å‰ΩøÁî®ÁöÑÂçèËÆÆÔºàÁâπÂÆöÁâàÊú¨‰∏≠ÁöÑ SSL Êàñ TLSÔºâ„ÄÅË¶Å‰ΩøÁî®ÁöÑÂØÜÁ†ÅÂ•ó‰ª∂‰ª•ÂèäÊúÄÂêéË¶Å‰ΩøÁî®ÁöÑ‰ºöËØùÂØÜÈí•ÁöÑËøáÁ®ã„ÄÇÊè°ÊâãÂÆåÊàêÂêéËøõË°åÈÄö‰ø°„ÄÇ</p>\n<p><img src=\"/images/https/handshake.png\" alt=\"Êè°ÊâãËøáÁ®ã\">ÂõæÁâáÊù•Ê∫êÔºö<a href=\"https://code-maze.com/wp-content/uploads/2017/07/TLS-handshake.png\">https://code-maze.com/wp-content/uploads/2017/07/TLS-handshake.png</a></p>\n<p>‰∏çÊ∑±Á©∂ÁªÜËäÇÔºåÊè°Êâã‰ºöÁªèËøá‰ª•‰∏ãÊ≠•È™§Ôºö</p>\n<ol>\n<li>ÊµèËßàÂô®ÂíåÊúçÂä°Âô®Â∞±ÊâÄ‰ΩøÁî®ÁöÑÂçèËÆÆËææÊàê‰∏ÄËá¥ÔºàSSL X„ÄÅTLS XÔºâ</li>\n<li>ÊµèËßàÂô®È™åËØÅÊúçÂä°Âô®ÁöÑÁúüÂÆûÊÄßÔºàËØÅ‰π¶È¢ÅÂèëÊú∫ÊûÑÔºâ</li>\n<li>ÊµèËßàÂô®ÂàõÂª∫‰ºöËØùÂØÜÈí•Âπ∂‰ΩøÁî®ÊúçÂä°Âô®ÁöÑÂÖ¨Èí•ÂØπÂÖ∂ËøõË°åÂä†ÂØÜ</li>\n<li>ÊúçÂä°Âô®Áî®ÂÖ∂ÁßÅÈí•Ëß£ÂØÜÂÖàÂâçÁöÑÊ∂àÊÅØ</li>\n<li>ÊµèËßàÂô®ÂíåÊúçÂä°Âô®‰ΩøÁî®‰ªñ‰ª¨ÂàöÂàöÂïÜÂÆöÁöÑ‰ºöËØùÂØÜÈí•ËøõË°åÈÄö‰ø°„ÄÇÊè°ÊâãÂÆåÊØï„ÄÇ</li>\n</ol>\n<p>ÊÑüÂÖ¥Ë∂£ÁöÑÂêåÂ≠¶‰πüÂèØ‰ª•ÊäìÂåÖÁúã‰∏Ä‰∏ãhttpsËÆøÈóÆÁöÑËØ¶ÁªÜËøáÁ®ãÔºå‰∏ãÈù¢ÊòØÁî®wiresharkÊäìÂåÖÁöÑÁªìÊûú<br><img src=\"/images/https/client-hello.png\" alt=\"Êè°Êâã\"><br>Êè°ÊâãÂÆåÊàêÂêéÊï∞ÊçÆ‰º†ËæìÁöÑÈÉΩÊòØÂä†ÂØÜÁöÑÊï∞ÊçÆ<br><img src=\"/images/https/encrypted.png\" alt=\"Êï∞ÊçÆÂä†ÂØÜ\"></p>\n<h1 id=\"ÂØÜÁ†ÅÂ•ó‰ª∂\"><a href=\"#ÂØÜÁ†ÅÂ•ó‰ª∂\" class=\"headerlink\" title=\"ÂØÜÁ†ÅÂ•ó‰ª∂\"></a>ÂØÜÁ†ÅÂ•ó‰ª∂</h1><p>HTTPS ÂÜÖÂ≠òÂú®‰∏çÂêåÁ∫ßÂà´ÁöÑÂä†ÂØÜ„ÄÇ<br>Â¶ÇÂâçÊâÄËø∞ÔºåHTTPS ÊòØÂ∞Ü HTTP Â∞ÅË£ÖÂà∞ÂÆâÂÖ®ÂçèËÆÆ SSL Êàñ TLS ‰∏≠„ÄÇ<br>Ëøô‰∏§ÁßçÂÆâÂÖ®ÂçèËÆÆÂ≠òÂú®‰∏çÂêåÁöÑÁâàÊú¨ÔºåÂÖ∂‰∏≠‰∏Ä‰∫õË¢´ËÆ§‰∏∫ÊòØËæÉÂº±ÁöÑ„ÄÇËá™‚ÄúPOODLE‚ÄùÊºèÊ¥û‰ª•Êù•ÔºåSSL V2 Â∑≤ËøáÊó∂ÔºåSSL V3 ‰πüÂ∑≤ËøáÊó∂„ÄÇÔºàÊÑüÂÖ¥Ë∂£ÁöÑÂêåÂ≠¶ÂèØ‰ª•Ëá™Ë°åÁôæÂ∫¶Ôºâ<br>‰ΩøÁî®ÔºöTLS v1.0„ÄÅv1.1„ÄÅv1.2</p>\n<p>Ê≠§Â§ñÔºåSSLÂíåTLS‰ΩøÁî®‰∏çÂêåÁöÑÂä†ÂØÜÁÆóÊ≥ï„ÄÇËøô‰∫õÁÆóÊ≥ïÂú®ÈÄö‰ø°ËøáÁ®ã‰∏≠‰ΩøÁî®Ôºå‰ΩøÁî®Âì™ÁßçÁÆóÊ≥ïÂèñÂÜ≥‰∫éÊúçÂä°Âô®ÂíåÊµèËßàÂô®Êé•ÂèóÁöÑÁÆóÊ≥ï„ÄÇ<br>ÈöèÁùÄÊó∂Èó¥ÁöÑÊé®ÁßªÔºåÂÖ∂‰∏≠‰∏Ä‰∫õÁÆóÊ≥ï‰ºöÂèòÂæóÂæàÂº±ÔºåÂøÖÈ°ªÂÅúÁî®Ôºö<br>‰æãÂ¶ÇÔºåÊàë‰ª¨ÂèØ‰ª•ÊèêÂà∞ÂØÜÈí•Â§ßÂ∞è‰Ωé‰∫é 128 ‰ΩçÁöÑÊâÄÊúâÂØÜÁ†ÅÂíå RC4 ÁÆóÊ≥ï„ÄÇ</p>\n<p>Âõ†Ê≠§ÔºåÊúâÂøÖË¶Å‰ΩøÁ≥ªÁªü‰øùÊåÅÊúÄÊñ∞ÔºåÁâπÂà´ÊòØ Web ÊúçÂä°Âô®ÁöÑ HTTPS ÈÖçÁΩÆ„ÄÇ</p>\n<h2 id=\"client-hello\"><a href=\"#client-hello\" class=\"headerlink\" title=\"client hello\"></a>client hello</h2><p>‰∏ãÈù¢ÊòØÊàë‰ª¨ÈÄöËøáwiresharÊäìÂåÖÊü•ÁúãÂÆ¢Êà∑Á´ØÊîØÊåÅÁöÑÂØÜÁ†ÅÂ•ó‰ª∂<br><img src=\"/images/https/cipher-suites.png\" alt=\"ÂÆ¢Êà∑Á´ØÊîØÊåÅÁöÑÂØÜÁ†ÅÂ•ó‰ª∂\"></p>\n<h2 id=\"server-hello\"><a href=\"#server-hello\" class=\"headerlink\" title=\"server hello\"></a>server hello</h2><p>ÂÆ¢Êà∑Á´Ø‰∏éÊúçÂä°Á´ØÂçèÂïÜÂØÜÁ†ÅÂ•ó‰ª∂, ‰∏ªË¶ÅÊòØ‰ªéÂÆ¢Êà∑Á´ØÊîØÊåÅÁöÑÂä†ÂØÜÊñπÂºè‰∏≠ÈÄâÊã©‰∏Ä‰∏™ÂêàÈÄÇÁöÑÂëäËØâÂÆ¢Êà∑Á´Ø„ÄÇ<br><img src=\"/images/https/negotiated-cipher-suite.png\" alt=\"ÂçèÂïÜÂØÜÁ†ÅÂ•ó‰ª∂\"></p>\n<h2 id=\"ËØ•ÂØÜÁ†Å‰∏≤ÁöÑÂê´‰πâ\"><a href=\"#ËØ•ÂØÜÁ†Å‰∏≤ÁöÑÂê´‰πâ\" class=\"headerlink\" title=\"ËØ•ÂØÜÁ†Å‰∏≤ÁöÑÂê´‰πâ\"></a>ËØ•ÂØÜÁ†Å‰∏≤ÁöÑÂê´‰πâ</h2><p>ECDHEÔºöÂØÜÈí•‰∫§Êç¢ÁÆóÊ≥ï<br>ECDSAÔºöË∫´‰ªΩÈ™åËØÅ<br>AES_128_CBCÔºöÁî®‰∫éÊ∂àÊÅØÂä†ÂØÜÁöÑÊâπÈáèÂØÜÁ†Å<br>SHAÔºöMAC ÁÆóÊ≥ï</p>\n<h1 id=\"Âú®-Web-ÊúçÂä°Âô®‰∏äÂÆâË£Ö-HTTPS\"><a href=\"#Âú®-Web-ÊúçÂä°Âô®‰∏äÂÆâË£Ö-HTTPS\" class=\"headerlink\" title=\"Âú® Web ÊúçÂä°Âô®‰∏äÂÆâË£Ö HTTPS\"></a>Âú® Web ÊúçÂä°Âô®‰∏äÂÆâË£Ö HTTPS</h1><p>ÂØπ‰∫é‰∏çÂêåÁ±ªÂûãÁöÑÊúçÂä°Âô®ÔºåÂú® Web ÊúçÂä°Âô®‰∏äÈÖçÁΩÆ HTTPS Áõ∏ÂØπÁÆÄÂçïÔºåÂπ∂‰∏îÊúâËØ¶ÁªÜÁöÑÊñáÊ°£ËÆ∞ÂΩï„ÄÇ</p>\n<p>ËÆæÁΩÆÁöÑ‰∏ªË¶ÅÊ≠•È™§ÊòØÔºö</p>\n<ul>\n<li>ÂêëËØÅ‰π¶È¢ÅÂèëÊú∫ÊûÑËÆ¢Ë¥≠ SSL ËØÅ‰π¶</li>\n<li>Âú® Web ÊúçÂä°Âô®‰∏≠ÂÆâË£ÖËØÅ‰π¶ÔºàË¶ÅÂ§çÂà∂Âà∞ÊúçÂä°Âô®ÁöÑÊñá‰ª∂Ôºâ</li>\n<li>ÈÖçÁΩÆÁΩëÁªúÊúçÂä°Âô®</li>\n</ul>\n<p>ÊúçÂä°Âô®ÁöÑÈÖçÁΩÆÂèØËÉΩÂåÖÊã¨Ôºö</p>\n<ul>\n<li>ËØÅ‰π¶ÁªëÂÆöÁöÑIPÂú∞ÂùÄ-Á´ØÂè£&#x2F;ÂüüÂêç</li>\n<li>ÊøÄÊ¥ªÂçèËÆÆÁöÑÈÖçÁΩÆÔºàTLS&#x2F;SSLÔºâ</li>\n<li>ÁÆóÊ≥ïÂíåÂØÜÁ†ÅÂØÜÈí•Â§ßÂ∞èÁöÑÈÖçÁΩÆÔºàÂØÜÁ†ÅÂ•ó‰ª∂Ôºâ</li>\n</ul>\n<figure class=\"highlight nginx\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"section\">server</span> &#123;</span><br><span class=\"line\">    <span class=\"attribute\">listen</span> <span class=\"number\">443</span> ssl;</span><br><span class=\"line\">    <span class=\"attribute\">server_name</span> xxx;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"attribute\">ssl_certificate</span> /cert/xxx.crt;</span><br><span class=\"line\">    <span class=\"attribute\">ssl_certificate_key</span> /cert/xxx.key;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"section\">location</span> / &#123;</span><br><span class=\"line\">        <span class=\"attribute\">proxy_pass</span> http://localhost:4000;</span><br><span class=\"line\">        <span class=\"attribute\">proxy_set_header</span> Host <span class=\"variable\">$host</span>;</span><br><span class=\"line\">        <span class=\"attribute\">proxy_set_header</span> X-Real-IP <span class=\"variable\">$remote_addr</span>;</span><br><span class=\"line\">        <span class=\"attribute\">proxy_set_header</span> X-Forwarded-For <span class=\"variable\">$proxy_add_x_forwarded_for</span>;</span><br><span class=\"line\">        <span class=\"attribute\">proxy_set_header</span> X-Forwarded-Proto <span class=\"variable\">$scheme</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>ÂèØ‰ª•Âú®‰∏ãÈù¢ÊâæÂà∞ËØ¶ÁªÜËØ¥ÊòéÂ¶Ç‰ΩïÂú®‰∏â‰∏™‰∏ªË¶Å Web ÊúçÂä°Âô®‰∏äÂÆâË£Ö SSL ÁöÑÊñáÊ°£ÈìæÊé•Ôºö<br>ApacheÔºö  <a href=\"https://wiki.apache.org/httpd/SSL\">https://wiki.apache.org/httpd/SSL</a><br>IISÔºö <a href=\"http://www.iis.net/learn/manage/configuring-security/how-to-set-up-ssl-on-iis\">http://www.iis.net/learn/manage/configuring-security/how-to-set-up-ssl-on-iis</a><br>NginxÔºö <a href=\"http://nginx.org/en/docs/http/configuring_https_servers.html\">http://nginx.org/en/docs/http/configuring_https_servers.html</a></p>\n<p>Mozilla ÂèëÂ∏É‰∫Ü‰∏Ä‰∏™Á´ôÁÇπÔºå‰Ω†ÂèØ‰ª•Âú®ÂÖ∂‰∏≠ÁîüÊàêÂÆâÂÖ®ÁöÑ HTTPS ÈÖçÁΩÆÔºö</p>\n<p><a href=\"https://mozilla.github.io/server-side-tls/ssl-config-generator/\">Mozilla SSL ÈÖçÁΩÆÁîüÊàêÂô®</a></p>\n<h1 id=\"‰øùÊåÅ-HTTPS-Êõ¥Êñ∞‰∏∫ÊúÄÊñ∞\"><a href=\"#‰øùÊåÅ-HTTPS-Êõ¥Êñ∞‰∏∫ÊúÄÊñ∞\" class=\"headerlink\" title=\"‰øùÊåÅ HTTPS Êõ¥Êñ∞‰∏∫ÊúÄÊñ∞\"></a>‰øùÊåÅ HTTPS Êõ¥Êñ∞‰∏∫ÊúÄÊñ∞</h1><p>HTTPS ÈÖçÁΩÆ‰∏çÊòØ‰∏ÄÊ¨°ÊÄß‰∫ã‰ª∂„ÄÇÂÆâË£ÖÂêéÔºåÂøÖÈ°ª‰øùÊåÅÂÖ∂ÈÖçÁΩÆÊúÄÊñ∞„ÄÇ<br>ÂæàÂ§öbugÈÉΩ‰ºöÂΩ±Âìç‰∏Ä‰∫õËæÉ‰ΩéÁâàÊú¨ÁöÑopenSSLÂ∫ì(‰æãÂ¶Ç<a href=\"https://baike.baidu.com/item/Heartbleed/13580882\">Heartbleed</a>), Á≥ªÁªüÊõ¥Êñ∞ÂèØ‰ª•Â∏ÆÂä©ÈÅøÂÖç‰∏Ä‰∫õ‰∏é HTTPS ‰ΩøÁî®Áõ¥Êé•Áõ∏ÂÖ≥ÁöÑÊºèÊ¥û„ÄÇ</p>\n<p>Ê≠§Â§ñÔºåÊúâÂøÖË¶ÅÈöèÊó∂‰∫ÜËß£‰∏çÂêåÂçèËÆÆÂíåÂØÜÁ†ÅÂ•ó‰ª∂ÁöÑÂÆâÂÖ®ÊÄß„ÄÇËøôÈáåÁöÑÁõÆÊ†áÊòØÂú®Êüê‰∫õÊó∂ÂÄôË¢´ËÆ§‰∏∫ËæÉÂº±ÁöÑÊÉÖÂÜµ‰∏ãÂÅúÁî®ÂÖ∂‰∏≠‰∏Ä‰∫õ„ÄÇ</p>\n<p>ÊúÄÂêé‰∏ÄÁÇπ‰πüÊòØÂæàÈáçË¶ÅÁöÑÔºå‰πüÊòØÂæàÊòéÊòæ‰ΩÜÁªèÂ∏∏Ë¢´ÈÅóÂøòÁöÑÔºöËØÅ‰π¶ËøáÊúü„ÄÇ‰∏ÄÊó¶ËØÅ‰π¶ËøáÊúüÔºåÁΩëÁªúÊµèËßàÂô®Â∞ÜÊòæÁ§∫ÈùûÂ∏∏ÂÖ∑ÊúâÂäùÈòªÊÄßÁöÑÂÆâÂÖ®Ë≠¶Êä•ÔºåÈºìÂä±Áî®Êà∑Á¶ªÂºÄÁΩëÁ´ô„ÄÇ</p>\n<p>Áõ∏‰ø°Â§ßÂÆ∂Âú®ÊµèËßàÁΩëÁ´ôÁöÑÊó∂ÂÄôÈÅáÂà∞ËøáËøôÊ†∑ÁöÑÊÉÖÂÜµ<br><img src=\"/images/https/expire.png\" alt=\"ËøáÊúü\"></p>\n<h1 id=\"HTTPS-‰∏çÂÅö‰ªÄ‰πà\"><a href=\"#HTTPS-‰∏çÂÅö‰ªÄ‰πà\" class=\"headerlink\" title=\"HTTPS ‰∏çÂÅö‰ªÄ‰πà\"></a>HTTPS ‰∏çÂÅö‰ªÄ‰πà</h1><p>‰∫∫‰ª¨ÂæàÂÆπÊòìËÆ§‰∏∫ HTTPS ÊòØ‰∏Ä‰∏™Á•ûÂ•áÁöÑ‰∫íËÅîÁΩëÂÆâÂÖ®Ëß£ÂÜ≥ÊñπÊ°àÔºå‰ΩÜÂÆÉËøòÊúâÂæàÂ§ö‰∏çËÉΩÂÅöÁöÑ‰∫ãÊÉÖ„ÄÇ</p>\n<h2 id=\"HTTPS-‰∏ç‰ºöÔºö\"><a href=\"#HTTPS-‰∏ç‰ºöÔºö\" class=\"headerlink\" title=\"HTTPS ‰∏ç‰ºöÔºö\"></a>HTTPS ‰∏ç‰ºöÔºö</h2><ol>\n<li>ÈöêËóè‰Ω†Ê≠£Âú®ËÆøÈóÆÁöÑÁΩëÁ´ôÁöÑÂêçÁß∞</li>\n</ol>\n<p>ËøôÊòØÂõ†‰∏∫ÁΩëÁ´ôÁöÑÂêçÁß∞ÔºàÂèàÂêç‚ÄúÂüü‚ÄùÔºâÊòØ‰ΩøÁî® DNSÔºàÂüüÂêçÊúçÂä°ÔºâÂèëÈÄÅÁöÑÔºåËÄå DNS ‰∏çÂú® HTTPS ÈößÈÅìÂÜÖ„ÄÇÂÆÉÂú®Âª∫Á´ãÂÆâÂÖ®ËøûÊé•‰πãÂâçÂèëÈÄÅ„ÄÇ‰∏≠Èó¥ÁöÑÁ™ÉÂê¨ËÄÖÂèØ‰ª•ÁúãÂà∞‰Ω†Ë¶ÅËÆøÈóÆÁöÑÁΩëÁ´ôÁöÑÂêçÁß∞Ôºà‰æãÂ¶Ç TipTopSecurity.comÔºâÔºå‰ªñ‰ª¨Âè™ÊòØÊó†Ê≥ïËØªÂèñÊù•Âõû‰º†ËæìÁöÑ‰ªª‰ΩïÂÆûÈôÖÂÜÖÂÆπ„ÄÇÁõ¥Âà∞DNSSECÂÆåÂÖ®ÂÆûÊñΩÂêéÔºåËøôÁßçÊÉÖÂÜµÊâç‰ºöÊîπÂèò„ÄÇ</p>\n<ol start=\"2\">\n<li>‰øùÊä§‰Ω†ÂÖçÂèóËÆøÈóÆÈÇ™ÊÅ∂ÁΩëÁ´ôÁöÑ‰æµÂÆ≥</li>\n</ol>\n<p>HTTPS ‰∏çËÉΩÁ°Æ‰øùÁΩëÁ´ôÊú¨Ë∫´ÁöÑÂÆâÂÖ®„ÄÇ‰ªÖ‰ªÖÂõ†‰∏∫‰Ω†ÂÆâÂÖ®ËøûÊé•Âπ∂‰∏çÊÑèÂë≥ÁùÄ‰Ω†Ê≤°ÊúâËøûÊé•Âà∞Áî±Âùè‰∫∫ËøêË°åÁöÑÁΩëÁ´ô„ÄÇÊàë‰ª¨Â∞ùËØïÈÄöËøáÂèó‰ø°‰ªªÁöÑËØÅ‰π¶È¢ÅÂèëÊú∫ÊûÑÊù•Ëß£ÂÜ≥Ê≠§ÈóÆÈ¢òÔºå‰ΩÜËØ•Á≥ªÁªüÂπ∂‰∏çÂÆåÁæéÔºàËØ∑ÁªßÁª≠ÂÖ≥Ê≥®ÊúâÂÖ≥Ê≠§ÊñπÈù¢ÁöÑÊõ¥Â§ö‰ø°ÊÅØÔºâ„ÄÇ</p>\n<ol start=\"3\">\n<li>Êèê‰æõÂåøÂêç</li>\n</ol>\n<p>HTTPS ‰∏ç‰ºöÈöêËóè‰Ω†ÁöÑÁâ©ÁêÜ‰ΩçÁΩÆÊàñ‰∏™‰∫∫Ë∫´‰ªΩ„ÄÇ‰Ω†ÁöÑ‰∏™‰∫∫ IP Âú∞ÂùÄÔºà‰Ω†Âú®‰∫íËÅîÁΩë‰∏äÁöÑÂú∞ÂùÄÔºâÂøÖÈ°ªÈôÑÂä†Âà∞Âä†ÂØÜÊï∞ÊçÆÁöÑÂ§ñÈÉ®ÔºåÂõ†‰∏∫Â¶ÇÊûú‰Ω†ÁöÑ IP Âú∞ÂùÄ‰πüË¢´Âä†ÂØÜÔºå‰∫íËÅîÁΩëÂ∞Ü‰∏çÁü•ÈÅìÂ∞ÜÂÖ∂ÂèëÈÄÅÂà∞Âì™Èáå„ÄÇËÄå‰∏îÂÆÉ‰πü‰∏ç‰ºöÂú®‰Ω†Ê≠£Âú®ËÆøÈóÆÁöÑÁΩëÁ´ô‰∏äÈöêËóè‰Ω†ÁöÑË∫´‰ªΩ„ÄÇ‰Ω†ËÆøÈóÆÁöÑÁΩëÁ´ô‰ªçÁÑ∂‰∫ÜËß£‰Ω†ÁöÑ‰∏ÄÂàáÔºåÂ∞±ÂÉèÂú®ÈùûÂÆâÂÖ®ËøûÊé•‰∏ä‰∏ÄÊ†∑„ÄÇ</p>\n<ol start=\"4\">\n<li>Èò≤Ê≠¢‰Ω†ÊÑüÊüìÁóÖÊØí</li>\n</ol>\n<p>HTTPS ‰∏çÊòØËøáÊª§Âô®„ÄÇÊúâÂèØËÉΩÈÄöËøá HTTPS ËøûÊé•Êé•Êî∂ÁóÖÊØíÂíåÂÖ∂‰ªñÊÅ∂ÊÑèËΩØ‰ª∂„ÄÇÂ¶ÇÊûú Web ÊúçÂä°Âô®Ë¢´ÊÑüÊüìÊàñËÄÖ‰Ω†ÊâÄÂú®ÁöÑÊÅ∂ÊÑèÁΩëÁ´ôÊ≠£Âú®ÂàÜÂèëÊÅ∂ÊÑèËΩØ‰ª∂ÔºåÂàôËØ•ÊÅ∂ÊÑèËΩØ‰ª∂Â∞ÜÂÉèÂÖ∂‰ªñÊâÄÊúâÂÜÖÂÆπ‰∏ÄÊ†∑Âú® HTTPS ÊµÅ‰∏≠ÂèëÈÄÅ„ÄÇÁÑ∂ËÄåÔºå HTTPSÁ°ÆÂÆûÂèØ‰ª•Èò≤Ê≠¢‰∏≠Èó¥ÁöÑ‰ªª‰Ωï‰∫∫Â∞ÜÊÅ∂ÊÑèËΩØ‰ª∂Ê≥®ÂÖ•Âà∞‰Ω†ÁöÑÁßªÂä®ÊµÅÈáè‰∏≠„ÄÇ</p>\n<ol start=\"5\">\n<li>‰øùÊä§‰Ω†ÁöÑËÆ°ÁÆóÊú∫ÂÖçÈÅ≠ÈªëÂÆ¢ÊîªÂáª</li>\n</ol>\n<p>HTTPS ‰ªÖ‰øùÊä§Âú®‰Ω†ÁöÑËÆ°ÁÆóÊú∫Âíå Web ÊúçÂä°Âô®‰πãÈó¥ÁßªÂä®ÁöÑÊï∞ÊçÆ„ÄÇÂÆÉ‰∏ç‰ºö‰∏∫‰Ω†ÁöÑÂÆûÈôÖËÆ°ÁÆóÊú∫ÊàñÊúçÂä°Âô®Êú¨Ë∫´Êèê‰æõ‰ªª‰Ωï‰øùÊä§„ÄÇËøô‰πüÊÑèÂë≥ÁùÄÔºåÂ¶ÇÊûúÊúâÊÅ∂ÊÑèËΩØ‰ª∂Ê≠£Âú®ÁõëËßÜËøûÊé•‰∏ÄÁ´ØÁöÑÊµÅÈáèÔºåÂÆÉÂ∞±ÂèØ‰ª•ËØªÂèñ HTTPS ÊµÅ‰∏≠Âä†ÂØÜ‰πãÂâçÂíå‰πãÂêéÁöÑÊµÅÈáè„ÄÇ</p>\n<p>Êõ¥Â§ö‰∏ÄÊâãËÆØÊÅØÔºåÂèØÂÖ≥Ê≥®ÂÖ¨‰ºóÂè∑Ôºö<a href=\"https://myom-dev.oss-cn-hangzhou.aliyuncs.com/WechatPublicPlatformQrCode.jpg\">ITProHub</a></p>\n<p><img src=\"https://myom-dev.oss-cn-hangzhou.aliyuncs.com/WechatPublicPlatformQrCode.jpg\" alt=\"ITProHub\"></p>\n"},{"title":"RedisÊàêÈïøËÆ∞ - RedisÁöÑÈô∑Èò±Ôºà‰∏ÄÔºâ","date":"2024-04-18T07:09:28.000Z","_content":"Áõ∏‰ø°ÂæàÂ§öËÄÅÈìÅÂú®Ê±ÇËÅåËøáÁ®ã‰∏≠ÈÉΩÁúãÂà∞ËøáÁ±ª‰ºº‰∏ãÈù¢ËøôÊ†∑ÁöÑ‰ªªËÅåË¶ÅÊ±Ç\n\n<img src=\"/images/redis-interview/recruitment.png\" width=\"50%\">\n\n‰Ω†Áî≥ËØ∑ÁöÑÂ≤ó‰Ωç‰∏äÈù¢ÂÜôÁùÄ‚ÄùÁÜüÊÇâRedis‚ÄùÔºåÈÇ£‰πà‰Ω†Â∑≤ÁªèÂáÜÂ§áÂ•ΩÂõûÁ≠îÈù¢ËØïÂÆòÂèØËÉΩ‰ºöÈóÆÂà∞ÁöÑÈóÆÈ¢ò‰∫Ü‰πàÔºü\nÂêéÈù¢ÊàëÂ∞ÜÂºÄÂêØ‰∏Ä‰∏™ÈíàÂØπRedisÁöÑÁ≥ªÂàóÂàÜ‰∫´ÔºåÂ∏åÊúõËÉΩÂ∏ÆÂä©ÂàöÂàöÂºÄÂßãÂ≠¶‰π†RedisÁöÑÊúãÂèã‰ª¨„ÄÇ\n\nÂú®ÂºÄÂßãÈòÖËØªÊú¨ÁØáÊñáÁ´†‰πãÂâçÔºåÈªòËÆ§‰Ω†Â∑≤ÁªèÂÖ∑Â§áÂü∫Á°ÄÁöÑRedisÁü•ËØÜÔºåÂ¶ÇÊûú‰Ω†Ê≤°ÊúâÔºåÂèØ‰ª•ÂÖàÈòÖËØªÊñáÊú´[Áõ∏ÂÖ≥ÊñáÁ´†Êé®Ëçê](#References)\n\n\nÂΩì‰ΩøÁî® Redis ‰Ωú‰∏∫ÁºìÂ≠òÊàñÊï∞ÊçÆÂ≠òÂÇ®Êó∂ÔºåËôΩÁÑ∂ÂÆÉÊèê‰æõ‰∫ÜÈ´òÊÄßËÉΩÂíåÁÅµÊ¥ªÊÄßÔºå‰ΩÜ‰πüÂ≠òÂú®‰∏Ä‰∫õÈô∑Èò±ÈúÄË¶ÅÊ≥®ÊÑè„ÄÇ‰πãÂâçÁúãÂçöÂÆ¢ÁöÑÊó∂ÂÄôÁúãÂà∞ËøáËøôÊ†∑‰∏ÄÂè•ËØù‚ÄùExperts aren‚Äôt the only people who know what to do. They‚Äôre the people who know what not to do.‚Äú ‰∏ìÂÆ∂Âπ∂‰∏çÊòØÂîØ‰∏ÄÁü•ÈÅìÂ¶Ç‰ΩïÂÅöÁöÑ‰∫∫Ôºå‰ªñ‰ª¨Âè™ÊòØÁü•ÈÅìÂ¶Ç‰ΩïÈÅøÂÖç‰∏Ä‰∫õÈô∑Èò±„ÄÇ\n\n‰∏ãÈù¢ËÆ≤ËØâÁöÑÊòØ‰∏Ä‰∫õÂ∏∏ËßÅÁöÑ Redis Èô∑Èò±ÔºåÊàñËÄÖËØ¥ÂÆπÊòìÂøΩÁï•ÁöÑÈóÆÈ¢ò„ÄÇÂÜÖÂÆπËæÉÂ§öÔºåÂèØËÉΩ‰ºöÂàÜÂ§öÁØáÊñáÁ´†ÔºåÂ∞ΩÊÉÖÊúüÂæÖ„ÄÇ\nÂêåÊó∂Áî±‰∫éË¶ÅËÆ≤ÁöÑÂÜÖÂÆπÂÆûÂú®ÊòØÂ§™Â§öÔºåÊâÄ‰ª•Êú¨ÊñáÊõ¥Â§öÁöÑÂè™ÊòØËµ∑Âà∞‚ÄùÊäõÁ†ñ‚ÄúÁöÑ‰ΩúÁî®ÔºåÊõ¥Â§öÁöÑËØ¶ÁªÜÁöÑÂÜÖÂÆπËøòÈúÄË¶ÅËÄÅÈìÅ‰ª¨Ëá™Â∑±ÂÜçÊ∑±Â±ÇÊ¨°ÁöÑÂéªÂ≠¶‰π†„ÄÇ\n\n# ÁºìÂ≠òÁ©øÈÄè\nÁºìÂ≠òÁ©øÈÄèÊåáÁöÑÊòØÊÅ∂ÊÑèËØ∑Ê±ÇÊàñËÄÖÂ§ßÈáè‰∏çÂ≠òÂú®ÁöÑ key ÂØºËá¥ÁºìÂ≠òÊó†Ê≥ïÂëΩ‰∏≠Ôºå‰ªéËÄåÁªïËøáÁºìÂ≠òÁõ¥Êé•ËÆøÈóÆÊï∞ÊçÆÂ∫ìÔºåÂØºËá¥Êï∞ÊçÆÂ∫ìÂéãÂäõËøáÂ§ßÔºåÁîöËá≥ÂÆïÊú∫ÁöÑÊÉÖÂÜµ„ÄÇ\n\n![ÁºìÂ≠òÁ©øÈÄè](/images/redis-interview/cache-penetration.png)\n\n## ÁºìÂ≠òÁ©øÈÄèÁöÑÂéüÂõ†\nÁºìÂ≠òÁ©øÈÄèÈÄöÂ∏∏ÂèëÁîüÂú®‰ª•‰∏ãÊÉÖÂÜµ‰∏ãÔºö\n\n1. ÊÅ∂ÊÑèËØ∑Ê±ÇÔºöÊîªÂáªËÄÖÂèëÈÄÅÂ§ßÈáè‰∏çÂ≠òÂú®‰∫éÁºìÂ≠ò‰∏≠ÁöÑ keyÔºåÂØºËá¥ÁºìÂ≠òÊó†Ê≥ïÂëΩ‰∏≠ÔºåÁõ¥Êé•ËÆøÈóÆÊï∞ÊçÆÂ∫ì„ÄÇ\n2. Â§ßÈáèÂπ∂ÂèëÊü•ËØ¢ÔºöÂΩìÂπ∂ÂèëÊü•ËØ¢ÈáèÂæàÂ§ßÊó∂ÔºåÂèØËÉΩ‰ºöÂá∫Áé∞Â§ßÈáè‰∏çÂ≠òÂú®‰∫éÁºìÂ≠ò‰∏≠ÁöÑ keyÔºå‰ªéËÄåÂØºËá¥ÁºìÂ≠òÁ©øÈÄè„ÄÇ\n\n## ÁºìÂ≠òÁ©øÈÄèÁöÑÂΩ±Âìç\n+ Êï∞ÊçÆÂ∫ìÂéãÂäõËøáÂ§ßÔºöÂ§ßÈáèÊó†ÊïàËØ∑Ê±ÇÁõ¥Êé•ËÆøÈóÆÊï∞ÊçÆÂ∫ìÔºåÂØºËá¥Êï∞ÊçÆÂ∫ìÂéãÂäõËøáÂ§ßÔºåÁîöËá≥ÂØºËá¥Êï∞ÊçÆÂ∫ìÂÆïÊú∫„ÄÇ\n+ Á≥ªÁªüÊÄßËÉΩ‰∏ãÈôçÔºöÊï∞ÊçÆÂ∫ìÂéãÂäõÂ¢ûÂ§ßÔºåÂèØËÉΩÂØºËá¥Á≥ªÁªüÂìçÂ∫îÂèòÊÖ¢ÔºåÂΩ±ÂìçÁî®Êà∑‰ΩìÈ™å„ÄÇ\n\n## ÁºìÂ≠òÁ©øÈÄèÁöÑËß£ÂÜ≥ÊñπÊ≥ï\n1. Á©∫ÂØπË±°ÁºìÂ≠òÔºöÂΩìÊü•ËØ¢ÁªìÊûú‰∏∫Á©∫Êó∂Ôºå‰πüÂ∞ÜËØ•Á©∫ÁªìÊûúÁºìÂ≠òËµ∑Êù•Ôºå‰ΩÜËÆæÁΩÆ‰∏Ä‰∏™ËæÉÁü≠ÁöÑËøáÊúüÊó∂Èó¥ÔºåÈò≤Ê≠¢ÊîªÂáªËÄÖÂà©Áî®ÁºìÂ≠òÁ©øÈÄèÈóÆÈ¢ò„ÄÇ\n2. Â∏ÉÈöÜËøáÊª§Âô®ÔºöÂú®ÁºìÂ≠òÂ±Ç‰πãÂâçÂ¢ûÂä†Â∏ÉÈöÜËøáÊª§Âô®ÔºåÁî®‰∫éÂø´ÈÄüËøáÊª§Êéâ‰∏çÂ≠òÂú®‰∫éÁºìÂ≠ò‰∏≠ÁöÑ keyÔºå‰ªéËÄåÈÅøÂÖçÁºìÂ≠òÁ©øÈÄè„ÄÇ\n3. ÁÉ≠ÁÇπÊï∞ÊçÆÈ¢ÑÁÉ≠ÔºöÂ∞ÜÁÉ≠ÁÇπÊï∞ÊçÆÊèêÂâçÂä†ËΩΩÂà∞ÁºìÂ≠ò‰∏≠ÔºåÊèêÈ´òÂëΩ‰∏≠ÁéáÔºåÂáèÂ∞ëÁºìÂ≠òÁ©øÈÄèÁöÑÂèëÁîü„ÄÇ\n4. ÈôêÊµÅÊéßÂà∂ÔºöÂØπ‰∫éÈ¢ëÁπÅÊü•ËØ¢ÁöÑÊé•Âè£ÔºåÂèØ‰ª•ËøõË°åÈôêÊµÅÊéßÂà∂ÔºåÈò≤Ê≠¢ÊîªÂáªËÄÖÂèëËµ∑Â§ßÈáèÊó†ÊïàËØ∑Ê±Ç„ÄÇ\n5. ‰ΩøÁî®ÁºìÂ≠òÈîÅÔºöÂú®Êü•ËØ¢Êï∞ÊçÆÂ∫ìÊó∂Ôºå‰ΩøÁî®ÁºìÂ≠òÈîÅËøõË°å‰∏≤Ë°åÂåñÂ§ÑÁêÜÔºåÈò≤Ê≠¢Â§ßÈáèÂπ∂ÂèëÊü•ËØ¢ÂØºËá¥ÁºìÂ≠òÁ©øÈÄè„ÄÇ\n\n‰∏ãÈù¢ÊòØ‰∏Ä‰∏™‰ΩøÁî® C# Á©∫ÂØπË±°ÁºìÂ≠òÁöÑÁ§∫‰æã‰ª£Á†ÅÔºö\n\n```C#\npublic class UserBll\n{\n    public static readonly int CACHE_NULL_TTL = 10;\n    public static readonly int CACHE_TTL = 20;\n    /** \n     * ÁºìÂ≠òÁ©øÈÄè* \n     * @param id \n     * @ return \n     */\n    public WebUserInfo QueryUser(string key)\n    {\n        var redis = Redis.GetDatabase(0);\n        // 1.‰ªéredis‰∏≠Êü•ËØ¢storeÁºìÂ≠ò\n        String value = redis.StringGet(key);\n        WebUserInfo user = null;\n        // 2.Âà§Êñ≠ÊòØÂê¶Â≠òÂú®\n        if( value.HasValue() ) {\n            user = value.FromJson<WebUserInfo>();\n            // 3.Â≠òÂú®ÔºåÁõ¥Êé•ËøîÂõû\n            return user;\n        }\n        // Âà§Êñ≠ÂëΩ‰∏≠ÊòØÂê¶‰∏∫Á©∫ÂÄº\n        if ( value == null) {\n            // ËøîÂõûÈîôËØØ‰ø°ÊÅØ\n            return null;\n        }\n        // 4.‰∏çÂ≠òÂú®ÔºåÊ†πÊçÆidÊü•ËØ¢Êï∞ÊçÆÂ∫ì\n        user = DatabaseQuery(key);\n        // 5. ‰∏çÂ≠òÂú®ÔºåËøîÂõûÈîôËØØ\n        if( user == null ) {\n            // ÂêëredisÂÜôÂÖ•Á©∫ÂÄºÔºàÁºìÂ≠òÁ©øÈÄèÔºâ\n            redis.StringSet(key, \"\", new TimeSpan(0, CACHE_NULL_TTL, 0));\n            return null;\n        }\n        // 6.Â≠òÂú®ÔºåÂÜôÂÖ•redis\n        redis.StringSet(key, user.ToJson(), new TimeSpan(0, CACHE_TTL, 0));\n        // 7. ËøîÂõû\n        return user;\n}\n\n\n    public WebUserInfo DatabaseQuery(string key)\n    {\n        // Ê®°Êãü‰ªéÊï∞ÊçÆÂ∫ì‰∏≠Êü•ËØ¢Êï∞ÊçÆ\n        // ÂÆûÈôÖÊÉÖÂÜµ‰∏ãÔºåËøôÈáåÂèØ‰ª•ÊòØËÆøÈóÆÊï∞ÊçÆÂ∫ì„ÄÅË∞ÉÁî®Â§ñÈÉ® API Á≠âÊìç‰Ωú\n        // ËøôÈáåÁÆÄÂåñ‰∏∫ËøîÂõû null\n        return null;\n    }\n\n\n}\n\nclass Program\n{\n    static void Main(string[] args)\n    {\n        UserBll cache = new UserBll();\n\n        // Á¨¨‰∏ÄÊ¨°Êü•ËØ¢ÔºåÁºìÂ≠ò‰∏≠‰∏çÂ≠òÂú®Ôºå‰ΩÜÊòØÊü•ËØ¢ÁªìÊûú‰∏∫Á©∫\n        string result1 = cache.QueryUser(\"key1\");\n        Console.WriteLine(\"Result 1: \" + result1); // Output: Result 1: (null)\n\n        // Á¨¨‰∫åÊ¨°Êü•ËØ¢ÔºåÁºìÂ≠ò‰∏≠Â∑≤Â≠òÂú®Á©∫ÂØπË±°ÁºìÂ≠òÔºåÁõ¥Êé•ËøîÂõûÁ©∫ÂÄº\n        string result2 = cache.QueryUser(\"key1\");\n        Console.WriteLine(\"Result 2: \" + result2); // Output: Result 2: (null)\n\n        // Á¨¨‰∏âÊ¨°Êü•ËØ¢ÔºåÊ®°ÊãüÊï∞ÊçÆÂ∫ì‰∏≠Â≠òÂú®ÂØπÂ∫îÂÄºÁöÑÊÉÖÂÜµ\n        string result3 = cache.QueryUser(\"key2\");\n        Console.WriteLine(\"Result 3: \" + result3); // Output: Result 3: <value from database>\n    }\n}\n\n\n```\n‰∏äËø∞‰ª£Á†Å‰∏≠ÔºåÂΩìÁî®Êà∑ËØ∑Ê±Ç‰∏Ä‰∏™keyÊó∂ÔºåredisÂíåÊï∞ÊçÆÂ∫ìÈÉΩ‰∏çÂ≠òÂú®„ÄÇÊàë‰ª¨Áõ¥Êé•Â∞ÜkeyÂØπÂ∫îÁöÑnullÂÄºÁºìÂ≠òÂà∞redis‰∏≠ÔºåËøôÊ†∑‰∏ãÊ¨°Áî®Êà∑ÈáçÂ§çËØ∑Ê±ÇËøô‰∏™keyÁöÑÊó∂ÂÄôÔºåredisÂ∞±ÂèØ‰ª•ÂëΩ‰∏≠Ôºàhit nullÔºâÔºåÂè™ÊòØ‰∏ç‰ºöËØ¢ÈóÆÊï∞ÊçÆÂ∫ì\n- ‰ºòÁÇπÔºöÂÆûÁé∞ÁÆÄÂçïÔºåÊòì‰∫éÁª¥Êä§\n- Áº∫ÁÇπÔºöÈ¢ùÂ§ñÁöÑÂÜÖÂ≠òÊ∂àËÄóÔºàÂèØ‰ª•ÈÄöËøáÊ∑ªÂä†TTLÊù•Ëß£ÂÜ≥Ôºâ\n\nÂêåÊó∂ÂèØËÉΩ‰ºöÈÄ†ÊàêÁü≠ÊöÇÁöÑ‰∏ç‰∏ÄËá¥ÔºàÊéßÂà∂TTLÊó∂Èó¥ÂèØ‰ª•Âú®‰∏ÄÂÆöÁ®ãÂ∫¶‰∏äÁºìËß£Ôºâ„ÄÇÂΩìnullË¢´ÁºìÂ≠òÊó∂ÔºåÊàë‰ª¨Âè™ÊòØÂú®Êï∞ÊçÆÂ∫ì‰∏≠ËÆæÁΩÆÂÄºÔºåËÄåÁî®Êà∑query‰∏∫Á©∫Ôºå‰ΩÜÊï∞ÊçÆÂ∫ì‰∏≠ÂÆûÈôÖÂ≠òÂú®Ôºå‰ºöÈÄ†Êàê‰∏ç‰∏ÄËá¥ÔºàÂèØ‰ª•ÈÄöËøáÊèíÂÖ•Êï∞ÊçÆÊó∂Ëá™Âä®Ë¶ÜÁõñ‰πãÂâçÁöÑÁ©∫Êï∞ÊçÆÊù•Ëß£ÂÜ≥Ôºâ\n\n# ÁºìÂ≠òÈõ™Â¥©\nÁºìÂ≠òÈõ™Â¥©ÊåáÁöÑÊòØÂú®ÁºìÂ≠òÂ§±ÊïàÁöÑÁû¨Èó¥ÔºåÂ§ßÈáèÁöÑËØ∑Ê±ÇÂêåÊó∂Ê∂åÂÖ•Êï∞ÊçÆÂ∫ìÊàñÂÖ∂‰ªñÊï∞ÊçÆÊ∫êÔºåÂØºËá¥Êï∞ÊçÆÂ∫ìË¥üËΩΩÂâßÂ¢ûÔºåÁîöËá≥ÈÄ†ÊàêÊï∞ÊçÆÂ∫ìÂÆïÊú∫ÁöÑÊÉÖÂÜµ„ÄÇ\n\n![Cache Avalanche](/images/redis-interview/cache-avalanche.png)\n\n## ÁºìÂ≠òÈõ™Â¥©ÁöÑÂéüÂõ†\nÁºìÂ≠òÈõ™Â¥©ÈÄöÂ∏∏ÊòØÁî±‰∫éÁºìÂ≠ò‰∏≠ÁöÑÂ§ßÈáèÊï∞ÊçÆÂêåÊó∂Â§±ÊïàËÄåÂºïËµ∑ÁöÑ„ÄÇÂΩìÂ§ö‰∏™ÁºìÂ≠òÈîÆÂÖ∑ÊúâÁõ∏ÂêåÁöÑÂ§±ÊïàÊó∂Èó¥ÔºåÂπ∂‰∏îËøô‰∫õÁºìÂ≠òÈîÆÂèàÂú®Âêå‰∏ÄÊó∂Èó¥Â§±ÊïàÊó∂ÔºåÂ∞±‰ºöÂØºËá¥Â§ßÈáèËØ∑Ê±ÇÁõ¥Êé•ÂáªÁ©øÁºìÂ≠òÔºåÂêåÊó∂Ê∂åÂÖ•Êï∞ÊçÆÊ∫êÔºåÈÄ†ÊàêÁºìÂ≠òÈõ™Â¥©\n\n## ÁºìÂ≠òÈõ™Â¥©ÁöÑËß£ÂÜ≥ÊñπÊ°à\n### 1. ËÆæÁΩÆÈöèÊú∫ËøáÊúüÊó∂Èó¥\nÈÄöËøáÁªôÁºìÂ≠òÈîÆËÆæÁΩÆÈöèÊú∫ÁöÑËøáÊúüÊó∂Èó¥ÔºåÂèØ‰ª•ÊúâÊïàÂú∞ÂàÜÊï£ÁºìÂ≠òÂ§±ÊïàÁöÑÊó∂Èó¥ÁÇπÔºåÈôç‰ΩéÂ§ßÈáèÁºìÂ≠òÂêåÊó∂Â§±ÊïàÁöÑÂèØËÉΩÊÄßÔºå‰ªéËÄåÂáèËΩª‰∫ÜÁºìÂ≠òÈõ™Â¥©ÁöÑÈ£éÈô©„ÄÇ\n\n### 2. ‰ΩøÁî®Â§öÁ∫ßÁºìÂ≠òÁ≠ñÁï•\nÈááÁî®Â§öÁ∫ßÁºìÂ≠òÊû∂ÊûÑÔºåÂåÖÊã¨Êú¨Âú∞ÁºìÂ≠ò„ÄÅÂàÜÂ∏ÉÂºèÁºìÂ≠òÂíåÊåÅ‰πÖÂåñÂ≠òÂÇ®ÔºåÂΩì‰∏ªÁºìÂ≠òÂ§±ÊïàÊó∂ÔºåÂèØ‰ª•‰ªéÂ§áÁî®ÁºìÂ≠ò‰∏≠Ëé∑ÂèñÊï∞ÊçÆÔºåÈôç‰ΩéÂØπÊï∞ÊçÆÂ∫ìÁöÑÁõ¥Êé•ËÆøÈóÆ„ÄÇ\n\n### 3. ÈôêÊµÅÂíåÈôçÁ∫ß\nÂú®ÁºìÂ≠òÂ§±ÊïàÊúüÈó¥ÔºåÂèØ‰ª•ÂØπËØ∑Ê±ÇËøõË°åÈôêÊµÅÔºåÈôç‰ΩéËØ∑Ê±ÇÁöÑÂπ∂ÂèëÊï∞ÈáèÔºå‰ªéËÄåÂáèËΩª‰∫ÜÊï∞ÊçÆÂ∫ìÁöÑÂéãÂäõ„ÄÇÂêåÊó∂ÔºåÂèØ‰ª•ÂØπÈÉ®ÂàÜÈùûÂÖ≥ÈîÆËØ∑Ê±ÇËøõË°åÈôçÁ∫ßÂ§ÑÁêÜÔºåÊöÇÊó∂Â±èËîΩ‰∏Ä‰∫õÈùûÂøÖË¶ÅÁöÑÊúçÂä°Ôºå‰øùËØÅÊ†∏ÂøÉÊúçÂä°ÁöÑÁ®≥ÂÆöÊÄß„ÄÇ\n\n### 4. È¢ÑÁÉ≠ÁºìÂ≠ò\nÂú®Á≥ªÁªüÂêØÂä®Êàñ‰ΩéÂ≥∞ÊúüÔºåÈ¢ÑÂÖàÂä†ËΩΩÁºìÂ≠òÊï∞ÊçÆÔºåÊèêÂâçÂ∞ÜÂ∏∏Áî®Êï∞ÊçÆÁºìÂ≠òËµ∑Êù•ÔºåÈÅøÂÖçÂú®È´òÂ≥∞ÊúüÈó¥Â§ßÈáèËØ∑Ê±ÇÁõ¥Êé•ÂáªÁ©øÁºìÂ≠ò„ÄÇ\n\n# ÁºìÂ≠òÂáªÁ©ø\nÁºìÂ≠òÂáªÁ©øÊòØÊåáÊüê‰∏™ÁÉ≠ÁÇπkeyÁ™ÅÁÑ∂Â§±ÊïàÊàñËÄÖÊú™ÂëΩ‰∏≠ÔºåÂØºËá¥Â§ßÈáèËØ∑Ê±ÇÁõ¥Êé•ËÆøÈóÆÊï∞ÊçÆÂ∫ìÔºåÈÄ†ÊàêÊï∞ÊçÆÂ∫ìÂéãÂäõÂâßÂ¢ûÁöÑÁé∞Ë±°„ÄÇËøôÁßçÊÉÖÂÜµÈÄöÂ∏∏ÂèëÁîüÂú®ÂÖ∑ÊúâÈ´òÂπ∂ÂèëËÆøÈóÆÈáèÁöÑÁ≥ªÁªü‰∏≠ÔºåÁâπÂà´ÊòØÂú®ÁºìÂ≠òÁ≥ªÁªü‰∏≠‰ΩøÁî®‰∫ÜËæÉÁü≠ÁöÑËøáÊúüÊó∂Èó¥ÊàñËÄÖÁÉ≠ÁÇπÊï∞ÊçÆÁöÑËÆøÈóÆÈ¢ëÁéáÁ™ÅÁÑ∂Â¢ûÂä†Êó∂„ÄÇ\n\n![ÁºìÂ≠òÂáªÁ©ø](/images/redis-interview/cache-breakdown.png)\n\n1. ËÆæÁΩÆÁÉ≠ÁÇπÊï∞ÊçÆÊ∞∏‰∏çËøáÊúüÔºö ÂØπ‰∫é‰∏Ä‰∫õÁÉ≠ÁÇπÊï∞ÊçÆÔºåÂèØ‰ª•ËÆæÁΩÆÊ∞∏‰∏çËøáÊúüÔºåÊàñËÄÖËÆæÁΩÆËæÉÈïøÁöÑËøáÊúüÊó∂Èó¥Ôºå‰øùËØÅÂÖ∂‰∏ç‰ºöÂú®Áü≠Êó∂Èó¥ÂÜÖÂ§±ÊïàÔºå‰ªéËÄåÈÅøÂÖç‰∫ÜÁºìÂ≠òÂáªÁ©øÁöÑÂèëÁîü„ÄÇ\n2. Âä†ÈîÅÊú∫Âà∂Ôºö Âú®ÁºìÂ≠òÂ§±ÊïàÊó∂ÔºåÂèØ‰ª•ÈÄöËøáÂä†ÈîÅÊú∫Âà∂Á°Æ‰øùÂè™Êúâ‰∏Ä‰∏™Á∫øÁ®ãËÉΩÂ§üËøõÂÖ•Êï∞ÊçÆÂ∫ìÊü•ËØ¢Êï∞ÊçÆÔºåÂπ∂Â∞ÜÊü•ËØ¢ÁªìÊûúÊõ¥Êñ∞Âà∞ÁºìÂ≠ò‰∏≠ÔºåÈÅøÂÖç‰∫ÜÂ§ö‰∏™Á∫øÁ®ãÂêåÊó∂Êü•ËØ¢Êï∞ÊçÆÂ∫ìÁöÑÊÉÖÂÜµ„ÄÇ\n3. ‰ΩøÁî®‰∫íÊñ•ÈîÅÂíåÂàÜÂ∏ÉÂºèÈîÅÔºö ‰ΩøÁî®‰∫íÊñ•ÈîÅÊàñËÄÖÂàÜÂ∏ÉÂºèÈîÅÊù•‰øùËØÅÂú®Êü•ËØ¢Êï∞ÊçÆÂ∫ìÁöÑËøáÁ®ã‰∏≠ÔºåÂè™Êúâ‰∏Ä‰∏™Á∫øÁ®ãËÉΩÂ§üÊâßË°åÊü•ËØ¢Êìç‰ΩúÔºåÂÖ∂‰ªñÁ∫øÁ®ãÈúÄË¶ÅÁ≠âÂæÖÈîÅÈáäÊîæÂêéÂÜçËøõË°åÊü•ËØ¢ÔºåÈÅøÂÖç‰∫ÜÂπ∂ÂèëËÆøÈóÆÊï∞ÊçÆÂ∫ìÁöÑÊÉÖÂÜµ„ÄÇ\n4. ‰ΩøÁî®ÁºìÂ≠òÈ¢ÑÁÉ≠Ôºö Âú®Á≥ªÁªüÂêØÂä®ÊàñËÄÖ‰ΩéÂ≥∞ÊúüÔºåÂèØ‰ª•È¢ÑÂÖàÂ∞ÜÁÉ≠ÁÇπÊï∞ÊçÆÂä†ËΩΩÂà∞ÁºìÂ≠ò‰∏≠ÔºåÊèêÂâçÂáèÂ∞ë‰∫ÜÁºìÂ≠òÂ§±ÊïàÊó∂ÁöÑÂπ∂ÂèëËØ∑Ê±ÇÈáèÔºå‰ªéËÄåÈÅøÂÖç‰∫ÜÁºìÂ≠òÂáªÁ©øÁöÑÂèëÁîü„ÄÇ\n\n‰∏ãÈù¢ÊòØ‰∏Ä‰∏™Áî®C#ÂÆûÁé∞ÁöÑÁ§∫‰æã‰ª£Á†ÅÔºåÊºîÁ§∫‰∫ÜÂ¶Ç‰Ωï‰ΩøÁî®‰∫íÊñ•ÈîÅÊù•Ëß£ÂÜ≥ÁºìÂ≠òÂáªÁ©øÈóÆÈ¢òÔºö\n```C#\nusing System;\nusing System.Collections.Generic;\nusing System.Threading;\n\npublic class Cache\n{\n    private Dictionary<string, string> cache = new Dictionary<string, string>();\n    private Mutex mutex = new Mutex();\n\n    public string Get(string key)\n    {\n        // ÂÖàÂ∞ùËØï‰ªéÁºìÂ≠ò‰∏≠Ëé∑ÂèñÊï∞ÊçÆ\n        string value;\n        if (cache.TryGetValue(key, out value))\n        {\n            return value;\n        }\n\n        // Â¶ÇÊûúÁºìÂ≠ò‰∏≠‰∏çÂ≠òÂú®ÔºåÂä†ÈîÅÊü•ËØ¢Êï∞ÊçÆÂ∫ì\n        mutex.WaitOne();\n        try\n        {\n            // ÂÜçÊ¨°Ê£ÄÊü•ÁºìÂ≠òÔºåÈò≤Ê≠¢Â§ö‰∏™Á∫øÁ®ãÂêåÊó∂Êü•ËØ¢Êï∞ÊçÆÂ∫ì\n            if (cache.TryGetValue(key, out value))\n            {\n                return value;\n            }\n\n            // Ê®°Êãü‰ªéÊï∞ÊçÆÂ∫ì‰∏≠Êü•ËØ¢Êï∞ÊçÆ\n            value = QueryFromDatabase(key);\n\n            // Â∞ÜÊü•ËØ¢ÁªìÊûúÊõ¥Êñ∞Âà∞ÁºìÂ≠ò‰∏≠\n            cache[key] = value;\n        }\n        finally\n        {\n            mutex.ReleaseMutex();\n        }\n\n        return value;\n    }\n\n    private string QueryFromDatabase(string key)\n    {\n        // Ê®°Êãü‰ªéÊï∞ÊçÆÂ∫ì‰∏≠Êü•ËØ¢Êï∞ÊçÆÁöÑËøáÁ®ã\n        Thread.Sleep(100); // Ê®°ÊãüËÄóÊó∂Êü•ËØ¢Êìç‰Ωú\n        return \"value for \" + key;\n    }\n}\n\nclass Program\n{\n    static void Main(string[] args)\n    {\n        Cache cache = new Cache();\n\n        // Âπ∂ÂèëÊü•ËØ¢\n        List<Thread> threads = new List<Thread>();\n        for (int i = 0; i < 10; i++)\n        {\n            Thread thread = new Thread(() =>\n            {\n                string value = cache.Get(\"key\");\n                Console.WriteLine(Thread.CurrentThread.Name + \": \" + value);\n            });\n            thread.Name = \"Thread \" + i;\n            threads.Add(thread);\n        }\n\n        foreach (Thread thread in threads)\n        {\n            thread.Start();\n        }\n\n        foreach (Thread thread in threads)\n        {\n            thread.Join();\n        }\n    }\n}\n\n```\n\n# Áõ∏ÂÖ≥ÊñáÁ´†Êé®Ëçê\n<div id=\"References\"></div>\n\n+ [RedisÂÆòÊñπÊñáÊ°£](http://redis.io/documentation)\n+ [RedisÊïôÁ®ã](https://www.runoob.com/redis/redis-tutorial.html)\n\n\n‰ªäÂ§©Â∞±‰∏çÊÄªÁªì‰∫ÜÔºåÊú™ÂÆåÂæÖÁª≠üò™...\n\n\nÊõ¥Â§ö‰∏ÄÊâãËÆØÊÅØÔºåÂèØÂÖ≥Ê≥®ÂÖ¨‰ºóÂè∑Ôºö[ITProHub](https://myom-dev.oss-cn-hangzhou.aliyuncs.com/WechatPublicPlatformQrCode.jpg)\n\n![ITProHub](https://myom-dev.oss-cn-hangzhou.aliyuncs.com/WechatPublicPlatformQrCode.jpg)","source":"_posts/redis-interview-1.md","raw":"---\ntitle: RedisÊàêÈïøËÆ∞ - RedisÁöÑÈô∑Èò±Ôºà‰∏ÄÔºâ\ndate: 2024-04-18 15:09:28\ntags: redis Èù¢ËØï Ê±ÇËÅå\n---\nÁõ∏‰ø°ÂæàÂ§öËÄÅÈìÅÂú®Ê±ÇËÅåËøáÁ®ã‰∏≠ÈÉΩÁúãÂà∞ËøáÁ±ª‰ºº‰∏ãÈù¢ËøôÊ†∑ÁöÑ‰ªªËÅåË¶ÅÊ±Ç\n\n<img src=\"/images/redis-interview/recruitment.png\" width=\"50%\">\n\n‰Ω†Áî≥ËØ∑ÁöÑÂ≤ó‰Ωç‰∏äÈù¢ÂÜôÁùÄ‚ÄùÁÜüÊÇâRedis‚ÄùÔºåÈÇ£‰πà‰Ω†Â∑≤ÁªèÂáÜÂ§áÂ•ΩÂõûÁ≠îÈù¢ËØïÂÆòÂèØËÉΩ‰ºöÈóÆÂà∞ÁöÑÈóÆÈ¢ò‰∫Ü‰πàÔºü\nÂêéÈù¢ÊàëÂ∞ÜÂºÄÂêØ‰∏Ä‰∏™ÈíàÂØπRedisÁöÑÁ≥ªÂàóÂàÜ‰∫´ÔºåÂ∏åÊúõËÉΩÂ∏ÆÂä©ÂàöÂàöÂºÄÂßãÂ≠¶‰π†RedisÁöÑÊúãÂèã‰ª¨„ÄÇ\n\nÂú®ÂºÄÂßãÈòÖËØªÊú¨ÁØáÊñáÁ´†‰πãÂâçÔºåÈªòËÆ§‰Ω†Â∑≤ÁªèÂÖ∑Â§áÂü∫Á°ÄÁöÑRedisÁü•ËØÜÔºåÂ¶ÇÊûú‰Ω†Ê≤°ÊúâÔºåÂèØ‰ª•ÂÖàÈòÖËØªÊñáÊú´[Áõ∏ÂÖ≥ÊñáÁ´†Êé®Ëçê](#References)\n\n\nÂΩì‰ΩøÁî® Redis ‰Ωú‰∏∫ÁºìÂ≠òÊàñÊï∞ÊçÆÂ≠òÂÇ®Êó∂ÔºåËôΩÁÑ∂ÂÆÉÊèê‰æõ‰∫ÜÈ´òÊÄßËÉΩÂíåÁÅµÊ¥ªÊÄßÔºå‰ΩÜ‰πüÂ≠òÂú®‰∏Ä‰∫õÈô∑Èò±ÈúÄË¶ÅÊ≥®ÊÑè„ÄÇ‰πãÂâçÁúãÂçöÂÆ¢ÁöÑÊó∂ÂÄôÁúãÂà∞ËøáËøôÊ†∑‰∏ÄÂè•ËØù‚ÄùExperts aren‚Äôt the only people who know what to do. They‚Äôre the people who know what not to do.‚Äú ‰∏ìÂÆ∂Âπ∂‰∏çÊòØÂîØ‰∏ÄÁü•ÈÅìÂ¶Ç‰ΩïÂÅöÁöÑ‰∫∫Ôºå‰ªñ‰ª¨Âè™ÊòØÁü•ÈÅìÂ¶Ç‰ΩïÈÅøÂÖç‰∏Ä‰∫õÈô∑Èò±„ÄÇ\n\n‰∏ãÈù¢ËÆ≤ËØâÁöÑÊòØ‰∏Ä‰∫õÂ∏∏ËßÅÁöÑ Redis Èô∑Èò±ÔºåÊàñËÄÖËØ¥ÂÆπÊòìÂøΩÁï•ÁöÑÈóÆÈ¢ò„ÄÇÂÜÖÂÆπËæÉÂ§öÔºåÂèØËÉΩ‰ºöÂàÜÂ§öÁØáÊñáÁ´†ÔºåÂ∞ΩÊÉÖÊúüÂæÖ„ÄÇ\nÂêåÊó∂Áî±‰∫éË¶ÅËÆ≤ÁöÑÂÜÖÂÆπÂÆûÂú®ÊòØÂ§™Â§öÔºåÊâÄ‰ª•Êú¨ÊñáÊõ¥Â§öÁöÑÂè™ÊòØËµ∑Âà∞‚ÄùÊäõÁ†ñ‚ÄúÁöÑ‰ΩúÁî®ÔºåÊõ¥Â§öÁöÑËØ¶ÁªÜÁöÑÂÜÖÂÆπËøòÈúÄË¶ÅËÄÅÈìÅ‰ª¨Ëá™Â∑±ÂÜçÊ∑±Â±ÇÊ¨°ÁöÑÂéªÂ≠¶‰π†„ÄÇ\n\n# ÁºìÂ≠òÁ©øÈÄè\nÁºìÂ≠òÁ©øÈÄèÊåáÁöÑÊòØÊÅ∂ÊÑèËØ∑Ê±ÇÊàñËÄÖÂ§ßÈáè‰∏çÂ≠òÂú®ÁöÑ key ÂØºËá¥ÁºìÂ≠òÊó†Ê≥ïÂëΩ‰∏≠Ôºå‰ªéËÄåÁªïËøáÁºìÂ≠òÁõ¥Êé•ËÆøÈóÆÊï∞ÊçÆÂ∫ìÔºåÂØºËá¥Êï∞ÊçÆÂ∫ìÂéãÂäõËøáÂ§ßÔºåÁîöËá≥ÂÆïÊú∫ÁöÑÊÉÖÂÜµ„ÄÇ\n\n![ÁºìÂ≠òÁ©øÈÄè](/images/redis-interview/cache-penetration.png)\n\n## ÁºìÂ≠òÁ©øÈÄèÁöÑÂéüÂõ†\nÁºìÂ≠òÁ©øÈÄèÈÄöÂ∏∏ÂèëÁîüÂú®‰ª•‰∏ãÊÉÖÂÜµ‰∏ãÔºö\n\n1. ÊÅ∂ÊÑèËØ∑Ê±ÇÔºöÊîªÂáªËÄÖÂèëÈÄÅÂ§ßÈáè‰∏çÂ≠òÂú®‰∫éÁºìÂ≠ò‰∏≠ÁöÑ keyÔºåÂØºËá¥ÁºìÂ≠òÊó†Ê≥ïÂëΩ‰∏≠ÔºåÁõ¥Êé•ËÆøÈóÆÊï∞ÊçÆÂ∫ì„ÄÇ\n2. Â§ßÈáèÂπ∂ÂèëÊü•ËØ¢ÔºöÂΩìÂπ∂ÂèëÊü•ËØ¢ÈáèÂæàÂ§ßÊó∂ÔºåÂèØËÉΩ‰ºöÂá∫Áé∞Â§ßÈáè‰∏çÂ≠òÂú®‰∫éÁºìÂ≠ò‰∏≠ÁöÑ keyÔºå‰ªéËÄåÂØºËá¥ÁºìÂ≠òÁ©øÈÄè„ÄÇ\n\n## ÁºìÂ≠òÁ©øÈÄèÁöÑÂΩ±Âìç\n+ Êï∞ÊçÆÂ∫ìÂéãÂäõËøáÂ§ßÔºöÂ§ßÈáèÊó†ÊïàËØ∑Ê±ÇÁõ¥Êé•ËÆøÈóÆÊï∞ÊçÆÂ∫ìÔºåÂØºËá¥Êï∞ÊçÆÂ∫ìÂéãÂäõËøáÂ§ßÔºåÁîöËá≥ÂØºËá¥Êï∞ÊçÆÂ∫ìÂÆïÊú∫„ÄÇ\n+ Á≥ªÁªüÊÄßËÉΩ‰∏ãÈôçÔºöÊï∞ÊçÆÂ∫ìÂéãÂäõÂ¢ûÂ§ßÔºåÂèØËÉΩÂØºËá¥Á≥ªÁªüÂìçÂ∫îÂèòÊÖ¢ÔºåÂΩ±ÂìçÁî®Êà∑‰ΩìÈ™å„ÄÇ\n\n## ÁºìÂ≠òÁ©øÈÄèÁöÑËß£ÂÜ≥ÊñπÊ≥ï\n1. Á©∫ÂØπË±°ÁºìÂ≠òÔºöÂΩìÊü•ËØ¢ÁªìÊûú‰∏∫Á©∫Êó∂Ôºå‰πüÂ∞ÜËØ•Á©∫ÁªìÊûúÁºìÂ≠òËµ∑Êù•Ôºå‰ΩÜËÆæÁΩÆ‰∏Ä‰∏™ËæÉÁü≠ÁöÑËøáÊúüÊó∂Èó¥ÔºåÈò≤Ê≠¢ÊîªÂáªËÄÖÂà©Áî®ÁºìÂ≠òÁ©øÈÄèÈóÆÈ¢ò„ÄÇ\n2. Â∏ÉÈöÜËøáÊª§Âô®ÔºöÂú®ÁºìÂ≠òÂ±Ç‰πãÂâçÂ¢ûÂä†Â∏ÉÈöÜËøáÊª§Âô®ÔºåÁî®‰∫éÂø´ÈÄüËøáÊª§Êéâ‰∏çÂ≠òÂú®‰∫éÁºìÂ≠ò‰∏≠ÁöÑ keyÔºå‰ªéËÄåÈÅøÂÖçÁºìÂ≠òÁ©øÈÄè„ÄÇ\n3. ÁÉ≠ÁÇπÊï∞ÊçÆÈ¢ÑÁÉ≠ÔºöÂ∞ÜÁÉ≠ÁÇπÊï∞ÊçÆÊèêÂâçÂä†ËΩΩÂà∞ÁºìÂ≠ò‰∏≠ÔºåÊèêÈ´òÂëΩ‰∏≠ÁéáÔºåÂáèÂ∞ëÁºìÂ≠òÁ©øÈÄèÁöÑÂèëÁîü„ÄÇ\n4. ÈôêÊµÅÊéßÂà∂ÔºöÂØπ‰∫éÈ¢ëÁπÅÊü•ËØ¢ÁöÑÊé•Âè£ÔºåÂèØ‰ª•ËøõË°åÈôêÊµÅÊéßÂà∂ÔºåÈò≤Ê≠¢ÊîªÂáªËÄÖÂèëËµ∑Â§ßÈáèÊó†ÊïàËØ∑Ê±Ç„ÄÇ\n5. ‰ΩøÁî®ÁºìÂ≠òÈîÅÔºöÂú®Êü•ËØ¢Êï∞ÊçÆÂ∫ìÊó∂Ôºå‰ΩøÁî®ÁºìÂ≠òÈîÅËøõË°å‰∏≤Ë°åÂåñÂ§ÑÁêÜÔºåÈò≤Ê≠¢Â§ßÈáèÂπ∂ÂèëÊü•ËØ¢ÂØºËá¥ÁºìÂ≠òÁ©øÈÄè„ÄÇ\n\n‰∏ãÈù¢ÊòØ‰∏Ä‰∏™‰ΩøÁî® C# Á©∫ÂØπË±°ÁºìÂ≠òÁöÑÁ§∫‰æã‰ª£Á†ÅÔºö\n\n```C#\npublic class UserBll\n{\n    public static readonly int CACHE_NULL_TTL = 10;\n    public static readonly int CACHE_TTL = 20;\n    /** \n     * ÁºìÂ≠òÁ©øÈÄè* \n     * @param id \n     * @ return \n     */\n    public WebUserInfo QueryUser(string key)\n    {\n        var redis = Redis.GetDatabase(0);\n        // 1.‰ªéredis‰∏≠Êü•ËØ¢storeÁºìÂ≠ò\n        String value = redis.StringGet(key);\n        WebUserInfo user = null;\n        // 2.Âà§Êñ≠ÊòØÂê¶Â≠òÂú®\n        if( value.HasValue() ) {\n            user = value.FromJson<WebUserInfo>();\n            // 3.Â≠òÂú®ÔºåÁõ¥Êé•ËøîÂõû\n            return user;\n        }\n        // Âà§Êñ≠ÂëΩ‰∏≠ÊòØÂê¶‰∏∫Á©∫ÂÄº\n        if ( value == null) {\n            // ËøîÂõûÈîôËØØ‰ø°ÊÅØ\n            return null;\n        }\n        // 4.‰∏çÂ≠òÂú®ÔºåÊ†πÊçÆidÊü•ËØ¢Êï∞ÊçÆÂ∫ì\n        user = DatabaseQuery(key);\n        // 5. ‰∏çÂ≠òÂú®ÔºåËøîÂõûÈîôËØØ\n        if( user == null ) {\n            // ÂêëredisÂÜôÂÖ•Á©∫ÂÄºÔºàÁºìÂ≠òÁ©øÈÄèÔºâ\n            redis.StringSet(key, \"\", new TimeSpan(0, CACHE_NULL_TTL, 0));\n            return null;\n        }\n        // 6.Â≠òÂú®ÔºåÂÜôÂÖ•redis\n        redis.StringSet(key, user.ToJson(), new TimeSpan(0, CACHE_TTL, 0));\n        // 7. ËøîÂõû\n        return user;\n}\n\n\n    public WebUserInfo DatabaseQuery(string key)\n    {\n        // Ê®°Êãü‰ªéÊï∞ÊçÆÂ∫ì‰∏≠Êü•ËØ¢Êï∞ÊçÆ\n        // ÂÆûÈôÖÊÉÖÂÜµ‰∏ãÔºåËøôÈáåÂèØ‰ª•ÊòØËÆøÈóÆÊï∞ÊçÆÂ∫ì„ÄÅË∞ÉÁî®Â§ñÈÉ® API Á≠âÊìç‰Ωú\n        // ËøôÈáåÁÆÄÂåñ‰∏∫ËøîÂõû null\n        return null;\n    }\n\n\n}\n\nclass Program\n{\n    static void Main(string[] args)\n    {\n        UserBll cache = new UserBll();\n\n        // Á¨¨‰∏ÄÊ¨°Êü•ËØ¢ÔºåÁºìÂ≠ò‰∏≠‰∏çÂ≠òÂú®Ôºå‰ΩÜÊòØÊü•ËØ¢ÁªìÊûú‰∏∫Á©∫\n        string result1 = cache.QueryUser(\"key1\");\n        Console.WriteLine(\"Result 1: \" + result1); // Output: Result 1: (null)\n\n        // Á¨¨‰∫åÊ¨°Êü•ËØ¢ÔºåÁºìÂ≠ò‰∏≠Â∑≤Â≠òÂú®Á©∫ÂØπË±°ÁºìÂ≠òÔºåÁõ¥Êé•ËøîÂõûÁ©∫ÂÄº\n        string result2 = cache.QueryUser(\"key1\");\n        Console.WriteLine(\"Result 2: \" + result2); // Output: Result 2: (null)\n\n        // Á¨¨‰∏âÊ¨°Êü•ËØ¢ÔºåÊ®°ÊãüÊï∞ÊçÆÂ∫ì‰∏≠Â≠òÂú®ÂØπÂ∫îÂÄºÁöÑÊÉÖÂÜµ\n        string result3 = cache.QueryUser(\"key2\");\n        Console.WriteLine(\"Result 3: \" + result3); // Output: Result 3: <value from database>\n    }\n}\n\n\n```\n‰∏äËø∞‰ª£Á†Å‰∏≠ÔºåÂΩìÁî®Êà∑ËØ∑Ê±Ç‰∏Ä‰∏™keyÊó∂ÔºåredisÂíåÊï∞ÊçÆÂ∫ìÈÉΩ‰∏çÂ≠òÂú®„ÄÇÊàë‰ª¨Áõ¥Êé•Â∞ÜkeyÂØπÂ∫îÁöÑnullÂÄºÁºìÂ≠òÂà∞redis‰∏≠ÔºåËøôÊ†∑‰∏ãÊ¨°Áî®Êà∑ÈáçÂ§çËØ∑Ê±ÇËøô‰∏™keyÁöÑÊó∂ÂÄôÔºåredisÂ∞±ÂèØ‰ª•ÂëΩ‰∏≠Ôºàhit nullÔºâÔºåÂè™ÊòØ‰∏ç‰ºöËØ¢ÈóÆÊï∞ÊçÆÂ∫ì\n- ‰ºòÁÇπÔºöÂÆûÁé∞ÁÆÄÂçïÔºåÊòì‰∫éÁª¥Êä§\n- Áº∫ÁÇπÔºöÈ¢ùÂ§ñÁöÑÂÜÖÂ≠òÊ∂àËÄóÔºàÂèØ‰ª•ÈÄöËøáÊ∑ªÂä†TTLÊù•Ëß£ÂÜ≥Ôºâ\n\nÂêåÊó∂ÂèØËÉΩ‰ºöÈÄ†ÊàêÁü≠ÊöÇÁöÑ‰∏ç‰∏ÄËá¥ÔºàÊéßÂà∂TTLÊó∂Èó¥ÂèØ‰ª•Âú®‰∏ÄÂÆöÁ®ãÂ∫¶‰∏äÁºìËß£Ôºâ„ÄÇÂΩìnullË¢´ÁºìÂ≠òÊó∂ÔºåÊàë‰ª¨Âè™ÊòØÂú®Êï∞ÊçÆÂ∫ì‰∏≠ËÆæÁΩÆÂÄºÔºåËÄåÁî®Êà∑query‰∏∫Á©∫Ôºå‰ΩÜÊï∞ÊçÆÂ∫ì‰∏≠ÂÆûÈôÖÂ≠òÂú®Ôºå‰ºöÈÄ†Êàê‰∏ç‰∏ÄËá¥ÔºàÂèØ‰ª•ÈÄöËøáÊèíÂÖ•Êï∞ÊçÆÊó∂Ëá™Âä®Ë¶ÜÁõñ‰πãÂâçÁöÑÁ©∫Êï∞ÊçÆÊù•Ëß£ÂÜ≥Ôºâ\n\n# ÁºìÂ≠òÈõ™Â¥©\nÁºìÂ≠òÈõ™Â¥©ÊåáÁöÑÊòØÂú®ÁºìÂ≠òÂ§±ÊïàÁöÑÁû¨Èó¥ÔºåÂ§ßÈáèÁöÑËØ∑Ê±ÇÂêåÊó∂Ê∂åÂÖ•Êï∞ÊçÆÂ∫ìÊàñÂÖ∂‰ªñÊï∞ÊçÆÊ∫êÔºåÂØºËá¥Êï∞ÊçÆÂ∫ìË¥üËΩΩÂâßÂ¢ûÔºåÁîöËá≥ÈÄ†ÊàêÊï∞ÊçÆÂ∫ìÂÆïÊú∫ÁöÑÊÉÖÂÜµ„ÄÇ\n\n![Cache Avalanche](/images/redis-interview/cache-avalanche.png)\n\n## ÁºìÂ≠òÈõ™Â¥©ÁöÑÂéüÂõ†\nÁºìÂ≠òÈõ™Â¥©ÈÄöÂ∏∏ÊòØÁî±‰∫éÁºìÂ≠ò‰∏≠ÁöÑÂ§ßÈáèÊï∞ÊçÆÂêåÊó∂Â§±ÊïàËÄåÂºïËµ∑ÁöÑ„ÄÇÂΩìÂ§ö‰∏™ÁºìÂ≠òÈîÆÂÖ∑ÊúâÁõ∏ÂêåÁöÑÂ§±ÊïàÊó∂Èó¥ÔºåÂπ∂‰∏îËøô‰∫õÁºìÂ≠òÈîÆÂèàÂú®Âêå‰∏ÄÊó∂Èó¥Â§±ÊïàÊó∂ÔºåÂ∞±‰ºöÂØºËá¥Â§ßÈáèËØ∑Ê±ÇÁõ¥Êé•ÂáªÁ©øÁºìÂ≠òÔºåÂêåÊó∂Ê∂åÂÖ•Êï∞ÊçÆÊ∫êÔºåÈÄ†ÊàêÁºìÂ≠òÈõ™Â¥©\n\n## ÁºìÂ≠òÈõ™Â¥©ÁöÑËß£ÂÜ≥ÊñπÊ°à\n### 1. ËÆæÁΩÆÈöèÊú∫ËøáÊúüÊó∂Èó¥\nÈÄöËøáÁªôÁºìÂ≠òÈîÆËÆæÁΩÆÈöèÊú∫ÁöÑËøáÊúüÊó∂Èó¥ÔºåÂèØ‰ª•ÊúâÊïàÂú∞ÂàÜÊï£ÁºìÂ≠òÂ§±ÊïàÁöÑÊó∂Èó¥ÁÇπÔºåÈôç‰ΩéÂ§ßÈáèÁºìÂ≠òÂêåÊó∂Â§±ÊïàÁöÑÂèØËÉΩÊÄßÔºå‰ªéËÄåÂáèËΩª‰∫ÜÁºìÂ≠òÈõ™Â¥©ÁöÑÈ£éÈô©„ÄÇ\n\n### 2. ‰ΩøÁî®Â§öÁ∫ßÁºìÂ≠òÁ≠ñÁï•\nÈááÁî®Â§öÁ∫ßÁºìÂ≠òÊû∂ÊûÑÔºåÂåÖÊã¨Êú¨Âú∞ÁºìÂ≠ò„ÄÅÂàÜÂ∏ÉÂºèÁºìÂ≠òÂíåÊåÅ‰πÖÂåñÂ≠òÂÇ®ÔºåÂΩì‰∏ªÁºìÂ≠òÂ§±ÊïàÊó∂ÔºåÂèØ‰ª•‰ªéÂ§áÁî®ÁºìÂ≠ò‰∏≠Ëé∑ÂèñÊï∞ÊçÆÔºåÈôç‰ΩéÂØπÊï∞ÊçÆÂ∫ìÁöÑÁõ¥Êé•ËÆøÈóÆ„ÄÇ\n\n### 3. ÈôêÊµÅÂíåÈôçÁ∫ß\nÂú®ÁºìÂ≠òÂ§±ÊïàÊúüÈó¥ÔºåÂèØ‰ª•ÂØπËØ∑Ê±ÇËøõË°åÈôêÊµÅÔºåÈôç‰ΩéËØ∑Ê±ÇÁöÑÂπ∂ÂèëÊï∞ÈáèÔºå‰ªéËÄåÂáèËΩª‰∫ÜÊï∞ÊçÆÂ∫ìÁöÑÂéãÂäõ„ÄÇÂêåÊó∂ÔºåÂèØ‰ª•ÂØπÈÉ®ÂàÜÈùûÂÖ≥ÈîÆËØ∑Ê±ÇËøõË°åÈôçÁ∫ßÂ§ÑÁêÜÔºåÊöÇÊó∂Â±èËîΩ‰∏Ä‰∫õÈùûÂøÖË¶ÅÁöÑÊúçÂä°Ôºå‰øùËØÅÊ†∏ÂøÉÊúçÂä°ÁöÑÁ®≥ÂÆöÊÄß„ÄÇ\n\n### 4. È¢ÑÁÉ≠ÁºìÂ≠ò\nÂú®Á≥ªÁªüÂêØÂä®Êàñ‰ΩéÂ≥∞ÊúüÔºåÈ¢ÑÂÖàÂä†ËΩΩÁºìÂ≠òÊï∞ÊçÆÔºåÊèêÂâçÂ∞ÜÂ∏∏Áî®Êï∞ÊçÆÁºìÂ≠òËµ∑Êù•ÔºåÈÅøÂÖçÂú®È´òÂ≥∞ÊúüÈó¥Â§ßÈáèËØ∑Ê±ÇÁõ¥Êé•ÂáªÁ©øÁºìÂ≠ò„ÄÇ\n\n# ÁºìÂ≠òÂáªÁ©ø\nÁºìÂ≠òÂáªÁ©øÊòØÊåáÊüê‰∏™ÁÉ≠ÁÇπkeyÁ™ÅÁÑ∂Â§±ÊïàÊàñËÄÖÊú™ÂëΩ‰∏≠ÔºåÂØºËá¥Â§ßÈáèËØ∑Ê±ÇÁõ¥Êé•ËÆøÈóÆÊï∞ÊçÆÂ∫ìÔºåÈÄ†ÊàêÊï∞ÊçÆÂ∫ìÂéãÂäõÂâßÂ¢ûÁöÑÁé∞Ë±°„ÄÇËøôÁßçÊÉÖÂÜµÈÄöÂ∏∏ÂèëÁîüÂú®ÂÖ∑ÊúâÈ´òÂπ∂ÂèëËÆøÈóÆÈáèÁöÑÁ≥ªÁªü‰∏≠ÔºåÁâπÂà´ÊòØÂú®ÁºìÂ≠òÁ≥ªÁªü‰∏≠‰ΩøÁî®‰∫ÜËæÉÁü≠ÁöÑËøáÊúüÊó∂Èó¥ÊàñËÄÖÁÉ≠ÁÇπÊï∞ÊçÆÁöÑËÆøÈóÆÈ¢ëÁéáÁ™ÅÁÑ∂Â¢ûÂä†Êó∂„ÄÇ\n\n![ÁºìÂ≠òÂáªÁ©ø](/images/redis-interview/cache-breakdown.png)\n\n1. ËÆæÁΩÆÁÉ≠ÁÇπÊï∞ÊçÆÊ∞∏‰∏çËøáÊúüÔºö ÂØπ‰∫é‰∏Ä‰∫õÁÉ≠ÁÇπÊï∞ÊçÆÔºåÂèØ‰ª•ËÆæÁΩÆÊ∞∏‰∏çËøáÊúüÔºåÊàñËÄÖËÆæÁΩÆËæÉÈïøÁöÑËøáÊúüÊó∂Èó¥Ôºå‰øùËØÅÂÖ∂‰∏ç‰ºöÂú®Áü≠Êó∂Èó¥ÂÜÖÂ§±ÊïàÔºå‰ªéËÄåÈÅøÂÖç‰∫ÜÁºìÂ≠òÂáªÁ©øÁöÑÂèëÁîü„ÄÇ\n2. Âä†ÈîÅÊú∫Âà∂Ôºö Âú®ÁºìÂ≠òÂ§±ÊïàÊó∂ÔºåÂèØ‰ª•ÈÄöËøáÂä†ÈîÅÊú∫Âà∂Á°Æ‰øùÂè™Êúâ‰∏Ä‰∏™Á∫øÁ®ãËÉΩÂ§üËøõÂÖ•Êï∞ÊçÆÂ∫ìÊü•ËØ¢Êï∞ÊçÆÔºåÂπ∂Â∞ÜÊü•ËØ¢ÁªìÊûúÊõ¥Êñ∞Âà∞ÁºìÂ≠ò‰∏≠ÔºåÈÅøÂÖç‰∫ÜÂ§ö‰∏™Á∫øÁ®ãÂêåÊó∂Êü•ËØ¢Êï∞ÊçÆÂ∫ìÁöÑÊÉÖÂÜµ„ÄÇ\n3. ‰ΩøÁî®‰∫íÊñ•ÈîÅÂíåÂàÜÂ∏ÉÂºèÈîÅÔºö ‰ΩøÁî®‰∫íÊñ•ÈîÅÊàñËÄÖÂàÜÂ∏ÉÂºèÈîÅÊù•‰øùËØÅÂú®Êü•ËØ¢Êï∞ÊçÆÂ∫ìÁöÑËøáÁ®ã‰∏≠ÔºåÂè™Êúâ‰∏Ä‰∏™Á∫øÁ®ãËÉΩÂ§üÊâßË°åÊü•ËØ¢Êìç‰ΩúÔºåÂÖ∂‰ªñÁ∫øÁ®ãÈúÄË¶ÅÁ≠âÂæÖÈîÅÈáäÊîæÂêéÂÜçËøõË°åÊü•ËØ¢ÔºåÈÅøÂÖç‰∫ÜÂπ∂ÂèëËÆøÈóÆÊï∞ÊçÆÂ∫ìÁöÑÊÉÖÂÜµ„ÄÇ\n4. ‰ΩøÁî®ÁºìÂ≠òÈ¢ÑÁÉ≠Ôºö Âú®Á≥ªÁªüÂêØÂä®ÊàñËÄÖ‰ΩéÂ≥∞ÊúüÔºåÂèØ‰ª•È¢ÑÂÖàÂ∞ÜÁÉ≠ÁÇπÊï∞ÊçÆÂä†ËΩΩÂà∞ÁºìÂ≠ò‰∏≠ÔºåÊèêÂâçÂáèÂ∞ë‰∫ÜÁºìÂ≠òÂ§±ÊïàÊó∂ÁöÑÂπ∂ÂèëËØ∑Ê±ÇÈáèÔºå‰ªéËÄåÈÅøÂÖç‰∫ÜÁºìÂ≠òÂáªÁ©øÁöÑÂèëÁîü„ÄÇ\n\n‰∏ãÈù¢ÊòØ‰∏Ä‰∏™Áî®C#ÂÆûÁé∞ÁöÑÁ§∫‰æã‰ª£Á†ÅÔºåÊºîÁ§∫‰∫ÜÂ¶Ç‰Ωï‰ΩøÁî®‰∫íÊñ•ÈîÅÊù•Ëß£ÂÜ≥ÁºìÂ≠òÂáªÁ©øÈóÆÈ¢òÔºö\n```C#\nusing System;\nusing System.Collections.Generic;\nusing System.Threading;\n\npublic class Cache\n{\n    private Dictionary<string, string> cache = new Dictionary<string, string>();\n    private Mutex mutex = new Mutex();\n\n    public string Get(string key)\n    {\n        // ÂÖàÂ∞ùËØï‰ªéÁºìÂ≠ò‰∏≠Ëé∑ÂèñÊï∞ÊçÆ\n        string value;\n        if (cache.TryGetValue(key, out value))\n        {\n            return value;\n        }\n\n        // Â¶ÇÊûúÁºìÂ≠ò‰∏≠‰∏çÂ≠òÂú®ÔºåÂä†ÈîÅÊü•ËØ¢Êï∞ÊçÆÂ∫ì\n        mutex.WaitOne();\n        try\n        {\n            // ÂÜçÊ¨°Ê£ÄÊü•ÁºìÂ≠òÔºåÈò≤Ê≠¢Â§ö‰∏™Á∫øÁ®ãÂêåÊó∂Êü•ËØ¢Êï∞ÊçÆÂ∫ì\n            if (cache.TryGetValue(key, out value))\n            {\n                return value;\n            }\n\n            // Ê®°Êãü‰ªéÊï∞ÊçÆÂ∫ì‰∏≠Êü•ËØ¢Êï∞ÊçÆ\n            value = QueryFromDatabase(key);\n\n            // Â∞ÜÊü•ËØ¢ÁªìÊûúÊõ¥Êñ∞Âà∞ÁºìÂ≠ò‰∏≠\n            cache[key] = value;\n        }\n        finally\n        {\n            mutex.ReleaseMutex();\n        }\n\n        return value;\n    }\n\n    private string QueryFromDatabase(string key)\n    {\n        // Ê®°Êãü‰ªéÊï∞ÊçÆÂ∫ì‰∏≠Êü•ËØ¢Êï∞ÊçÆÁöÑËøáÁ®ã\n        Thread.Sleep(100); // Ê®°ÊãüËÄóÊó∂Êü•ËØ¢Êìç‰Ωú\n        return \"value for \" + key;\n    }\n}\n\nclass Program\n{\n    static void Main(string[] args)\n    {\n        Cache cache = new Cache();\n\n        // Âπ∂ÂèëÊü•ËØ¢\n        List<Thread> threads = new List<Thread>();\n        for (int i = 0; i < 10; i++)\n        {\n            Thread thread = new Thread(() =>\n            {\n                string value = cache.Get(\"key\");\n                Console.WriteLine(Thread.CurrentThread.Name + \": \" + value);\n            });\n            thread.Name = \"Thread \" + i;\n            threads.Add(thread);\n        }\n\n        foreach (Thread thread in threads)\n        {\n            thread.Start();\n        }\n\n        foreach (Thread thread in threads)\n        {\n            thread.Join();\n        }\n    }\n}\n\n```\n\n# Áõ∏ÂÖ≥ÊñáÁ´†Êé®Ëçê\n<div id=\"References\"></div>\n\n+ [RedisÂÆòÊñπÊñáÊ°£](http://redis.io/documentation)\n+ [RedisÊïôÁ®ã](https://www.runoob.com/redis/redis-tutorial.html)\n\n\n‰ªäÂ§©Â∞±‰∏çÊÄªÁªì‰∫ÜÔºåÊú™ÂÆåÂæÖÁª≠üò™...\n\n\nÊõ¥Â§ö‰∏ÄÊâãËÆØÊÅØÔºåÂèØÂÖ≥Ê≥®ÂÖ¨‰ºóÂè∑Ôºö[ITProHub](https://myom-dev.oss-cn-hangzhou.aliyuncs.com/WechatPublicPlatformQrCode.jpg)\n\n![ITProHub](https://myom-dev.oss-cn-hangzhou.aliyuncs.com/WechatPublicPlatformQrCode.jpg)","slug":"redis-interview-1","published":1,"updated":"2024-04-26T03:31:26.087Z","_id":"clv5zlgr50003fcp11585dpte","comments":1,"layout":"post","photos":[],"link":"","content":"<p>Áõ∏‰ø°ÂæàÂ§öËÄÅÈìÅÂú®Ê±ÇËÅåËøáÁ®ã‰∏≠ÈÉΩÁúãÂà∞ËøáÁ±ª‰ºº‰∏ãÈù¢ËøôÊ†∑ÁöÑ‰ªªËÅåË¶ÅÊ±Ç</p>\n<img src=\"/images/redis-interview/recruitment.png\" width=\"50%\">\n\n<p>‰Ω†Áî≥ËØ∑ÁöÑÂ≤ó‰Ωç‰∏äÈù¢ÂÜôÁùÄ‚ÄùÁÜüÊÇâRedis‚ÄùÔºåÈÇ£‰πà‰Ω†Â∑≤ÁªèÂáÜÂ§áÂ•ΩÂõûÁ≠îÈù¢ËØïÂÆòÂèØËÉΩ‰ºöÈóÆÂà∞ÁöÑÈóÆÈ¢ò‰∫Ü‰πàÔºü<br>ÂêéÈù¢ÊàëÂ∞ÜÂºÄÂêØ‰∏Ä‰∏™ÈíàÂØπRedisÁöÑÁ≥ªÂàóÂàÜ‰∫´ÔºåÂ∏åÊúõËÉΩÂ∏ÆÂä©ÂàöÂàöÂºÄÂßãÂ≠¶‰π†RedisÁöÑÊúãÂèã‰ª¨„ÄÇ</p>\n<p>Âú®ÂºÄÂßãÈòÖËØªÊú¨ÁØáÊñáÁ´†‰πãÂâçÔºåÈªòËÆ§‰Ω†Â∑≤ÁªèÂÖ∑Â§áÂü∫Á°ÄÁöÑRedisÁü•ËØÜÔºåÂ¶ÇÊûú‰Ω†Ê≤°ÊúâÔºåÂèØ‰ª•ÂÖàÈòÖËØªÊñáÊú´<a href=\"#References\">Áõ∏ÂÖ≥ÊñáÁ´†Êé®Ëçê</a></p>\n<p>ÂΩì‰ΩøÁî® Redis ‰Ωú‰∏∫ÁºìÂ≠òÊàñÊï∞ÊçÆÂ≠òÂÇ®Êó∂ÔºåËôΩÁÑ∂ÂÆÉÊèê‰æõ‰∫ÜÈ´òÊÄßËÉΩÂíåÁÅµÊ¥ªÊÄßÔºå‰ΩÜ‰πüÂ≠òÂú®‰∏Ä‰∫õÈô∑Èò±ÈúÄË¶ÅÊ≥®ÊÑè„ÄÇ‰πãÂâçÁúãÂçöÂÆ¢ÁöÑÊó∂ÂÄôÁúãÂà∞ËøáËøôÊ†∑‰∏ÄÂè•ËØù‚ÄùExperts aren‚Äôt the only people who know what to do. They‚Äôre the people who know what not to do.‚Äú ‰∏ìÂÆ∂Âπ∂‰∏çÊòØÂîØ‰∏ÄÁü•ÈÅìÂ¶Ç‰ΩïÂÅöÁöÑ‰∫∫Ôºå‰ªñ‰ª¨Âè™ÊòØÁü•ÈÅìÂ¶Ç‰ΩïÈÅøÂÖç‰∏Ä‰∫õÈô∑Èò±„ÄÇ</p>\n<p>‰∏ãÈù¢ËÆ≤ËØâÁöÑÊòØ‰∏Ä‰∫õÂ∏∏ËßÅÁöÑ Redis Èô∑Èò±ÔºåÊàñËÄÖËØ¥ÂÆπÊòìÂøΩÁï•ÁöÑÈóÆÈ¢ò„ÄÇÂÜÖÂÆπËæÉÂ§öÔºåÂèØËÉΩ‰ºöÂàÜÂ§öÁØáÊñáÁ´†ÔºåÂ∞ΩÊÉÖÊúüÂæÖ„ÄÇ<br>ÂêåÊó∂Áî±‰∫éË¶ÅËÆ≤ÁöÑÂÜÖÂÆπÂÆûÂú®ÊòØÂ§™Â§öÔºåÊâÄ‰ª•Êú¨ÊñáÊõ¥Â§öÁöÑÂè™ÊòØËµ∑Âà∞‚ÄùÊäõÁ†ñ‚ÄúÁöÑ‰ΩúÁî®ÔºåÊõ¥Â§öÁöÑËØ¶ÁªÜÁöÑÂÜÖÂÆπËøòÈúÄË¶ÅËÄÅÈìÅ‰ª¨Ëá™Â∑±ÂÜçÊ∑±Â±ÇÊ¨°ÁöÑÂéªÂ≠¶‰π†„ÄÇ</p>\n<h1 id=\"ÁºìÂ≠òÁ©øÈÄè\"><a href=\"#ÁºìÂ≠òÁ©øÈÄè\" class=\"headerlink\" title=\"ÁºìÂ≠òÁ©øÈÄè\"></a>ÁºìÂ≠òÁ©øÈÄè</h1><p>ÁºìÂ≠òÁ©øÈÄèÊåáÁöÑÊòØÊÅ∂ÊÑèËØ∑Ê±ÇÊàñËÄÖÂ§ßÈáè‰∏çÂ≠òÂú®ÁöÑ key ÂØºËá¥ÁºìÂ≠òÊó†Ê≥ïÂëΩ‰∏≠Ôºå‰ªéËÄåÁªïËøáÁºìÂ≠òÁõ¥Êé•ËÆøÈóÆÊï∞ÊçÆÂ∫ìÔºåÂØºËá¥Êï∞ÊçÆÂ∫ìÂéãÂäõËøáÂ§ßÔºåÁîöËá≥ÂÆïÊú∫ÁöÑÊÉÖÂÜµ„ÄÇ</p>\n<p><img src=\"/images/redis-interview/cache-penetration.png\" alt=\"ÁºìÂ≠òÁ©øÈÄè\"></p>\n<h2 id=\"ÁºìÂ≠òÁ©øÈÄèÁöÑÂéüÂõ†\"><a href=\"#ÁºìÂ≠òÁ©øÈÄèÁöÑÂéüÂõ†\" class=\"headerlink\" title=\"ÁºìÂ≠òÁ©øÈÄèÁöÑÂéüÂõ†\"></a>ÁºìÂ≠òÁ©øÈÄèÁöÑÂéüÂõ†</h2><p>ÁºìÂ≠òÁ©øÈÄèÈÄöÂ∏∏ÂèëÁîüÂú®‰ª•‰∏ãÊÉÖÂÜµ‰∏ãÔºö</p>\n<ol>\n<li>ÊÅ∂ÊÑèËØ∑Ê±ÇÔºöÊîªÂáªËÄÖÂèëÈÄÅÂ§ßÈáè‰∏çÂ≠òÂú®‰∫éÁºìÂ≠ò‰∏≠ÁöÑ keyÔºåÂØºËá¥ÁºìÂ≠òÊó†Ê≥ïÂëΩ‰∏≠ÔºåÁõ¥Êé•ËÆøÈóÆÊï∞ÊçÆÂ∫ì„ÄÇ</li>\n<li>Â§ßÈáèÂπ∂ÂèëÊü•ËØ¢ÔºöÂΩìÂπ∂ÂèëÊü•ËØ¢ÈáèÂæàÂ§ßÊó∂ÔºåÂèØËÉΩ‰ºöÂá∫Áé∞Â§ßÈáè‰∏çÂ≠òÂú®‰∫éÁºìÂ≠ò‰∏≠ÁöÑ keyÔºå‰ªéËÄåÂØºËá¥ÁºìÂ≠òÁ©øÈÄè„ÄÇ</li>\n</ol>\n<h2 id=\"ÁºìÂ≠òÁ©øÈÄèÁöÑÂΩ±Âìç\"><a href=\"#ÁºìÂ≠òÁ©øÈÄèÁöÑÂΩ±Âìç\" class=\"headerlink\" title=\"ÁºìÂ≠òÁ©øÈÄèÁöÑÂΩ±Âìç\"></a>ÁºìÂ≠òÁ©øÈÄèÁöÑÂΩ±Âìç</h2><ul>\n<li>Êï∞ÊçÆÂ∫ìÂéãÂäõËøáÂ§ßÔºöÂ§ßÈáèÊó†ÊïàËØ∑Ê±ÇÁõ¥Êé•ËÆøÈóÆÊï∞ÊçÆÂ∫ìÔºåÂØºËá¥Êï∞ÊçÆÂ∫ìÂéãÂäõËøáÂ§ßÔºåÁîöËá≥ÂØºËá¥Êï∞ÊçÆÂ∫ìÂÆïÊú∫„ÄÇ</li>\n<li>Á≥ªÁªüÊÄßËÉΩ‰∏ãÈôçÔºöÊï∞ÊçÆÂ∫ìÂéãÂäõÂ¢ûÂ§ßÔºåÂèØËÉΩÂØºËá¥Á≥ªÁªüÂìçÂ∫îÂèòÊÖ¢ÔºåÂΩ±ÂìçÁî®Êà∑‰ΩìÈ™å„ÄÇ</li>\n</ul>\n<h2 id=\"ÁºìÂ≠òÁ©øÈÄèÁöÑËß£ÂÜ≥ÊñπÊ≥ï\"><a href=\"#ÁºìÂ≠òÁ©øÈÄèÁöÑËß£ÂÜ≥ÊñπÊ≥ï\" class=\"headerlink\" title=\"ÁºìÂ≠òÁ©øÈÄèÁöÑËß£ÂÜ≥ÊñπÊ≥ï\"></a>ÁºìÂ≠òÁ©øÈÄèÁöÑËß£ÂÜ≥ÊñπÊ≥ï</h2><ol>\n<li>Á©∫ÂØπË±°ÁºìÂ≠òÔºöÂΩìÊü•ËØ¢ÁªìÊûú‰∏∫Á©∫Êó∂Ôºå‰πüÂ∞ÜËØ•Á©∫ÁªìÊûúÁºìÂ≠òËµ∑Êù•Ôºå‰ΩÜËÆæÁΩÆ‰∏Ä‰∏™ËæÉÁü≠ÁöÑËøáÊúüÊó∂Èó¥ÔºåÈò≤Ê≠¢ÊîªÂáªËÄÖÂà©Áî®ÁºìÂ≠òÁ©øÈÄèÈóÆÈ¢ò„ÄÇ</li>\n<li>Â∏ÉÈöÜËøáÊª§Âô®ÔºöÂú®ÁºìÂ≠òÂ±Ç‰πãÂâçÂ¢ûÂä†Â∏ÉÈöÜËøáÊª§Âô®ÔºåÁî®‰∫éÂø´ÈÄüËøáÊª§Êéâ‰∏çÂ≠òÂú®‰∫éÁºìÂ≠ò‰∏≠ÁöÑ keyÔºå‰ªéËÄåÈÅøÂÖçÁºìÂ≠òÁ©øÈÄè„ÄÇ</li>\n<li>ÁÉ≠ÁÇπÊï∞ÊçÆÈ¢ÑÁÉ≠ÔºöÂ∞ÜÁÉ≠ÁÇπÊï∞ÊçÆÊèêÂâçÂä†ËΩΩÂà∞ÁºìÂ≠ò‰∏≠ÔºåÊèêÈ´òÂëΩ‰∏≠ÁéáÔºåÂáèÂ∞ëÁºìÂ≠òÁ©øÈÄèÁöÑÂèëÁîü„ÄÇ</li>\n<li>ÈôêÊµÅÊéßÂà∂ÔºöÂØπ‰∫éÈ¢ëÁπÅÊü•ËØ¢ÁöÑÊé•Âè£ÔºåÂèØ‰ª•ËøõË°åÈôêÊµÅÊéßÂà∂ÔºåÈò≤Ê≠¢ÊîªÂáªËÄÖÂèëËµ∑Â§ßÈáèÊó†ÊïàËØ∑Ê±Ç„ÄÇ</li>\n<li>‰ΩøÁî®ÁºìÂ≠òÈîÅÔºöÂú®Êü•ËØ¢Êï∞ÊçÆÂ∫ìÊó∂Ôºå‰ΩøÁî®ÁºìÂ≠òÈîÅËøõË°å‰∏≤Ë°åÂåñÂ§ÑÁêÜÔºåÈò≤Ê≠¢Â§ßÈáèÂπ∂ÂèëÊü•ËØ¢ÂØºËá¥ÁºìÂ≠òÁ©øÈÄè„ÄÇ</li>\n</ol>\n<p>‰∏ãÈù¢ÊòØ‰∏Ä‰∏™‰ΩøÁî® C# Á©∫ÂØπË±°ÁºìÂ≠òÁöÑÁ§∫‰æã‰ª£Á†ÅÔºö</p>\n<figure class=\"highlight c#\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">UserBll</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">readonly</span> <span class=\"built_in\">int</span> CACHE_NULL_TTL = <span class=\"number\">10</span>;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">readonly</span> <span class=\"built_in\">int</span> CACHE_TTL = <span class=\"number\">20</span>;</span><br><span class=\"line\">    <span class=\"comment\">/** </span></span><br><span class=\"line\"><span class=\"comment\">     * ÁºìÂ≠òÁ©øÈÄè* </span></span><br><span class=\"line\"><span class=\"comment\">     * @param id </span></span><br><span class=\"line\"><span class=\"comment\">     * @ return </span></span><br><span class=\"line\"><span class=\"comment\">     */</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> WebUserInfo <span class=\"title\">QueryUser</span>(<span class=\"params\"><span class=\"built_in\">string</span> key</span>)</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">var</span> redis = Redis.GetDatabase(<span class=\"number\">0</span>);</span><br><span class=\"line\">        <span class=\"comment\">// 1.‰ªéredis‰∏≠Êü•ËØ¢storeÁºìÂ≠ò</span></span><br><span class=\"line\">        String <span class=\"keyword\">value</span> = redis.StringGet(key);</span><br><span class=\"line\">        WebUserInfo user = <span class=\"literal\">null</span>;</span><br><span class=\"line\">        <span class=\"comment\">// 2.Âà§Êñ≠ÊòØÂê¶Â≠òÂú®</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span>( <span class=\"keyword\">value</span>.HasValue() ) &#123;</span><br><span class=\"line\">            user = <span class=\"keyword\">value</span>.FromJson&lt;WebUserInfo&gt;();</span><br><span class=\"line\">            <span class=\"comment\">// 3.Â≠òÂú®ÔºåÁõ¥Êé•ËøîÂõû</span></span><br><span class=\"line\">            <span class=\"keyword\">return</span> user;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"comment\">// Âà§Êñ≠ÂëΩ‰∏≠ÊòØÂê¶‰∏∫Á©∫ÂÄº</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> ( <span class=\"keyword\">value</span> == <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">            <span class=\"comment\">// ËøîÂõûÈîôËØØ‰ø°ÊÅØ</span></span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"literal\">null</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"comment\">// 4.‰∏çÂ≠òÂú®ÔºåÊ†πÊçÆidÊü•ËØ¢Êï∞ÊçÆÂ∫ì</span></span><br><span class=\"line\">        user = DatabaseQuery(key);</span><br><span class=\"line\">        <span class=\"comment\">// 5. ‰∏çÂ≠òÂú®ÔºåËøîÂõûÈîôËØØ</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span>( user == <span class=\"literal\">null</span> ) &#123;</span><br><span class=\"line\">            <span class=\"comment\">// ÂêëredisÂÜôÂÖ•Á©∫ÂÄºÔºàÁºìÂ≠òÁ©øÈÄèÔºâ</span></span><br><span class=\"line\">            redis.StringSet(key, <span class=\"string\">&quot;&quot;</span>, <span class=\"keyword\">new</span> TimeSpan(<span class=\"number\">0</span>, CACHE_NULL_TTL, <span class=\"number\">0</span>));</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"literal\">null</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"comment\">// 6.Â≠òÂú®ÔºåÂÜôÂÖ•redis</span></span><br><span class=\"line\">        redis.StringSet(key, user.ToJson(), <span class=\"keyword\">new</span> TimeSpan(<span class=\"number\">0</span>, CACHE_TTL, <span class=\"number\">0</span>));</span><br><span class=\"line\">        <span class=\"comment\">// 7. ËøîÂõû</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> user;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> WebUserInfo <span class=\"title\">DatabaseQuery</span>(<span class=\"params\"><span class=\"built_in\">string</span> key</span>)</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"comment\">// Ê®°Êãü‰ªéÊï∞ÊçÆÂ∫ì‰∏≠Êü•ËØ¢Êï∞ÊçÆ</span></span><br><span class=\"line\">        <span class=\"comment\">// ÂÆûÈôÖÊÉÖÂÜµ‰∏ãÔºåËøôÈáåÂèØ‰ª•ÊòØËÆøÈóÆÊï∞ÊçÆÂ∫ì„ÄÅË∞ÉÁî®Â§ñÈÉ® API Á≠âÊìç‰Ωú</span></span><br><span class=\"line\">        <span class=\"comment\">// ËøôÈáåÁÆÄÂåñ‰∏∫ËøîÂõû null</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"literal\">null</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title\">Program</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title\">Main</span>(<span class=\"params\"><span class=\"built_in\">string</span>[] args</span>)</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        UserBll cache = <span class=\"keyword\">new</span> UserBll();</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">// Á¨¨‰∏ÄÊ¨°Êü•ËØ¢ÔºåÁºìÂ≠ò‰∏≠‰∏çÂ≠òÂú®Ôºå‰ΩÜÊòØÊü•ËØ¢ÁªìÊûú‰∏∫Á©∫</span></span><br><span class=\"line\">        <span class=\"built_in\">string</span> result1 = cache.QueryUser(<span class=\"string\">&quot;key1&quot;</span>);</span><br><span class=\"line\">        Console.WriteLine(<span class=\"string\">&quot;Result 1: &quot;</span> + result1); <span class=\"comment\">// Output: Result 1: (null)</span></span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">// Á¨¨‰∫åÊ¨°Êü•ËØ¢ÔºåÁºìÂ≠ò‰∏≠Â∑≤Â≠òÂú®Á©∫ÂØπË±°ÁºìÂ≠òÔºåÁõ¥Êé•ËøîÂõûÁ©∫ÂÄº</span></span><br><span class=\"line\">        <span class=\"built_in\">string</span> result2 = cache.QueryUser(<span class=\"string\">&quot;key1&quot;</span>);</span><br><span class=\"line\">        Console.WriteLine(<span class=\"string\">&quot;Result 2: &quot;</span> + result2); <span class=\"comment\">// Output: Result 2: (null)</span></span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">// Á¨¨‰∏âÊ¨°Êü•ËØ¢ÔºåÊ®°ÊãüÊï∞ÊçÆÂ∫ì‰∏≠Â≠òÂú®ÂØπÂ∫îÂÄºÁöÑÊÉÖÂÜµ</span></span><br><span class=\"line\">        <span class=\"built_in\">string</span> result3 = cache.QueryUser(<span class=\"string\">&quot;key2&quot;</span>);</span><br><span class=\"line\">        Console.WriteLine(<span class=\"string\">&quot;Result 3: &quot;</span> + result3); <span class=\"comment\">// Output: Result 3: &lt;value from database&gt;</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<p>‰∏äËø∞‰ª£Á†Å‰∏≠ÔºåÂΩìÁî®Êà∑ËØ∑Ê±Ç‰∏Ä‰∏™keyÊó∂ÔºåredisÂíåÊï∞ÊçÆÂ∫ìÈÉΩ‰∏çÂ≠òÂú®„ÄÇÊàë‰ª¨Áõ¥Êé•Â∞ÜkeyÂØπÂ∫îÁöÑnullÂÄºÁºìÂ≠òÂà∞redis‰∏≠ÔºåËøôÊ†∑‰∏ãÊ¨°Áî®Êà∑ÈáçÂ§çËØ∑Ê±ÇËøô‰∏™keyÁöÑÊó∂ÂÄôÔºåredisÂ∞±ÂèØ‰ª•ÂëΩ‰∏≠Ôºàhit nullÔºâÔºåÂè™ÊòØ‰∏ç‰ºöËØ¢ÈóÆÊï∞ÊçÆÂ∫ì</p>\n<ul>\n<li>‰ºòÁÇπÔºöÂÆûÁé∞ÁÆÄÂçïÔºåÊòì‰∫éÁª¥Êä§</li>\n<li>Áº∫ÁÇπÔºöÈ¢ùÂ§ñÁöÑÂÜÖÂ≠òÊ∂àËÄóÔºàÂèØ‰ª•ÈÄöËøáÊ∑ªÂä†TTLÊù•Ëß£ÂÜ≥Ôºâ</li>\n</ul>\n<p>ÂêåÊó∂ÂèØËÉΩ‰ºöÈÄ†ÊàêÁü≠ÊöÇÁöÑ‰∏ç‰∏ÄËá¥ÔºàÊéßÂà∂TTLÊó∂Èó¥ÂèØ‰ª•Âú®‰∏ÄÂÆöÁ®ãÂ∫¶‰∏äÁºìËß£Ôºâ„ÄÇÂΩìnullË¢´ÁºìÂ≠òÊó∂ÔºåÊàë‰ª¨Âè™ÊòØÂú®Êï∞ÊçÆÂ∫ì‰∏≠ËÆæÁΩÆÂÄºÔºåËÄåÁî®Êà∑query‰∏∫Á©∫Ôºå‰ΩÜÊï∞ÊçÆÂ∫ì‰∏≠ÂÆûÈôÖÂ≠òÂú®Ôºå‰ºöÈÄ†Êàê‰∏ç‰∏ÄËá¥ÔºàÂèØ‰ª•ÈÄöËøáÊèíÂÖ•Êï∞ÊçÆÊó∂Ëá™Âä®Ë¶ÜÁõñ‰πãÂâçÁöÑÁ©∫Êï∞ÊçÆÊù•Ëß£ÂÜ≥Ôºâ</p>\n<h1 id=\"ÁºìÂ≠òÈõ™Â¥©\"><a href=\"#ÁºìÂ≠òÈõ™Â¥©\" class=\"headerlink\" title=\"ÁºìÂ≠òÈõ™Â¥©\"></a>ÁºìÂ≠òÈõ™Â¥©</h1><p>ÁºìÂ≠òÈõ™Â¥©ÊåáÁöÑÊòØÂú®ÁºìÂ≠òÂ§±ÊïàÁöÑÁû¨Èó¥ÔºåÂ§ßÈáèÁöÑËØ∑Ê±ÇÂêåÊó∂Ê∂åÂÖ•Êï∞ÊçÆÂ∫ìÊàñÂÖ∂‰ªñÊï∞ÊçÆÊ∫êÔºåÂØºËá¥Êï∞ÊçÆÂ∫ìË¥üËΩΩÂâßÂ¢ûÔºåÁîöËá≥ÈÄ†ÊàêÊï∞ÊçÆÂ∫ìÂÆïÊú∫ÁöÑÊÉÖÂÜµ„ÄÇ</p>\n<p><img src=\"/images/redis-interview/cache-avalanche.png\" alt=\"Cache Avalanche\"></p>\n<h2 id=\"ÁºìÂ≠òÈõ™Â¥©ÁöÑÂéüÂõ†\"><a href=\"#ÁºìÂ≠òÈõ™Â¥©ÁöÑÂéüÂõ†\" class=\"headerlink\" title=\"ÁºìÂ≠òÈõ™Â¥©ÁöÑÂéüÂõ†\"></a>ÁºìÂ≠òÈõ™Â¥©ÁöÑÂéüÂõ†</h2><p>ÁºìÂ≠òÈõ™Â¥©ÈÄöÂ∏∏ÊòØÁî±‰∫éÁºìÂ≠ò‰∏≠ÁöÑÂ§ßÈáèÊï∞ÊçÆÂêåÊó∂Â§±ÊïàËÄåÂºïËµ∑ÁöÑ„ÄÇÂΩìÂ§ö‰∏™ÁºìÂ≠òÈîÆÂÖ∑ÊúâÁõ∏ÂêåÁöÑÂ§±ÊïàÊó∂Èó¥ÔºåÂπ∂‰∏îËøô‰∫õÁºìÂ≠òÈîÆÂèàÂú®Âêå‰∏ÄÊó∂Èó¥Â§±ÊïàÊó∂ÔºåÂ∞±‰ºöÂØºËá¥Â§ßÈáèËØ∑Ê±ÇÁõ¥Êé•ÂáªÁ©øÁºìÂ≠òÔºåÂêåÊó∂Ê∂åÂÖ•Êï∞ÊçÆÊ∫êÔºåÈÄ†ÊàêÁºìÂ≠òÈõ™Â¥©</p>\n<h2 id=\"ÁºìÂ≠òÈõ™Â¥©ÁöÑËß£ÂÜ≥ÊñπÊ°à\"><a href=\"#ÁºìÂ≠òÈõ™Â¥©ÁöÑËß£ÂÜ≥ÊñπÊ°à\" class=\"headerlink\" title=\"ÁºìÂ≠òÈõ™Â¥©ÁöÑËß£ÂÜ≥ÊñπÊ°à\"></a>ÁºìÂ≠òÈõ™Â¥©ÁöÑËß£ÂÜ≥ÊñπÊ°à</h2><h3 id=\"1-ËÆæÁΩÆÈöèÊú∫ËøáÊúüÊó∂Èó¥\"><a href=\"#1-ËÆæÁΩÆÈöèÊú∫ËøáÊúüÊó∂Èó¥\" class=\"headerlink\" title=\"1. ËÆæÁΩÆÈöèÊú∫ËøáÊúüÊó∂Èó¥\"></a>1. ËÆæÁΩÆÈöèÊú∫ËøáÊúüÊó∂Èó¥</h3><p>ÈÄöËøáÁªôÁºìÂ≠òÈîÆËÆæÁΩÆÈöèÊú∫ÁöÑËøáÊúüÊó∂Èó¥ÔºåÂèØ‰ª•ÊúâÊïàÂú∞ÂàÜÊï£ÁºìÂ≠òÂ§±ÊïàÁöÑÊó∂Èó¥ÁÇπÔºåÈôç‰ΩéÂ§ßÈáèÁºìÂ≠òÂêåÊó∂Â§±ÊïàÁöÑÂèØËÉΩÊÄßÔºå‰ªéËÄåÂáèËΩª‰∫ÜÁºìÂ≠òÈõ™Â¥©ÁöÑÈ£éÈô©„ÄÇ</p>\n<h3 id=\"2-‰ΩøÁî®Â§öÁ∫ßÁºìÂ≠òÁ≠ñÁï•\"><a href=\"#2-‰ΩøÁî®Â§öÁ∫ßÁºìÂ≠òÁ≠ñÁï•\" class=\"headerlink\" title=\"2. ‰ΩøÁî®Â§öÁ∫ßÁºìÂ≠òÁ≠ñÁï•\"></a>2. ‰ΩøÁî®Â§öÁ∫ßÁºìÂ≠òÁ≠ñÁï•</h3><p>ÈááÁî®Â§öÁ∫ßÁºìÂ≠òÊû∂ÊûÑÔºåÂåÖÊã¨Êú¨Âú∞ÁºìÂ≠ò„ÄÅÂàÜÂ∏ÉÂºèÁºìÂ≠òÂíåÊåÅ‰πÖÂåñÂ≠òÂÇ®ÔºåÂΩì‰∏ªÁºìÂ≠òÂ§±ÊïàÊó∂ÔºåÂèØ‰ª•‰ªéÂ§áÁî®ÁºìÂ≠ò‰∏≠Ëé∑ÂèñÊï∞ÊçÆÔºåÈôç‰ΩéÂØπÊï∞ÊçÆÂ∫ìÁöÑÁõ¥Êé•ËÆøÈóÆ„ÄÇ</p>\n<h3 id=\"3-ÈôêÊµÅÂíåÈôçÁ∫ß\"><a href=\"#3-ÈôêÊµÅÂíåÈôçÁ∫ß\" class=\"headerlink\" title=\"3. ÈôêÊµÅÂíåÈôçÁ∫ß\"></a>3. ÈôêÊµÅÂíåÈôçÁ∫ß</h3><p>Âú®ÁºìÂ≠òÂ§±ÊïàÊúüÈó¥ÔºåÂèØ‰ª•ÂØπËØ∑Ê±ÇËøõË°åÈôêÊµÅÔºåÈôç‰ΩéËØ∑Ê±ÇÁöÑÂπ∂ÂèëÊï∞ÈáèÔºå‰ªéËÄåÂáèËΩª‰∫ÜÊï∞ÊçÆÂ∫ìÁöÑÂéãÂäõ„ÄÇÂêåÊó∂ÔºåÂèØ‰ª•ÂØπÈÉ®ÂàÜÈùûÂÖ≥ÈîÆËØ∑Ê±ÇËøõË°åÈôçÁ∫ßÂ§ÑÁêÜÔºåÊöÇÊó∂Â±èËîΩ‰∏Ä‰∫õÈùûÂøÖË¶ÅÁöÑÊúçÂä°Ôºå‰øùËØÅÊ†∏ÂøÉÊúçÂä°ÁöÑÁ®≥ÂÆöÊÄß„ÄÇ</p>\n<h3 id=\"4-È¢ÑÁÉ≠ÁºìÂ≠ò\"><a href=\"#4-È¢ÑÁÉ≠ÁºìÂ≠ò\" class=\"headerlink\" title=\"4. È¢ÑÁÉ≠ÁºìÂ≠ò\"></a>4. È¢ÑÁÉ≠ÁºìÂ≠ò</h3><p>Âú®Á≥ªÁªüÂêØÂä®Êàñ‰ΩéÂ≥∞ÊúüÔºåÈ¢ÑÂÖàÂä†ËΩΩÁºìÂ≠òÊï∞ÊçÆÔºåÊèêÂâçÂ∞ÜÂ∏∏Áî®Êï∞ÊçÆÁºìÂ≠òËµ∑Êù•ÔºåÈÅøÂÖçÂú®È´òÂ≥∞ÊúüÈó¥Â§ßÈáèËØ∑Ê±ÇÁõ¥Êé•ÂáªÁ©øÁºìÂ≠ò„ÄÇ</p>\n<h1 id=\"ÁºìÂ≠òÂáªÁ©ø\"><a href=\"#ÁºìÂ≠òÂáªÁ©ø\" class=\"headerlink\" title=\"ÁºìÂ≠òÂáªÁ©ø\"></a>ÁºìÂ≠òÂáªÁ©ø</h1><p>ÁºìÂ≠òÂáªÁ©øÊòØÊåáÊüê‰∏™ÁÉ≠ÁÇπkeyÁ™ÅÁÑ∂Â§±ÊïàÊàñËÄÖÊú™ÂëΩ‰∏≠ÔºåÂØºËá¥Â§ßÈáèËØ∑Ê±ÇÁõ¥Êé•ËÆøÈóÆÊï∞ÊçÆÂ∫ìÔºåÈÄ†ÊàêÊï∞ÊçÆÂ∫ìÂéãÂäõÂâßÂ¢ûÁöÑÁé∞Ë±°„ÄÇËøôÁßçÊÉÖÂÜµÈÄöÂ∏∏ÂèëÁîüÂú®ÂÖ∑ÊúâÈ´òÂπ∂ÂèëËÆøÈóÆÈáèÁöÑÁ≥ªÁªü‰∏≠ÔºåÁâπÂà´ÊòØÂú®ÁºìÂ≠òÁ≥ªÁªü‰∏≠‰ΩøÁî®‰∫ÜËæÉÁü≠ÁöÑËøáÊúüÊó∂Èó¥ÊàñËÄÖÁÉ≠ÁÇπÊï∞ÊçÆÁöÑËÆøÈóÆÈ¢ëÁéáÁ™ÅÁÑ∂Â¢ûÂä†Êó∂„ÄÇ</p>\n<p><img src=\"/images/redis-interview/cache-breakdown.png\" alt=\"ÁºìÂ≠òÂáªÁ©ø\"></p>\n<ol>\n<li>ËÆæÁΩÆÁÉ≠ÁÇπÊï∞ÊçÆÊ∞∏‰∏çËøáÊúüÔºö ÂØπ‰∫é‰∏Ä‰∫õÁÉ≠ÁÇπÊï∞ÊçÆÔºåÂèØ‰ª•ËÆæÁΩÆÊ∞∏‰∏çËøáÊúüÔºåÊàñËÄÖËÆæÁΩÆËæÉÈïøÁöÑËøáÊúüÊó∂Èó¥Ôºå‰øùËØÅÂÖ∂‰∏ç‰ºöÂú®Áü≠Êó∂Èó¥ÂÜÖÂ§±ÊïàÔºå‰ªéËÄåÈÅøÂÖç‰∫ÜÁºìÂ≠òÂáªÁ©øÁöÑÂèëÁîü„ÄÇ</li>\n<li>Âä†ÈîÅÊú∫Âà∂Ôºö Âú®ÁºìÂ≠òÂ§±ÊïàÊó∂ÔºåÂèØ‰ª•ÈÄöËøáÂä†ÈîÅÊú∫Âà∂Á°Æ‰øùÂè™Êúâ‰∏Ä‰∏™Á∫øÁ®ãËÉΩÂ§üËøõÂÖ•Êï∞ÊçÆÂ∫ìÊü•ËØ¢Êï∞ÊçÆÔºåÂπ∂Â∞ÜÊü•ËØ¢ÁªìÊûúÊõ¥Êñ∞Âà∞ÁºìÂ≠ò‰∏≠ÔºåÈÅøÂÖç‰∫ÜÂ§ö‰∏™Á∫øÁ®ãÂêåÊó∂Êü•ËØ¢Êï∞ÊçÆÂ∫ìÁöÑÊÉÖÂÜµ„ÄÇ</li>\n<li>‰ΩøÁî®‰∫íÊñ•ÈîÅÂíåÂàÜÂ∏ÉÂºèÈîÅÔºö ‰ΩøÁî®‰∫íÊñ•ÈîÅÊàñËÄÖÂàÜÂ∏ÉÂºèÈîÅÊù•‰øùËØÅÂú®Êü•ËØ¢Êï∞ÊçÆÂ∫ìÁöÑËøáÁ®ã‰∏≠ÔºåÂè™Êúâ‰∏Ä‰∏™Á∫øÁ®ãËÉΩÂ§üÊâßË°åÊü•ËØ¢Êìç‰ΩúÔºåÂÖ∂‰ªñÁ∫øÁ®ãÈúÄË¶ÅÁ≠âÂæÖÈîÅÈáäÊîæÂêéÂÜçËøõË°åÊü•ËØ¢ÔºåÈÅøÂÖç‰∫ÜÂπ∂ÂèëËÆøÈóÆÊï∞ÊçÆÂ∫ìÁöÑÊÉÖÂÜµ„ÄÇ</li>\n<li>‰ΩøÁî®ÁºìÂ≠òÈ¢ÑÁÉ≠Ôºö Âú®Á≥ªÁªüÂêØÂä®ÊàñËÄÖ‰ΩéÂ≥∞ÊúüÔºåÂèØ‰ª•È¢ÑÂÖàÂ∞ÜÁÉ≠ÁÇπÊï∞ÊçÆÂä†ËΩΩÂà∞ÁºìÂ≠ò‰∏≠ÔºåÊèêÂâçÂáèÂ∞ë‰∫ÜÁºìÂ≠òÂ§±ÊïàÊó∂ÁöÑÂπ∂ÂèëËØ∑Ê±ÇÈáèÔºå‰ªéËÄåÈÅøÂÖç‰∫ÜÁºìÂ≠òÂáªÁ©øÁöÑÂèëÁîü„ÄÇ</li>\n</ol>\n<p>‰∏ãÈù¢ÊòØ‰∏Ä‰∏™Áî®C#ÂÆûÁé∞ÁöÑÁ§∫‰æã‰ª£Á†ÅÔºåÊºîÁ§∫‰∫ÜÂ¶Ç‰Ωï‰ΩøÁî®‰∫íÊñ•ÈîÅÊù•Ëß£ÂÜ≥ÁºìÂ≠òÂáªÁ©øÈóÆÈ¢òÔºö</p>\n<figure class=\"highlight c#\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">using</span> System;</span><br><span class=\"line\"><span class=\"keyword\">using</span> System.Collections.Generic;</span><br><span class=\"line\"><span class=\"keyword\">using</span> System.Threading;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">Cache</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> Dictionary&lt;<span class=\"built_in\">string</span>, <span class=\"built_in\">string</span>&gt; cache = <span class=\"keyword\">new</span> Dictionary&lt;<span class=\"built_in\">string</span>, <span class=\"built_in\">string</span>&gt;();</span><br><span class=\"line\">    <span class=\"keyword\">private</span> Mutex mutex = <span class=\"keyword\">new</span> Mutex();</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"built_in\">string</span> <span class=\"title\">Get</span>(<span class=\"params\"><span class=\"built_in\">string</span> key</span>)</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"comment\">// ÂÖàÂ∞ùËØï‰ªéÁºìÂ≠ò‰∏≠Ëé∑ÂèñÊï∞ÊçÆ</span></span><br><span class=\"line\">        <span class=\"built_in\">string</span> <span class=\"keyword\">value</span>;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (cache.TryGetValue(key, <span class=\"keyword\">out</span> <span class=\"keyword\">value</span>))</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"keyword\">value</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">// Â¶ÇÊûúÁºìÂ≠ò‰∏≠‰∏çÂ≠òÂú®ÔºåÂä†ÈîÅÊü•ËØ¢Êï∞ÊçÆÂ∫ì</span></span><br><span class=\"line\">        mutex.WaitOne();</span><br><span class=\"line\">        <span class=\"keyword\">try</span></span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"comment\">// ÂÜçÊ¨°Ê£ÄÊü•ÁºìÂ≠òÔºåÈò≤Ê≠¢Â§ö‰∏™Á∫øÁ®ãÂêåÊó∂Êü•ËØ¢Êï∞ÊçÆÂ∫ì</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span> (cache.TryGetValue(key, <span class=\"keyword\">out</span> <span class=\"keyword\">value</span>))</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                <span class=\"keyword\">return</span> <span class=\"keyword\">value</span>;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"comment\">// Ê®°Êãü‰ªéÊï∞ÊçÆÂ∫ì‰∏≠Êü•ËØ¢Êï∞ÊçÆ</span></span><br><span class=\"line\">            <span class=\"keyword\">value</span> = QueryFromDatabase(key);</span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"comment\">// Â∞ÜÊü•ËØ¢ÁªìÊûúÊõ¥Êñ∞Âà∞ÁºìÂ≠ò‰∏≠</span></span><br><span class=\"line\">            cache[key] = <span class=\"keyword\">value</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">finally</span></span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            mutex.ReleaseMutex();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"keyword\">value</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">private</span> <span class=\"built_in\">string</span> <span class=\"title\">QueryFromDatabase</span>(<span class=\"params\"><span class=\"built_in\">string</span> key</span>)</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"comment\">// Ê®°Êãü‰ªéÊï∞ÊçÆÂ∫ì‰∏≠Êü•ËØ¢Êï∞ÊçÆÁöÑËøáÁ®ã</span></span><br><span class=\"line\">        Thread.Sleep(<span class=\"number\">100</span>); <span class=\"comment\">// Ê®°ÊãüËÄóÊó∂Êü•ËØ¢Êìç‰Ωú</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"string\">&quot;value for &quot;</span> + key;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title\">Program</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title\">Main</span>(<span class=\"params\"><span class=\"built_in\">string</span>[] args</span>)</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        Cache cache = <span class=\"keyword\">new</span> Cache();</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">// Âπ∂ÂèëÊü•ËØ¢</span></span><br><span class=\"line\">        List&lt;Thread&gt; threads = <span class=\"keyword\">new</span> List&lt;Thread&gt;();</span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"built_in\">int</span> i = <span class=\"number\">0</span>; i &lt; <span class=\"number\">10</span>; i++)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            Thread thread = <span class=\"keyword\">new</span> Thread(() =&gt;</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                <span class=\"built_in\">string</span> <span class=\"keyword\">value</span> = cache.Get(<span class=\"string\">&quot;key&quot;</span>);</span><br><span class=\"line\">                Console.WriteLine(Thread.CurrentThread.Name + <span class=\"string\">&quot;: &quot;</span> + <span class=\"keyword\">value</span>);</span><br><span class=\"line\">            &#125;);</span><br><span class=\"line\">            thread.Name = <span class=\"string\">&quot;Thread &quot;</span> + i;</span><br><span class=\"line\">            threads.Add(thread);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">foreach</span> (Thread thread <span class=\"keyword\">in</span> threads)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            thread.Start();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">foreach</span> (Thread thread <span class=\"keyword\">in</span> threads)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            thread.Join();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<h1 id=\"Áõ∏ÂÖ≥ÊñáÁ´†Êé®Ëçê\"><a href=\"#Áõ∏ÂÖ≥ÊñáÁ´†Êé®Ëçê\" class=\"headerlink\" title=\"Áõ∏ÂÖ≥ÊñáÁ´†Êé®Ëçê\"></a>Áõ∏ÂÖ≥ÊñáÁ´†Êé®Ëçê</h1><div id=\"References\"></div>\n\n<ul>\n<li><a href=\"http://redis.io/documentation\">RedisÂÆòÊñπÊñáÊ°£</a></li>\n<li><a href=\"https://www.runoob.com/redis/redis-tutorial.html\">RedisÊïôÁ®ã</a></li>\n</ul>\n<p>‰ªäÂ§©Â∞±‰∏çÊÄªÁªì‰∫ÜÔºåÊú™ÂÆåÂæÖÁª≠üò™‚Ä¶</p>\n<p>Êõ¥Â§ö‰∏ÄÊâãËÆØÊÅØÔºåÂèØÂÖ≥Ê≥®ÂÖ¨‰ºóÂè∑Ôºö<a href=\"https://myom-dev.oss-cn-hangzhou.aliyuncs.com/WechatPublicPlatformQrCode.jpg\">ITProHub</a></p>\n<p><img src=\"https://myom-dev.oss-cn-hangzhou.aliyuncs.com/WechatPublicPlatformQrCode.jpg\" alt=\"ITProHub\"></p>\n","site":{"data":{}},"excerpt":"","more":"<p>Áõ∏‰ø°ÂæàÂ§öËÄÅÈìÅÂú®Ê±ÇËÅåËøáÁ®ã‰∏≠ÈÉΩÁúãÂà∞ËøáÁ±ª‰ºº‰∏ãÈù¢ËøôÊ†∑ÁöÑ‰ªªËÅåË¶ÅÊ±Ç</p>\n<img src=\"/images/redis-interview/recruitment.png\" width=\"50%\">\n\n<p>‰Ω†Áî≥ËØ∑ÁöÑÂ≤ó‰Ωç‰∏äÈù¢ÂÜôÁùÄ‚ÄùÁÜüÊÇâRedis‚ÄùÔºåÈÇ£‰πà‰Ω†Â∑≤ÁªèÂáÜÂ§áÂ•ΩÂõûÁ≠îÈù¢ËØïÂÆòÂèØËÉΩ‰ºöÈóÆÂà∞ÁöÑÈóÆÈ¢ò‰∫Ü‰πàÔºü<br>ÂêéÈù¢ÊàëÂ∞ÜÂºÄÂêØ‰∏Ä‰∏™ÈíàÂØπRedisÁöÑÁ≥ªÂàóÂàÜ‰∫´ÔºåÂ∏åÊúõËÉΩÂ∏ÆÂä©ÂàöÂàöÂºÄÂßãÂ≠¶‰π†RedisÁöÑÊúãÂèã‰ª¨„ÄÇ</p>\n<p>Âú®ÂºÄÂßãÈòÖËØªÊú¨ÁØáÊñáÁ´†‰πãÂâçÔºåÈªòËÆ§‰Ω†Â∑≤ÁªèÂÖ∑Â§áÂü∫Á°ÄÁöÑRedisÁü•ËØÜÔºåÂ¶ÇÊûú‰Ω†Ê≤°ÊúâÔºåÂèØ‰ª•ÂÖàÈòÖËØªÊñáÊú´<a href=\"#References\">Áõ∏ÂÖ≥ÊñáÁ´†Êé®Ëçê</a></p>\n<p>ÂΩì‰ΩøÁî® Redis ‰Ωú‰∏∫ÁºìÂ≠òÊàñÊï∞ÊçÆÂ≠òÂÇ®Êó∂ÔºåËôΩÁÑ∂ÂÆÉÊèê‰æõ‰∫ÜÈ´òÊÄßËÉΩÂíåÁÅµÊ¥ªÊÄßÔºå‰ΩÜ‰πüÂ≠òÂú®‰∏Ä‰∫õÈô∑Èò±ÈúÄË¶ÅÊ≥®ÊÑè„ÄÇ‰πãÂâçÁúãÂçöÂÆ¢ÁöÑÊó∂ÂÄôÁúãÂà∞ËøáËøôÊ†∑‰∏ÄÂè•ËØù‚ÄùExperts aren‚Äôt the only people who know what to do. They‚Äôre the people who know what not to do.‚Äú ‰∏ìÂÆ∂Âπ∂‰∏çÊòØÂîØ‰∏ÄÁü•ÈÅìÂ¶Ç‰ΩïÂÅöÁöÑ‰∫∫Ôºå‰ªñ‰ª¨Âè™ÊòØÁü•ÈÅìÂ¶Ç‰ΩïÈÅøÂÖç‰∏Ä‰∫õÈô∑Èò±„ÄÇ</p>\n<p>‰∏ãÈù¢ËÆ≤ËØâÁöÑÊòØ‰∏Ä‰∫õÂ∏∏ËßÅÁöÑ Redis Èô∑Èò±ÔºåÊàñËÄÖËØ¥ÂÆπÊòìÂøΩÁï•ÁöÑÈóÆÈ¢ò„ÄÇÂÜÖÂÆπËæÉÂ§öÔºåÂèØËÉΩ‰ºöÂàÜÂ§öÁØáÊñáÁ´†ÔºåÂ∞ΩÊÉÖÊúüÂæÖ„ÄÇ<br>ÂêåÊó∂Áî±‰∫éË¶ÅËÆ≤ÁöÑÂÜÖÂÆπÂÆûÂú®ÊòØÂ§™Â§öÔºåÊâÄ‰ª•Êú¨ÊñáÊõ¥Â§öÁöÑÂè™ÊòØËµ∑Âà∞‚ÄùÊäõÁ†ñ‚ÄúÁöÑ‰ΩúÁî®ÔºåÊõ¥Â§öÁöÑËØ¶ÁªÜÁöÑÂÜÖÂÆπËøòÈúÄË¶ÅËÄÅÈìÅ‰ª¨Ëá™Â∑±ÂÜçÊ∑±Â±ÇÊ¨°ÁöÑÂéªÂ≠¶‰π†„ÄÇ</p>\n<h1 id=\"ÁºìÂ≠òÁ©øÈÄè\"><a href=\"#ÁºìÂ≠òÁ©øÈÄè\" class=\"headerlink\" title=\"ÁºìÂ≠òÁ©øÈÄè\"></a>ÁºìÂ≠òÁ©øÈÄè</h1><p>ÁºìÂ≠òÁ©øÈÄèÊåáÁöÑÊòØÊÅ∂ÊÑèËØ∑Ê±ÇÊàñËÄÖÂ§ßÈáè‰∏çÂ≠òÂú®ÁöÑ key ÂØºËá¥ÁºìÂ≠òÊó†Ê≥ïÂëΩ‰∏≠Ôºå‰ªéËÄåÁªïËøáÁºìÂ≠òÁõ¥Êé•ËÆøÈóÆÊï∞ÊçÆÂ∫ìÔºåÂØºËá¥Êï∞ÊçÆÂ∫ìÂéãÂäõËøáÂ§ßÔºåÁîöËá≥ÂÆïÊú∫ÁöÑÊÉÖÂÜµ„ÄÇ</p>\n<p><img src=\"/images/redis-interview/cache-penetration.png\" alt=\"ÁºìÂ≠òÁ©øÈÄè\"></p>\n<h2 id=\"ÁºìÂ≠òÁ©øÈÄèÁöÑÂéüÂõ†\"><a href=\"#ÁºìÂ≠òÁ©øÈÄèÁöÑÂéüÂõ†\" class=\"headerlink\" title=\"ÁºìÂ≠òÁ©øÈÄèÁöÑÂéüÂõ†\"></a>ÁºìÂ≠òÁ©øÈÄèÁöÑÂéüÂõ†</h2><p>ÁºìÂ≠òÁ©øÈÄèÈÄöÂ∏∏ÂèëÁîüÂú®‰ª•‰∏ãÊÉÖÂÜµ‰∏ãÔºö</p>\n<ol>\n<li>ÊÅ∂ÊÑèËØ∑Ê±ÇÔºöÊîªÂáªËÄÖÂèëÈÄÅÂ§ßÈáè‰∏çÂ≠òÂú®‰∫éÁºìÂ≠ò‰∏≠ÁöÑ keyÔºåÂØºËá¥ÁºìÂ≠òÊó†Ê≥ïÂëΩ‰∏≠ÔºåÁõ¥Êé•ËÆøÈóÆÊï∞ÊçÆÂ∫ì„ÄÇ</li>\n<li>Â§ßÈáèÂπ∂ÂèëÊü•ËØ¢ÔºöÂΩìÂπ∂ÂèëÊü•ËØ¢ÈáèÂæàÂ§ßÊó∂ÔºåÂèØËÉΩ‰ºöÂá∫Áé∞Â§ßÈáè‰∏çÂ≠òÂú®‰∫éÁºìÂ≠ò‰∏≠ÁöÑ keyÔºå‰ªéËÄåÂØºËá¥ÁºìÂ≠òÁ©øÈÄè„ÄÇ</li>\n</ol>\n<h2 id=\"ÁºìÂ≠òÁ©øÈÄèÁöÑÂΩ±Âìç\"><a href=\"#ÁºìÂ≠òÁ©øÈÄèÁöÑÂΩ±Âìç\" class=\"headerlink\" title=\"ÁºìÂ≠òÁ©øÈÄèÁöÑÂΩ±Âìç\"></a>ÁºìÂ≠òÁ©øÈÄèÁöÑÂΩ±Âìç</h2><ul>\n<li>Êï∞ÊçÆÂ∫ìÂéãÂäõËøáÂ§ßÔºöÂ§ßÈáèÊó†ÊïàËØ∑Ê±ÇÁõ¥Êé•ËÆøÈóÆÊï∞ÊçÆÂ∫ìÔºåÂØºËá¥Êï∞ÊçÆÂ∫ìÂéãÂäõËøáÂ§ßÔºåÁîöËá≥ÂØºËá¥Êï∞ÊçÆÂ∫ìÂÆïÊú∫„ÄÇ</li>\n<li>Á≥ªÁªüÊÄßËÉΩ‰∏ãÈôçÔºöÊï∞ÊçÆÂ∫ìÂéãÂäõÂ¢ûÂ§ßÔºåÂèØËÉΩÂØºËá¥Á≥ªÁªüÂìçÂ∫îÂèòÊÖ¢ÔºåÂΩ±ÂìçÁî®Êà∑‰ΩìÈ™å„ÄÇ</li>\n</ul>\n<h2 id=\"ÁºìÂ≠òÁ©øÈÄèÁöÑËß£ÂÜ≥ÊñπÊ≥ï\"><a href=\"#ÁºìÂ≠òÁ©øÈÄèÁöÑËß£ÂÜ≥ÊñπÊ≥ï\" class=\"headerlink\" title=\"ÁºìÂ≠òÁ©øÈÄèÁöÑËß£ÂÜ≥ÊñπÊ≥ï\"></a>ÁºìÂ≠òÁ©øÈÄèÁöÑËß£ÂÜ≥ÊñπÊ≥ï</h2><ol>\n<li>Á©∫ÂØπË±°ÁºìÂ≠òÔºöÂΩìÊü•ËØ¢ÁªìÊûú‰∏∫Á©∫Êó∂Ôºå‰πüÂ∞ÜËØ•Á©∫ÁªìÊûúÁºìÂ≠òËµ∑Êù•Ôºå‰ΩÜËÆæÁΩÆ‰∏Ä‰∏™ËæÉÁü≠ÁöÑËøáÊúüÊó∂Èó¥ÔºåÈò≤Ê≠¢ÊîªÂáªËÄÖÂà©Áî®ÁºìÂ≠òÁ©øÈÄèÈóÆÈ¢ò„ÄÇ</li>\n<li>Â∏ÉÈöÜËøáÊª§Âô®ÔºöÂú®ÁºìÂ≠òÂ±Ç‰πãÂâçÂ¢ûÂä†Â∏ÉÈöÜËøáÊª§Âô®ÔºåÁî®‰∫éÂø´ÈÄüËøáÊª§Êéâ‰∏çÂ≠òÂú®‰∫éÁºìÂ≠ò‰∏≠ÁöÑ keyÔºå‰ªéËÄåÈÅøÂÖçÁºìÂ≠òÁ©øÈÄè„ÄÇ</li>\n<li>ÁÉ≠ÁÇπÊï∞ÊçÆÈ¢ÑÁÉ≠ÔºöÂ∞ÜÁÉ≠ÁÇπÊï∞ÊçÆÊèêÂâçÂä†ËΩΩÂà∞ÁºìÂ≠ò‰∏≠ÔºåÊèêÈ´òÂëΩ‰∏≠ÁéáÔºåÂáèÂ∞ëÁºìÂ≠òÁ©øÈÄèÁöÑÂèëÁîü„ÄÇ</li>\n<li>ÈôêÊµÅÊéßÂà∂ÔºöÂØπ‰∫éÈ¢ëÁπÅÊü•ËØ¢ÁöÑÊé•Âè£ÔºåÂèØ‰ª•ËøõË°åÈôêÊµÅÊéßÂà∂ÔºåÈò≤Ê≠¢ÊîªÂáªËÄÖÂèëËµ∑Â§ßÈáèÊó†ÊïàËØ∑Ê±Ç„ÄÇ</li>\n<li>‰ΩøÁî®ÁºìÂ≠òÈîÅÔºöÂú®Êü•ËØ¢Êï∞ÊçÆÂ∫ìÊó∂Ôºå‰ΩøÁî®ÁºìÂ≠òÈîÅËøõË°å‰∏≤Ë°åÂåñÂ§ÑÁêÜÔºåÈò≤Ê≠¢Â§ßÈáèÂπ∂ÂèëÊü•ËØ¢ÂØºËá¥ÁºìÂ≠òÁ©øÈÄè„ÄÇ</li>\n</ol>\n<p>‰∏ãÈù¢ÊòØ‰∏Ä‰∏™‰ΩøÁî® C# Á©∫ÂØπË±°ÁºìÂ≠òÁöÑÁ§∫‰æã‰ª£Á†ÅÔºö</p>\n<figure class=\"highlight c#\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">UserBll</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">readonly</span> <span class=\"built_in\">int</span> CACHE_NULL_TTL = <span class=\"number\">10</span>;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">readonly</span> <span class=\"built_in\">int</span> CACHE_TTL = <span class=\"number\">20</span>;</span><br><span class=\"line\">    <span class=\"comment\">/** </span></span><br><span class=\"line\"><span class=\"comment\">     * ÁºìÂ≠òÁ©øÈÄè* </span></span><br><span class=\"line\"><span class=\"comment\">     * @param id </span></span><br><span class=\"line\"><span class=\"comment\">     * @ return </span></span><br><span class=\"line\"><span class=\"comment\">     */</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> WebUserInfo <span class=\"title\">QueryUser</span>(<span class=\"params\"><span class=\"built_in\">string</span> key</span>)</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">var</span> redis = Redis.GetDatabase(<span class=\"number\">0</span>);</span><br><span class=\"line\">        <span class=\"comment\">// 1.‰ªéredis‰∏≠Êü•ËØ¢storeÁºìÂ≠ò</span></span><br><span class=\"line\">        String <span class=\"keyword\">value</span> = redis.StringGet(key);</span><br><span class=\"line\">        WebUserInfo user = <span class=\"literal\">null</span>;</span><br><span class=\"line\">        <span class=\"comment\">// 2.Âà§Êñ≠ÊòØÂê¶Â≠òÂú®</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span>( <span class=\"keyword\">value</span>.HasValue() ) &#123;</span><br><span class=\"line\">            user = <span class=\"keyword\">value</span>.FromJson&lt;WebUserInfo&gt;();</span><br><span class=\"line\">            <span class=\"comment\">// 3.Â≠òÂú®ÔºåÁõ¥Êé•ËøîÂõû</span></span><br><span class=\"line\">            <span class=\"keyword\">return</span> user;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"comment\">// Âà§Êñ≠ÂëΩ‰∏≠ÊòØÂê¶‰∏∫Á©∫ÂÄº</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> ( <span class=\"keyword\">value</span> == <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">            <span class=\"comment\">// ËøîÂõûÈîôËØØ‰ø°ÊÅØ</span></span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"literal\">null</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"comment\">// 4.‰∏çÂ≠òÂú®ÔºåÊ†πÊçÆidÊü•ËØ¢Êï∞ÊçÆÂ∫ì</span></span><br><span class=\"line\">        user = DatabaseQuery(key);</span><br><span class=\"line\">        <span class=\"comment\">// 5. ‰∏çÂ≠òÂú®ÔºåËøîÂõûÈîôËØØ</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span>( user == <span class=\"literal\">null</span> ) &#123;</span><br><span class=\"line\">            <span class=\"comment\">// ÂêëredisÂÜôÂÖ•Á©∫ÂÄºÔºàÁºìÂ≠òÁ©øÈÄèÔºâ</span></span><br><span class=\"line\">            redis.StringSet(key, <span class=\"string\">&quot;&quot;</span>, <span class=\"keyword\">new</span> TimeSpan(<span class=\"number\">0</span>, CACHE_NULL_TTL, <span class=\"number\">0</span>));</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"literal\">null</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"comment\">// 6.Â≠òÂú®ÔºåÂÜôÂÖ•redis</span></span><br><span class=\"line\">        redis.StringSet(key, user.ToJson(), <span class=\"keyword\">new</span> TimeSpan(<span class=\"number\">0</span>, CACHE_TTL, <span class=\"number\">0</span>));</span><br><span class=\"line\">        <span class=\"comment\">// 7. ËøîÂõû</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> user;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> WebUserInfo <span class=\"title\">DatabaseQuery</span>(<span class=\"params\"><span class=\"built_in\">string</span> key</span>)</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"comment\">// Ê®°Êãü‰ªéÊï∞ÊçÆÂ∫ì‰∏≠Êü•ËØ¢Êï∞ÊçÆ</span></span><br><span class=\"line\">        <span class=\"comment\">// ÂÆûÈôÖÊÉÖÂÜµ‰∏ãÔºåËøôÈáåÂèØ‰ª•ÊòØËÆøÈóÆÊï∞ÊçÆÂ∫ì„ÄÅË∞ÉÁî®Â§ñÈÉ® API Á≠âÊìç‰Ωú</span></span><br><span class=\"line\">        <span class=\"comment\">// ËøôÈáåÁÆÄÂåñ‰∏∫ËøîÂõû null</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"literal\">null</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title\">Program</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title\">Main</span>(<span class=\"params\"><span class=\"built_in\">string</span>[] args</span>)</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        UserBll cache = <span class=\"keyword\">new</span> UserBll();</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">// Á¨¨‰∏ÄÊ¨°Êü•ËØ¢ÔºåÁºìÂ≠ò‰∏≠‰∏çÂ≠òÂú®Ôºå‰ΩÜÊòØÊü•ËØ¢ÁªìÊûú‰∏∫Á©∫</span></span><br><span class=\"line\">        <span class=\"built_in\">string</span> result1 = cache.QueryUser(<span class=\"string\">&quot;key1&quot;</span>);</span><br><span class=\"line\">        Console.WriteLine(<span class=\"string\">&quot;Result 1: &quot;</span> + result1); <span class=\"comment\">// Output: Result 1: (null)</span></span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">// Á¨¨‰∫åÊ¨°Êü•ËØ¢ÔºåÁºìÂ≠ò‰∏≠Â∑≤Â≠òÂú®Á©∫ÂØπË±°ÁºìÂ≠òÔºåÁõ¥Êé•ËøîÂõûÁ©∫ÂÄº</span></span><br><span class=\"line\">        <span class=\"built_in\">string</span> result2 = cache.QueryUser(<span class=\"string\">&quot;key1&quot;</span>);</span><br><span class=\"line\">        Console.WriteLine(<span class=\"string\">&quot;Result 2: &quot;</span> + result2); <span class=\"comment\">// Output: Result 2: (null)</span></span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">// Á¨¨‰∏âÊ¨°Êü•ËØ¢ÔºåÊ®°ÊãüÊï∞ÊçÆÂ∫ì‰∏≠Â≠òÂú®ÂØπÂ∫îÂÄºÁöÑÊÉÖÂÜµ</span></span><br><span class=\"line\">        <span class=\"built_in\">string</span> result3 = cache.QueryUser(<span class=\"string\">&quot;key2&quot;</span>);</span><br><span class=\"line\">        Console.WriteLine(<span class=\"string\">&quot;Result 3: &quot;</span> + result3); <span class=\"comment\">// Output: Result 3: &lt;value from database&gt;</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<p>‰∏äËø∞‰ª£Á†Å‰∏≠ÔºåÂΩìÁî®Êà∑ËØ∑Ê±Ç‰∏Ä‰∏™keyÊó∂ÔºåredisÂíåÊï∞ÊçÆÂ∫ìÈÉΩ‰∏çÂ≠òÂú®„ÄÇÊàë‰ª¨Áõ¥Êé•Â∞ÜkeyÂØπÂ∫îÁöÑnullÂÄºÁºìÂ≠òÂà∞redis‰∏≠ÔºåËøôÊ†∑‰∏ãÊ¨°Áî®Êà∑ÈáçÂ§çËØ∑Ê±ÇËøô‰∏™keyÁöÑÊó∂ÂÄôÔºåredisÂ∞±ÂèØ‰ª•ÂëΩ‰∏≠Ôºàhit nullÔºâÔºåÂè™ÊòØ‰∏ç‰ºöËØ¢ÈóÆÊï∞ÊçÆÂ∫ì</p>\n<ul>\n<li>‰ºòÁÇπÔºöÂÆûÁé∞ÁÆÄÂçïÔºåÊòì‰∫éÁª¥Êä§</li>\n<li>Áº∫ÁÇπÔºöÈ¢ùÂ§ñÁöÑÂÜÖÂ≠òÊ∂àËÄóÔºàÂèØ‰ª•ÈÄöËøáÊ∑ªÂä†TTLÊù•Ëß£ÂÜ≥Ôºâ</li>\n</ul>\n<p>ÂêåÊó∂ÂèØËÉΩ‰ºöÈÄ†ÊàêÁü≠ÊöÇÁöÑ‰∏ç‰∏ÄËá¥ÔºàÊéßÂà∂TTLÊó∂Èó¥ÂèØ‰ª•Âú®‰∏ÄÂÆöÁ®ãÂ∫¶‰∏äÁºìËß£Ôºâ„ÄÇÂΩìnullË¢´ÁºìÂ≠òÊó∂ÔºåÊàë‰ª¨Âè™ÊòØÂú®Êï∞ÊçÆÂ∫ì‰∏≠ËÆæÁΩÆÂÄºÔºåËÄåÁî®Êà∑query‰∏∫Á©∫Ôºå‰ΩÜÊï∞ÊçÆÂ∫ì‰∏≠ÂÆûÈôÖÂ≠òÂú®Ôºå‰ºöÈÄ†Êàê‰∏ç‰∏ÄËá¥ÔºàÂèØ‰ª•ÈÄöËøáÊèíÂÖ•Êï∞ÊçÆÊó∂Ëá™Âä®Ë¶ÜÁõñ‰πãÂâçÁöÑÁ©∫Êï∞ÊçÆÊù•Ëß£ÂÜ≥Ôºâ</p>\n<h1 id=\"ÁºìÂ≠òÈõ™Â¥©\"><a href=\"#ÁºìÂ≠òÈõ™Â¥©\" class=\"headerlink\" title=\"ÁºìÂ≠òÈõ™Â¥©\"></a>ÁºìÂ≠òÈõ™Â¥©</h1><p>ÁºìÂ≠òÈõ™Â¥©ÊåáÁöÑÊòØÂú®ÁºìÂ≠òÂ§±ÊïàÁöÑÁû¨Èó¥ÔºåÂ§ßÈáèÁöÑËØ∑Ê±ÇÂêåÊó∂Ê∂åÂÖ•Êï∞ÊçÆÂ∫ìÊàñÂÖ∂‰ªñÊï∞ÊçÆÊ∫êÔºåÂØºËá¥Êï∞ÊçÆÂ∫ìË¥üËΩΩÂâßÂ¢ûÔºåÁîöËá≥ÈÄ†ÊàêÊï∞ÊçÆÂ∫ìÂÆïÊú∫ÁöÑÊÉÖÂÜµ„ÄÇ</p>\n<p><img src=\"/images/redis-interview/cache-avalanche.png\" alt=\"Cache Avalanche\"></p>\n<h2 id=\"ÁºìÂ≠òÈõ™Â¥©ÁöÑÂéüÂõ†\"><a href=\"#ÁºìÂ≠òÈõ™Â¥©ÁöÑÂéüÂõ†\" class=\"headerlink\" title=\"ÁºìÂ≠òÈõ™Â¥©ÁöÑÂéüÂõ†\"></a>ÁºìÂ≠òÈõ™Â¥©ÁöÑÂéüÂõ†</h2><p>ÁºìÂ≠òÈõ™Â¥©ÈÄöÂ∏∏ÊòØÁî±‰∫éÁºìÂ≠ò‰∏≠ÁöÑÂ§ßÈáèÊï∞ÊçÆÂêåÊó∂Â§±ÊïàËÄåÂºïËµ∑ÁöÑ„ÄÇÂΩìÂ§ö‰∏™ÁºìÂ≠òÈîÆÂÖ∑ÊúâÁõ∏ÂêåÁöÑÂ§±ÊïàÊó∂Èó¥ÔºåÂπ∂‰∏îËøô‰∫õÁºìÂ≠òÈîÆÂèàÂú®Âêå‰∏ÄÊó∂Èó¥Â§±ÊïàÊó∂ÔºåÂ∞±‰ºöÂØºËá¥Â§ßÈáèËØ∑Ê±ÇÁõ¥Êé•ÂáªÁ©øÁºìÂ≠òÔºåÂêåÊó∂Ê∂åÂÖ•Êï∞ÊçÆÊ∫êÔºåÈÄ†ÊàêÁºìÂ≠òÈõ™Â¥©</p>\n<h2 id=\"ÁºìÂ≠òÈõ™Â¥©ÁöÑËß£ÂÜ≥ÊñπÊ°à\"><a href=\"#ÁºìÂ≠òÈõ™Â¥©ÁöÑËß£ÂÜ≥ÊñπÊ°à\" class=\"headerlink\" title=\"ÁºìÂ≠òÈõ™Â¥©ÁöÑËß£ÂÜ≥ÊñπÊ°à\"></a>ÁºìÂ≠òÈõ™Â¥©ÁöÑËß£ÂÜ≥ÊñπÊ°à</h2><h3 id=\"1-ËÆæÁΩÆÈöèÊú∫ËøáÊúüÊó∂Èó¥\"><a href=\"#1-ËÆæÁΩÆÈöèÊú∫ËøáÊúüÊó∂Èó¥\" class=\"headerlink\" title=\"1. ËÆæÁΩÆÈöèÊú∫ËøáÊúüÊó∂Èó¥\"></a>1. ËÆæÁΩÆÈöèÊú∫ËøáÊúüÊó∂Èó¥</h3><p>ÈÄöËøáÁªôÁºìÂ≠òÈîÆËÆæÁΩÆÈöèÊú∫ÁöÑËøáÊúüÊó∂Èó¥ÔºåÂèØ‰ª•ÊúâÊïàÂú∞ÂàÜÊï£ÁºìÂ≠òÂ§±ÊïàÁöÑÊó∂Èó¥ÁÇπÔºåÈôç‰ΩéÂ§ßÈáèÁºìÂ≠òÂêåÊó∂Â§±ÊïàÁöÑÂèØËÉΩÊÄßÔºå‰ªéËÄåÂáèËΩª‰∫ÜÁºìÂ≠òÈõ™Â¥©ÁöÑÈ£éÈô©„ÄÇ</p>\n<h3 id=\"2-‰ΩøÁî®Â§öÁ∫ßÁºìÂ≠òÁ≠ñÁï•\"><a href=\"#2-‰ΩøÁî®Â§öÁ∫ßÁºìÂ≠òÁ≠ñÁï•\" class=\"headerlink\" title=\"2. ‰ΩøÁî®Â§öÁ∫ßÁºìÂ≠òÁ≠ñÁï•\"></a>2. ‰ΩøÁî®Â§öÁ∫ßÁºìÂ≠òÁ≠ñÁï•</h3><p>ÈááÁî®Â§öÁ∫ßÁºìÂ≠òÊû∂ÊûÑÔºåÂåÖÊã¨Êú¨Âú∞ÁºìÂ≠ò„ÄÅÂàÜÂ∏ÉÂºèÁºìÂ≠òÂíåÊåÅ‰πÖÂåñÂ≠òÂÇ®ÔºåÂΩì‰∏ªÁºìÂ≠òÂ§±ÊïàÊó∂ÔºåÂèØ‰ª•‰ªéÂ§áÁî®ÁºìÂ≠ò‰∏≠Ëé∑ÂèñÊï∞ÊçÆÔºåÈôç‰ΩéÂØπÊï∞ÊçÆÂ∫ìÁöÑÁõ¥Êé•ËÆøÈóÆ„ÄÇ</p>\n<h3 id=\"3-ÈôêÊµÅÂíåÈôçÁ∫ß\"><a href=\"#3-ÈôêÊµÅÂíåÈôçÁ∫ß\" class=\"headerlink\" title=\"3. ÈôêÊµÅÂíåÈôçÁ∫ß\"></a>3. ÈôêÊµÅÂíåÈôçÁ∫ß</h3><p>Âú®ÁºìÂ≠òÂ§±ÊïàÊúüÈó¥ÔºåÂèØ‰ª•ÂØπËØ∑Ê±ÇËøõË°åÈôêÊµÅÔºåÈôç‰ΩéËØ∑Ê±ÇÁöÑÂπ∂ÂèëÊï∞ÈáèÔºå‰ªéËÄåÂáèËΩª‰∫ÜÊï∞ÊçÆÂ∫ìÁöÑÂéãÂäõ„ÄÇÂêåÊó∂ÔºåÂèØ‰ª•ÂØπÈÉ®ÂàÜÈùûÂÖ≥ÈîÆËØ∑Ê±ÇËøõË°åÈôçÁ∫ßÂ§ÑÁêÜÔºåÊöÇÊó∂Â±èËîΩ‰∏Ä‰∫õÈùûÂøÖË¶ÅÁöÑÊúçÂä°Ôºå‰øùËØÅÊ†∏ÂøÉÊúçÂä°ÁöÑÁ®≥ÂÆöÊÄß„ÄÇ</p>\n<h3 id=\"4-È¢ÑÁÉ≠ÁºìÂ≠ò\"><a href=\"#4-È¢ÑÁÉ≠ÁºìÂ≠ò\" class=\"headerlink\" title=\"4. È¢ÑÁÉ≠ÁºìÂ≠ò\"></a>4. È¢ÑÁÉ≠ÁºìÂ≠ò</h3><p>Âú®Á≥ªÁªüÂêØÂä®Êàñ‰ΩéÂ≥∞ÊúüÔºåÈ¢ÑÂÖàÂä†ËΩΩÁºìÂ≠òÊï∞ÊçÆÔºåÊèêÂâçÂ∞ÜÂ∏∏Áî®Êï∞ÊçÆÁºìÂ≠òËµ∑Êù•ÔºåÈÅøÂÖçÂú®È´òÂ≥∞ÊúüÈó¥Â§ßÈáèËØ∑Ê±ÇÁõ¥Êé•ÂáªÁ©øÁºìÂ≠ò„ÄÇ</p>\n<h1 id=\"ÁºìÂ≠òÂáªÁ©ø\"><a href=\"#ÁºìÂ≠òÂáªÁ©ø\" class=\"headerlink\" title=\"ÁºìÂ≠òÂáªÁ©ø\"></a>ÁºìÂ≠òÂáªÁ©ø</h1><p>ÁºìÂ≠òÂáªÁ©øÊòØÊåáÊüê‰∏™ÁÉ≠ÁÇπkeyÁ™ÅÁÑ∂Â§±ÊïàÊàñËÄÖÊú™ÂëΩ‰∏≠ÔºåÂØºËá¥Â§ßÈáèËØ∑Ê±ÇÁõ¥Êé•ËÆøÈóÆÊï∞ÊçÆÂ∫ìÔºåÈÄ†ÊàêÊï∞ÊçÆÂ∫ìÂéãÂäõÂâßÂ¢ûÁöÑÁé∞Ë±°„ÄÇËøôÁßçÊÉÖÂÜµÈÄöÂ∏∏ÂèëÁîüÂú®ÂÖ∑ÊúâÈ´òÂπ∂ÂèëËÆøÈóÆÈáèÁöÑÁ≥ªÁªü‰∏≠ÔºåÁâπÂà´ÊòØÂú®ÁºìÂ≠òÁ≥ªÁªü‰∏≠‰ΩøÁî®‰∫ÜËæÉÁü≠ÁöÑËøáÊúüÊó∂Èó¥ÊàñËÄÖÁÉ≠ÁÇπÊï∞ÊçÆÁöÑËÆøÈóÆÈ¢ëÁéáÁ™ÅÁÑ∂Â¢ûÂä†Êó∂„ÄÇ</p>\n<p><img src=\"/images/redis-interview/cache-breakdown.png\" alt=\"ÁºìÂ≠òÂáªÁ©ø\"></p>\n<ol>\n<li>ËÆæÁΩÆÁÉ≠ÁÇπÊï∞ÊçÆÊ∞∏‰∏çËøáÊúüÔºö ÂØπ‰∫é‰∏Ä‰∫õÁÉ≠ÁÇπÊï∞ÊçÆÔºåÂèØ‰ª•ËÆæÁΩÆÊ∞∏‰∏çËøáÊúüÔºåÊàñËÄÖËÆæÁΩÆËæÉÈïøÁöÑËøáÊúüÊó∂Èó¥Ôºå‰øùËØÅÂÖ∂‰∏ç‰ºöÂú®Áü≠Êó∂Èó¥ÂÜÖÂ§±ÊïàÔºå‰ªéËÄåÈÅøÂÖç‰∫ÜÁºìÂ≠òÂáªÁ©øÁöÑÂèëÁîü„ÄÇ</li>\n<li>Âä†ÈîÅÊú∫Âà∂Ôºö Âú®ÁºìÂ≠òÂ§±ÊïàÊó∂ÔºåÂèØ‰ª•ÈÄöËøáÂä†ÈîÅÊú∫Âà∂Á°Æ‰øùÂè™Êúâ‰∏Ä‰∏™Á∫øÁ®ãËÉΩÂ§üËøõÂÖ•Êï∞ÊçÆÂ∫ìÊü•ËØ¢Êï∞ÊçÆÔºåÂπ∂Â∞ÜÊü•ËØ¢ÁªìÊûúÊõ¥Êñ∞Âà∞ÁºìÂ≠ò‰∏≠ÔºåÈÅøÂÖç‰∫ÜÂ§ö‰∏™Á∫øÁ®ãÂêåÊó∂Êü•ËØ¢Êï∞ÊçÆÂ∫ìÁöÑÊÉÖÂÜµ„ÄÇ</li>\n<li>‰ΩøÁî®‰∫íÊñ•ÈîÅÂíåÂàÜÂ∏ÉÂºèÈîÅÔºö ‰ΩøÁî®‰∫íÊñ•ÈîÅÊàñËÄÖÂàÜÂ∏ÉÂºèÈîÅÊù•‰øùËØÅÂú®Êü•ËØ¢Êï∞ÊçÆÂ∫ìÁöÑËøáÁ®ã‰∏≠ÔºåÂè™Êúâ‰∏Ä‰∏™Á∫øÁ®ãËÉΩÂ§üÊâßË°åÊü•ËØ¢Êìç‰ΩúÔºåÂÖ∂‰ªñÁ∫øÁ®ãÈúÄË¶ÅÁ≠âÂæÖÈîÅÈáäÊîæÂêéÂÜçËøõË°åÊü•ËØ¢ÔºåÈÅøÂÖç‰∫ÜÂπ∂ÂèëËÆøÈóÆÊï∞ÊçÆÂ∫ìÁöÑÊÉÖÂÜµ„ÄÇ</li>\n<li>‰ΩøÁî®ÁºìÂ≠òÈ¢ÑÁÉ≠Ôºö Âú®Á≥ªÁªüÂêØÂä®ÊàñËÄÖ‰ΩéÂ≥∞ÊúüÔºåÂèØ‰ª•È¢ÑÂÖàÂ∞ÜÁÉ≠ÁÇπÊï∞ÊçÆÂä†ËΩΩÂà∞ÁºìÂ≠ò‰∏≠ÔºåÊèêÂâçÂáèÂ∞ë‰∫ÜÁºìÂ≠òÂ§±ÊïàÊó∂ÁöÑÂπ∂ÂèëËØ∑Ê±ÇÈáèÔºå‰ªéËÄåÈÅøÂÖç‰∫ÜÁºìÂ≠òÂáªÁ©øÁöÑÂèëÁîü„ÄÇ</li>\n</ol>\n<p>‰∏ãÈù¢ÊòØ‰∏Ä‰∏™Áî®C#ÂÆûÁé∞ÁöÑÁ§∫‰æã‰ª£Á†ÅÔºåÊºîÁ§∫‰∫ÜÂ¶Ç‰Ωï‰ΩøÁî®‰∫íÊñ•ÈîÅÊù•Ëß£ÂÜ≥ÁºìÂ≠òÂáªÁ©øÈóÆÈ¢òÔºö</p>\n<figure class=\"highlight c#\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">using</span> System;</span><br><span class=\"line\"><span class=\"keyword\">using</span> System.Collections.Generic;</span><br><span class=\"line\"><span class=\"keyword\">using</span> System.Threading;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">Cache</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> Dictionary&lt;<span class=\"built_in\">string</span>, <span class=\"built_in\">string</span>&gt; cache = <span class=\"keyword\">new</span> Dictionary&lt;<span class=\"built_in\">string</span>, <span class=\"built_in\">string</span>&gt;();</span><br><span class=\"line\">    <span class=\"keyword\">private</span> Mutex mutex = <span class=\"keyword\">new</span> Mutex();</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"built_in\">string</span> <span class=\"title\">Get</span>(<span class=\"params\"><span class=\"built_in\">string</span> key</span>)</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"comment\">// ÂÖàÂ∞ùËØï‰ªéÁºìÂ≠ò‰∏≠Ëé∑ÂèñÊï∞ÊçÆ</span></span><br><span class=\"line\">        <span class=\"built_in\">string</span> <span class=\"keyword\">value</span>;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (cache.TryGetValue(key, <span class=\"keyword\">out</span> <span class=\"keyword\">value</span>))</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"keyword\">value</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">// Â¶ÇÊûúÁºìÂ≠ò‰∏≠‰∏çÂ≠òÂú®ÔºåÂä†ÈîÅÊü•ËØ¢Êï∞ÊçÆÂ∫ì</span></span><br><span class=\"line\">        mutex.WaitOne();</span><br><span class=\"line\">        <span class=\"keyword\">try</span></span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"comment\">// ÂÜçÊ¨°Ê£ÄÊü•ÁºìÂ≠òÔºåÈò≤Ê≠¢Â§ö‰∏™Á∫øÁ®ãÂêåÊó∂Êü•ËØ¢Êï∞ÊçÆÂ∫ì</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span> (cache.TryGetValue(key, <span class=\"keyword\">out</span> <span class=\"keyword\">value</span>))</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                <span class=\"keyword\">return</span> <span class=\"keyword\">value</span>;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"comment\">// Ê®°Êãü‰ªéÊï∞ÊçÆÂ∫ì‰∏≠Êü•ËØ¢Êï∞ÊçÆ</span></span><br><span class=\"line\">            <span class=\"keyword\">value</span> = QueryFromDatabase(key);</span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"comment\">// Â∞ÜÊü•ËØ¢ÁªìÊûúÊõ¥Êñ∞Âà∞ÁºìÂ≠ò‰∏≠</span></span><br><span class=\"line\">            cache[key] = <span class=\"keyword\">value</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">finally</span></span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            mutex.ReleaseMutex();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"keyword\">value</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">private</span> <span class=\"built_in\">string</span> <span class=\"title\">QueryFromDatabase</span>(<span class=\"params\"><span class=\"built_in\">string</span> key</span>)</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"comment\">// Ê®°Êãü‰ªéÊï∞ÊçÆÂ∫ì‰∏≠Êü•ËØ¢Êï∞ÊçÆÁöÑËøáÁ®ã</span></span><br><span class=\"line\">        Thread.Sleep(<span class=\"number\">100</span>); <span class=\"comment\">// Ê®°ÊãüËÄóÊó∂Êü•ËØ¢Êìç‰Ωú</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"string\">&quot;value for &quot;</span> + key;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title\">Program</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title\">Main</span>(<span class=\"params\"><span class=\"built_in\">string</span>[] args</span>)</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        Cache cache = <span class=\"keyword\">new</span> Cache();</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">// Âπ∂ÂèëÊü•ËØ¢</span></span><br><span class=\"line\">        List&lt;Thread&gt; threads = <span class=\"keyword\">new</span> List&lt;Thread&gt;();</span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"built_in\">int</span> i = <span class=\"number\">0</span>; i &lt; <span class=\"number\">10</span>; i++)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            Thread thread = <span class=\"keyword\">new</span> Thread(() =&gt;</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                <span class=\"built_in\">string</span> <span class=\"keyword\">value</span> = cache.Get(<span class=\"string\">&quot;key&quot;</span>);</span><br><span class=\"line\">                Console.WriteLine(Thread.CurrentThread.Name + <span class=\"string\">&quot;: &quot;</span> + <span class=\"keyword\">value</span>);</span><br><span class=\"line\">            &#125;);</span><br><span class=\"line\">            thread.Name = <span class=\"string\">&quot;Thread &quot;</span> + i;</span><br><span class=\"line\">            threads.Add(thread);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">foreach</span> (Thread thread <span class=\"keyword\">in</span> threads)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            thread.Start();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">foreach</span> (Thread thread <span class=\"keyword\">in</span> threads)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            thread.Join();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<h1 id=\"Áõ∏ÂÖ≥ÊñáÁ´†Êé®Ëçê\"><a href=\"#Áõ∏ÂÖ≥ÊñáÁ´†Êé®Ëçê\" class=\"headerlink\" title=\"Áõ∏ÂÖ≥ÊñáÁ´†Êé®Ëçê\"></a>Áõ∏ÂÖ≥ÊñáÁ´†Êé®Ëçê</h1><div id=\"References\"></div>\n\n<ul>\n<li><a href=\"http://redis.io/documentation\">RedisÂÆòÊñπÊñáÊ°£</a></li>\n<li><a href=\"https://www.runoob.com/redis/redis-tutorial.html\">RedisÊïôÁ®ã</a></li>\n</ul>\n<p>‰ªäÂ§©Â∞±‰∏çÊÄªÁªì‰∫ÜÔºåÊú™ÂÆåÂæÖÁª≠üò™‚Ä¶</p>\n<p>Êõ¥Â§ö‰∏ÄÊâãËÆØÊÅØÔºåÂèØÂÖ≥Ê≥®ÂÖ¨‰ºóÂè∑Ôºö<a href=\"https://myom-dev.oss-cn-hangzhou.aliyuncs.com/WechatPublicPlatformQrCode.jpg\">ITProHub</a></p>\n<p><img src=\"https://myom-dev.oss-cn-hangzhou.aliyuncs.com/WechatPublicPlatformQrCode.jpg\" alt=\"ITProHub\"></p>\n"},{"title":"DumpÂàÜÊûêÂÖ•Èó®ÊåáÂçó","date":"2024-04-28T06:18:14.000Z","_content":"\nÊÉ≥Ë±°‰∏Ä‰∏ãÔºåÁ™ÅÁÑ∂Êúâ‰∏ÄÂ§©ÈÉ®ÁΩ≤Âú®ÊúçÂä°Âô®‰∏äÁöÑÂ∫îÁî®Á™ÅÁÑ∂ÊåÇ‰∫ÜÔºÅÊ≤°Êúâ‰∏ÄÁÇπÁÇπÈò≤Â§áÔºå‰πüÊ≤°Êúâ‰∏Ä‰∏ùÈ°æËôëÔºå‰Ω†Â∞±ËøôÊ†∑Âá∫Áé∞„ÄÇ„ÄÇ„ÄÇ\nÊåÇÂ∞±ÊåÇ‰∫ÜÂêßÔºåÊúçÂä°ËøòÊ≤°ÊúâËæìÂá∫‰ªªÂä°ÁöÑÈîôËØØ‰ø°ÊÅØ„ÄÇËøô‰∏™Êó∂ÂÄôÊúâÊ≤°Êúâ‰ªÄ‰πàÈÄîÂæÑÂèØ‰ª•ËÆ©ÊàëÊâæÂà∞Â¥©Ê∫ÉÁöÑÂéüÂõ†Âë¢Ôºü\n\n![crash](./images/dump/crash.jpeg)\n\nÂú®ËΩØ‰ª∂ÂºÄÂèëÂíåËøêÁª¥ËøáÁ®ã‰∏≠ÔºåDump Êñá‰ª∂ÊòØ‰∏ÄÁßçÈùûÂ∏∏ÈáçË¶ÅÁöÑÂ∑•ÂÖ∑ÔºåÂèØ‰ª•Â∏ÆÂä©Êàë‰ª¨ÂÆö‰ΩçÂíåËß£ÂÜ≥ÂêÑÁßçÈóÆÈ¢òÔºåÂåÖÊã¨Â∫îÁî®Á®ãÂ∫èÂ¥©Ê∫É„ÄÅÊÄßËÉΩÈóÆÈ¢ò„ÄÅÂÜÖÂ≠òÊ≥ÑÊºèÁ≠â„ÄÇÊú¨ÊñáÂ∞Ü‰ªãÁªç Dump Êñá‰ª∂ÁöÑÂü∫Êú¨Ê¶ÇÂøµ„ÄÅÂ∏∏ËßÅÁ±ªÂûã‰ª•ÂèäÂ¶Ç‰ΩïËøõË°åÂàÜÊûêÂíåÂà©Áî®ÔºåÂ∏ÆÂä©ËØªËÄÖÊõ¥Â•ΩÂú∞ÁêÜËß£ÂíåÂà©Áî® Dump Êñá‰ª∂ËøõË°åÊïÖÈöúÊéíÊü•ÂíåÊÄßËÉΩ‰ºòÂåñ„ÄÇ\n\n\n# Dump Êñá‰ª∂ÊòØ‰ªÄ‰πàÔºü\nDump Êñá‰ª∂ÊòØÂú®Â∫îÁî®Á®ãÂ∫èÂèëÁîüÂ¥©Ê∫ÉÊàñÂºÇÂ∏∏ÊÉÖÂÜµÊó∂ÁîüÊàêÁöÑ‰∏ÄÁßçÂÜÖÂ≠òËΩ¨ÂÇ®Êñá‰ª∂ÔºåËÆ∞ÂΩï‰∫ÜÂ∫îÁî®Á®ãÂ∫èÂú®Â¥©Ê∫ÉÊó∂ÁöÑÂÜÖÂ≠òÁä∂ÊÄÅ„ÄÅÁ∫øÁ®ãÂ†ÜÊ†à„ÄÅÂèòÈáèÂÄºÁ≠â‰ø°ÊÅØ„ÄÇDump Êñá‰ª∂ÈÄöÂ∏∏‰ª• .dmp Êàñ .core Á≠âÊâ©Â±ïÂêç‰øùÂ≠òÔºåÂèØ‰ª•Ë¢´Áî®‰∫éÂêéÁª≠ÁöÑÊïÖÈöúÊéíÊü•ÂíåÂàÜÊûê„ÄÇ\n\n## Â∏∏ËßÅÁöÑ Dump Êñá‰ª∂Á±ªÂûã\n+ ÂÆåÂÖ®ÂÜÖÂ≠òËΩ¨ÂÇ®ÔºàFull Memory DumpÔºâÔºö ÂÆåÂÖ®ÂÜÖÂ≠òËΩ¨ÂÇ®ËÆ∞ÂΩï‰∫ÜÊï¥‰∏™ËøõÁ®ãÁöÑÂÜÖÂ≠òÁä∂ÊÄÅÔºåÂåÖÊã¨‰ª£Á†Å„ÄÅÊï∞ÊçÆ„ÄÅÂ†ÜÊ†à„ÄÅÂØÑÂ≠òÂô®Á≠â‰ø°ÊÅØ„ÄÇËøôÁßçÁ±ªÂûãÁöÑ Dump Êñá‰ª∂ÈÄöÂ∏∏Áî®‰∫éÂàÜÊûêÂ∫îÁî®Á®ãÂ∫èÂ¥©Ê∫ÉÁöÑÊ†πÊú¨ÂéüÂõ†„ÄÇ\n+ Ëø∑‰Ω†ÂÜÖÂ≠òËΩ¨ÂÇ®ÔºàMini DumpÔºâÔºö Ëø∑‰Ω†ÂÜÖÂ≠òËΩ¨ÂÇ®Âè™ËÆ∞ÂΩï‰∫ÜÂ∫îÁî®Á®ãÂ∫èÂ¥©Ê∫ÉÊó∂ÁöÑÂÖ≥ÈîÆ‰ø°ÊÅØÔºåÂ¶ÇÁ∫øÁ®ãÂ†ÜÊ†à„ÄÅÂºÇÂ∏∏‰ø°ÊÅØÁ≠âÔºå‰ΩìÁßØÁõ∏ÂØπËæÉÂ∞è„ÄÇËøôÁßçÁ±ªÂûãÁöÑ Dump Êñá‰ª∂ÈÄöÂ∏∏Áî®‰∫éÂø´ÈÄüÂÆö‰ΩçÈóÆÈ¢òÔºå‰ΩÜÂèØËÉΩ‰∏¢Â§±‰∏Ä‰∫õËØ¶ÁªÜ‰ø°ÊÅØ„ÄÇ\n+ Ê†∏ÂøÉËΩ¨ÂÇ®ÔºàCore DumpÔºâÔºö Ê†∏ÂøÉËΩ¨ÂÇ®ÊòØÂú® Unix/Linux Á≥ªÁªü‰∏ã‰∫ßÁîüÁöÑ‰∏ÄÁßçÂÜÖÂ≠òËΩ¨ÂÇ®Êñá‰ª∂ÔºåËÆ∞ÂΩï‰∫ÜÂ∫îÁî®Á®ãÂ∫èÂ¥©Ê∫ÉÊó∂ÁöÑÂÜÖÂ≠òÁä∂ÊÄÅ„ÄÇÊ†∏ÂøÉËΩ¨ÂÇ®Êñá‰ª∂ÈÄöÂ∏∏Áî®‰∫éÂàÜÊûêÂ∫îÁî®Á®ãÂ∫èÂ¥©Ê∫ÉÁöÑÂéüÂõ†ÂíåÂÜÖÂ≠ò‰ΩøÁî®ÊÉÖÂÜµ„ÄÇ\n\n# Dump Êñá‰ª∂ÂàÜÊûêÁöÑÂü∫Êú¨Ê≠•È™§\n1. Êî∂ÈõÜ Dump Êñá‰ª∂Ôºö È¶ñÂÖàÈúÄË¶ÅÊî∂ÈõÜÂà∞Â∫îÁî®Á®ãÂ∫èÂ¥©Ê∫ÉÊó∂ÁîüÊàêÁöÑ Dump Êñá‰ª∂ÔºåÂèØ‰ª•ÈÄöËøáÊìç‰ΩúÁ≥ªÁªü„ÄÅÁõëÊéßÂ∑•ÂÖ∑ÊàñËÄÖÂ∫îÁî®Á®ãÂ∫èËá™Ë∫´ËÆæÁΩÆÊù•Ëé∑Âèñ„ÄÇ\n2. ÈÄâÊã©ÂêàÈÄÇÁöÑÂ∑•ÂÖ∑Ôºö Ê†πÊçÆ Dump Êñá‰ª∂ÁöÑÁ±ªÂûãÂíåÈóÆÈ¢òÁöÑÊÄßË¥®ÔºåÈÄâÊã©ÂêàÈÄÇÁöÑÂ∑•ÂÖ∑ËøõË°åÂàÜÊûê„ÄÇÂ∏∏Áî®ÁöÑÂ∑•ÂÖ∑ÂåÖÊã¨ WinDbg„ÄÅGDB„ÄÅVisual Studio Á≠â„ÄÇ\n3. ÂàÜÊûêdumpÊñá‰ª∂\n    + Êü•ÁúãÁ∫øÁ®ãÂ†ÜÊ†àÔºö ÂàÜÊûêÁ∫øÁ®ãÂ†ÜÊ†à‰ø°ÊÅØÔºåÂÆö‰ΩçÂà∞ÂºÇÂ∏∏ÂèëÁîüÊó∂ÁöÑ‰ª£Á†Å‰ΩçÁΩÆÔºå‰∫ÜËß£Á®ãÂ∫èÁöÑÊâßË°åÊµÅÁ®ãÂíåË∞ÉÁî®ÂÖ≥Á≥ª„ÄÇ\n    + Ê£ÄÊü•ÂÜÖÂ≠ò‰ΩøÁî®ÊÉÖÂÜµÔºö ÂàÜÊûêÂÜÖÂ≠ò‰ΩøÁî®ÊÉÖÂÜµÔºåÊü•ÊâæÂèØËÉΩÂ≠òÂú®ÁöÑÂÜÖÂ≠òÊ≥ÑÊºèÊàñËÄÖËøáÂ∫¶‰ΩøÁî®ÂÜÖÂ≠òÁöÑÊÉÖÂÜµÔºå‰ºòÂåñÂÜÖÂ≠òÁÆ°ÁêÜÂíåËµÑÊ∫êÈáäÊîæ„ÄÇ\n    + ÂàÜÊûêÂºÇÂ∏∏‰ø°ÊÅØÔºö Êü•ÁúãÂºÇÂ∏∏‰ø°ÊÅØÔºå‰∫ÜËß£ÂºÇÂ∏∏ÁöÑÁ±ªÂûã„ÄÅ‰ΩçÁΩÆÂíåÂéüÂõ†Ôºå‰∏∫ÊïÖÈöúÊéíÊü•Êèê‰æõÈáçË¶ÅÁ∫øÁ¥¢„ÄÇ\n    + ËØäÊñ≠ÊÄßËÉΩÈóÆÈ¢òÔºö ÂàÜÊûêÊÄßËÉΩÊåáÊ†áÂíåÊÄßËÉΩÁì∂È¢àÔºåÊâæÂá∫ÂΩ±ÂìçÊúçÂä°ÊÄßËÉΩÁöÑÂéüÂõ†ÔºåËøõË°åÊÄßËÉΩ‰ºòÂåñÂíåË∞ÉÊï¥„ÄÇ\n4. ËØäÊñ≠ÂíåËß£ÂÜ≥ÈóÆÈ¢òÔºö Ê†πÊçÆÂàÜÊûêÁªìÊûúÔºåËØäÊñ≠Âá∫ÈóÆÈ¢òÁöÑÊ†πÊú¨ÂéüÂõ†ÔºåÂπ∂ÈááÂèñÁõ∏Â∫îÁöÑÊé™ÊñΩËøõË°å‰øÆÂ§çÊàñ‰ºòÂåñ„ÄÇ\n\n# Dump Êñá‰ª∂ÂàÜÊûêÁöÑÂÆûÊàòÊºîÁªÉ\n‰∏äÈù¢ËØ¥‰∫ÜÈÇ£‰πàÂ§öÁêÜËÆ∫Ôºå‰∏ãÈù¢Êàë‰ª¨Êù•ÂÆûÈôÖÊìç‰Ωú‰∏Ä‰∏ã„ÄÇ\n\nÈ¶ñÂÖàÁÆÄÂçï‰ªãÁªç‰∏Ä‰∏ã‰Ωú‰∏∫Á§∫‰æãÁöÑÈ°πÁõÆËÉåÊôØÔºå\n1. Á®ãÂ∫èÊÄßË¥®ÔºöÂü∫‰∫é .NET ÁöÑ Web Â∫îÁî®Á®ãÂ∫èÔºõ\n2. ËøêË°åÁéØÂ¢ÉÔºöËøêË°åÂú®docker ÂÆπÂô®‰∏≠Ôºõ\n3. Êî∂ÈõÜÂ∑•ÂÖ∑ÔºöcreatedumpÊòØÈöèÁùÄ .NET Core runtime ‰∏ÄËµ∑ÂèëÂ∏ÉÁöÑ‰∏Ä‰∏™ÂàõÂª∫ dump ÁöÑ‰∏Ä‰∏™Â∑•ÂÖ∑Ôºõ\n3. ÈóÆÈ¢òË°®Áé∞ÔºöÂÜÖÂ≠òÊ≥ÑÊºèÔºõ\n\n## Êî∂ÈõÜdumpÊñá‰ª∂\n### ËøõÂÖ•ÂÆπÂô®\n```\ndocker exec -it wpp bash\n```\n### ËøõÂÖ•.netËøêË°åÊó∂ÁõÆÂΩï\n```\nroot@4aa6a7d51e1e:/# \nroot@4aa6a7d51e1e:/# find / -name createdump\n/usr/share/dotnet/shared/Microsoft.NETCore.App/8.0.0/createdump\nroot@4aa6a7d51e1e:/# cd /usr/share/dotnet/shared/Microsoft.NETCore.App/8.0.0           \nroot@4aa6a7d51e1e:/usr/share/dotnet/shared/Microsoft.NETCore.App/8.0.0# \n\n```\n### ËøêË°åcreatedumpÊäìÂåÖ\n```\ncreatedump [options] pid\n-f, --name - dump path and file name. The default is '/tmp/coredump.%p'. These specifiers are substituted with following values:\n   %p  PID of dumped process.\n   %e  The process executable filename.\n   %h  Hostname return by gethostname().\n   %t  Time of dump, expressed as seconds since the Epoch, 1970-01-01 00:00:00 +0000 (UTC).\n-n, --normal - create minidump.\n-h, --withheap - create minidump with heap (default).\n-t, --triage - create triage minidump.\n-u, --full - create full core dump.\n-d, --diag - enable diagnostic messages.\n```\ntop‰∏Ä‰∏ãÊü•ÁúãËøõÁ®ãid\n```\n PID  PPID USER     STAT   VSZ %VSZ %CPU COMMAND\n    1     0 root     S     261g7842%   0% dotnet SubscriptionAccount.dll\n11480     0 root     S     4188   0%   0% bash\n11845 11480 root     R     3268   0%   0% top\n\n```\nÊâßË°åÂëΩ‰ª§\n```\n./createdump -f /tmp/wpp_dump -u 1\n```\n> Â¶ÇÊûúÊèêÁ§∫Ê≤°ÊúâÊùÉÈôêÔºåÈúÄË¶ÅÂú®dockerËøêË°åÊó∂Â¢ûÂä†‰∏Ä‰∏™ÂèÇÊï∞ --privileged=true Ôºå‰ª•‰æøÂÆπÂô®‰ª•ÁâπÊùÉÊñπÂºèËøêË°å„ÄÇ\n\n### Â∞ÜdumpÊñá‰ª∂Êã∑Ë¥ùÂá∫Êù•\n```\nsudo docker cp wpp:/tmp/wpp_dump /tmp/wpp_dump\n```\n## WinDbg ÂàÜÊûêdumpÊñá‰ª∂\nÈ°πÁõÆËÉåÊôØÈáåÈù¢Êàë‰ª¨‰πüËÆ≤Âà∞‰∫ÜÔºåËøôÊ¨°Êàë‰ª¨ÂàÜÊûêÁöÑÊòØÂÜÖÂ≠òÊ≥ÑÊºèÁöÑÈóÆÈ¢ò„ÄÇÊâÄ‰ª•Êàë‰ª¨ÂàÜÊûêÁöÑÁ¨¨‰∏ÄÊ≠•ÊòØÊâæÂà∞Âì™‰∫õÂÜÖÂ≠òÂç†Áî®ÊØîËæÉÂ§ßÁöÑÂèòÈáè\n\nÈ¶ñÂÖàÔºåÊàë‰ª¨ÊâæÂà∞ÂÜÖÂ≠òÂç†Áî®ÊúÄÂ§ßÁ±ªÂûãÔºåËøôÈáåÊàë‰ª¨ÂÜÖÂ≠òÂç†Áî®ËæÉÂ§ßÁöÑSystem.Byte[]\nÁÑ∂ÂêéÁ©øÈÄèÊâæÂà∞Á±ªÂûãÂØπÂ∫îÁöÑÂèòÈáèÁöÑÂÜÖÂ≠òÂç†Áî®ÊÉÖÂÜµ\n![ÂÜÖÂ≠òÂç†Áî®](/images/dump/windbg_1.png)\n![ÂèòÈáèÂÜÖÂ≠ò](/images/dump/windbg_2.png)\nÈÄöËøá‰∏äÈù¢ÁöÑÂëΩ‰ª§ÔºåÊàë‰ª¨ÊâæÂà∞ÂÜÖÂ≠òÂç†Áî®ÊúÄÈ´òÁöÑÂá†‰∏™ÂèòÈáèÔºåÁÑ∂ÂêéÁ©øÈÄèÂà∞ÂÖ∑‰ΩìËøô‰∏™Â§ßÂèòÈáèÈáåÈù¢Ë£ÖÁöÑÊòØÂï•\n![ÂèòÈáèÂÜÖÂÆπ](/images/dump/windbg_3.png)\nÈÄöËøáÂèòÈáèÁöÑÂÜÖÂÆπÔºåÊâæÂà∞ÂÖ∑‰Ωì‰ª£Á†ÅÁöÑ‰ΩçÁΩÆ‰∫ÜÂ∞±‰∏çÊòØ‰ªÄ‰πàÈöæ‰∫ã‰∫Ü„ÄÇ\n![bug‰ΩçÁΩÆ](/images/dump/windbg_4.png)\nÊàë‰ª¨ÂèØ‰ª•ÁúãÂà∞‰∏äÈù¢ÁöÑ‰ª£Á†ÅÂú®ÊãºÊé•sqlÔºåÊúÄÂêéÁîüÊàê‰∫Ü‰∏Ä‰∏™ÂæàÂ§ßÁöÑÂ≠óÁ¨¶‰∏≤ÔºåÂØºËá¥ÂÜÖÂ≠òÂç†Áî®ÂæàÂ§ß„ÄÇ\nÂØπ‰∫éÂ§ß‰∫é 85,000 Â≠óËäÇÁöÑÂØπË±°Ôºå.NET ‰ºöÂ∞ÜÂÆÉ‰ª¨ÂàÜÈÖçÂà∞‰∏Ä‰∏™Áß∞‰∏∫‚ÄúÂ§ßÂØπË±°Â†ÜÔºàLarge Object HeapÔºåLOHÔºâ‚ÄùÁöÑÁâπÊÆäÂ†Ü‰∏≠„ÄÇÂ§ßÂØπË±°Â†Ü‰∏äÁöÑÂûÉÂúæÂõûÊî∂Á≠ñÁï•‰∏éÊôÆÈÄöÂ†Ü‰∏äÁöÑÁ≠ñÁï•Áï•Êúâ‰∏çÂêåÔºåËÄå‰∏îËß¶ÂèëÊù°‰ª∂‰πüÂèØËÉΩ‰∏çÂêå„ÄÇÂõ†Ê≠§ÔºåÂ§ßÂØπË±°ÂèØËÉΩ‰ºöÂ≠òÊ¥ªÊõ¥ÈïøÁöÑÊó∂Èó¥„ÄÇ\n\n\n# ÁªìËØ≠\nÈÄöËøáÊú¨ÊñáÁöÑ‰ªãÁªçÔºåÁõ∏‰ø°ËØªËÄÖÂØπ Dump Êñá‰ª∂ÁöÑÂü∫Êú¨Ê¶ÇÂøµÂíåÂàÜÊûêÊñπÊ≥ïÊúâ‰∫ÜÊõ¥Ê∑±ÂÖ•ÁöÑ‰∫ÜËß£„ÄÇDump Êñá‰ª∂ÊòØÊïÖÈöúÊéíÊü•ÂíåÊÄßËÉΩ‰ºòÂåñÁöÑÈáçË¶ÅÂ∑•ÂÖ∑ÔºåÊéåÊè°Â•Ω Dump Êñá‰ª∂ÁöÑÂàÜÊûêÊäÄÂ∑ßËÉΩÂ§üÂ∏ÆÂä©Êàë‰ª¨Êõ¥Âø´Âú∞ÂÆö‰ΩçÂíåËß£ÂÜ≥ÂêÑÁßçÈóÆÈ¢òÔºåÊèêÈ´òÁ≥ªÁªüÁöÑÁ®≥ÂÆöÊÄßÂíåÊÄßËÉΩ„ÄÇ","source":"_posts/dump.md","raw":"---\ntitle: DumpÂàÜÊûêÂÖ•Èó®ÊåáÂçó\ndate: 2024-04-28 14:18:14\ntags: dump ÊÄßËÉΩ ÂºÇÂ∏∏\n---\n\nÊÉ≥Ë±°‰∏Ä‰∏ãÔºåÁ™ÅÁÑ∂Êúâ‰∏ÄÂ§©ÈÉ®ÁΩ≤Âú®ÊúçÂä°Âô®‰∏äÁöÑÂ∫îÁî®Á™ÅÁÑ∂ÊåÇ‰∫ÜÔºÅÊ≤°Êúâ‰∏ÄÁÇπÁÇπÈò≤Â§áÔºå‰πüÊ≤°Êúâ‰∏Ä‰∏ùÈ°æËôëÔºå‰Ω†Â∞±ËøôÊ†∑Âá∫Áé∞„ÄÇ„ÄÇ„ÄÇ\nÊåÇÂ∞±ÊåÇ‰∫ÜÂêßÔºåÊúçÂä°ËøòÊ≤°ÊúâËæìÂá∫‰ªªÂä°ÁöÑÈîôËØØ‰ø°ÊÅØ„ÄÇËøô‰∏™Êó∂ÂÄôÊúâÊ≤°Êúâ‰ªÄ‰πàÈÄîÂæÑÂèØ‰ª•ËÆ©ÊàëÊâæÂà∞Â¥©Ê∫ÉÁöÑÂéüÂõ†Âë¢Ôºü\n\n![crash](./images/dump/crash.jpeg)\n\nÂú®ËΩØ‰ª∂ÂºÄÂèëÂíåËøêÁª¥ËøáÁ®ã‰∏≠ÔºåDump Êñá‰ª∂ÊòØ‰∏ÄÁßçÈùûÂ∏∏ÈáçË¶ÅÁöÑÂ∑•ÂÖ∑ÔºåÂèØ‰ª•Â∏ÆÂä©Êàë‰ª¨ÂÆö‰ΩçÂíåËß£ÂÜ≥ÂêÑÁßçÈóÆÈ¢òÔºåÂåÖÊã¨Â∫îÁî®Á®ãÂ∫èÂ¥©Ê∫É„ÄÅÊÄßËÉΩÈóÆÈ¢ò„ÄÅÂÜÖÂ≠òÊ≥ÑÊºèÁ≠â„ÄÇÊú¨ÊñáÂ∞Ü‰ªãÁªç Dump Êñá‰ª∂ÁöÑÂü∫Êú¨Ê¶ÇÂøµ„ÄÅÂ∏∏ËßÅÁ±ªÂûã‰ª•ÂèäÂ¶Ç‰ΩïËøõË°åÂàÜÊûêÂíåÂà©Áî®ÔºåÂ∏ÆÂä©ËØªËÄÖÊõ¥Â•ΩÂú∞ÁêÜËß£ÂíåÂà©Áî® Dump Êñá‰ª∂ËøõË°åÊïÖÈöúÊéíÊü•ÂíåÊÄßËÉΩ‰ºòÂåñ„ÄÇ\n\n\n# Dump Êñá‰ª∂ÊòØ‰ªÄ‰πàÔºü\nDump Êñá‰ª∂ÊòØÂú®Â∫îÁî®Á®ãÂ∫èÂèëÁîüÂ¥©Ê∫ÉÊàñÂºÇÂ∏∏ÊÉÖÂÜµÊó∂ÁîüÊàêÁöÑ‰∏ÄÁßçÂÜÖÂ≠òËΩ¨ÂÇ®Êñá‰ª∂ÔºåËÆ∞ÂΩï‰∫ÜÂ∫îÁî®Á®ãÂ∫èÂú®Â¥©Ê∫ÉÊó∂ÁöÑÂÜÖÂ≠òÁä∂ÊÄÅ„ÄÅÁ∫øÁ®ãÂ†ÜÊ†à„ÄÅÂèòÈáèÂÄºÁ≠â‰ø°ÊÅØ„ÄÇDump Êñá‰ª∂ÈÄöÂ∏∏‰ª• .dmp Êàñ .core Á≠âÊâ©Â±ïÂêç‰øùÂ≠òÔºåÂèØ‰ª•Ë¢´Áî®‰∫éÂêéÁª≠ÁöÑÊïÖÈöúÊéíÊü•ÂíåÂàÜÊûê„ÄÇ\n\n## Â∏∏ËßÅÁöÑ Dump Êñá‰ª∂Á±ªÂûã\n+ ÂÆåÂÖ®ÂÜÖÂ≠òËΩ¨ÂÇ®ÔºàFull Memory DumpÔºâÔºö ÂÆåÂÖ®ÂÜÖÂ≠òËΩ¨ÂÇ®ËÆ∞ÂΩï‰∫ÜÊï¥‰∏™ËøõÁ®ãÁöÑÂÜÖÂ≠òÁä∂ÊÄÅÔºåÂåÖÊã¨‰ª£Á†Å„ÄÅÊï∞ÊçÆ„ÄÅÂ†ÜÊ†à„ÄÅÂØÑÂ≠òÂô®Á≠â‰ø°ÊÅØ„ÄÇËøôÁßçÁ±ªÂûãÁöÑ Dump Êñá‰ª∂ÈÄöÂ∏∏Áî®‰∫éÂàÜÊûêÂ∫îÁî®Á®ãÂ∫èÂ¥©Ê∫ÉÁöÑÊ†πÊú¨ÂéüÂõ†„ÄÇ\n+ Ëø∑‰Ω†ÂÜÖÂ≠òËΩ¨ÂÇ®ÔºàMini DumpÔºâÔºö Ëø∑‰Ω†ÂÜÖÂ≠òËΩ¨ÂÇ®Âè™ËÆ∞ÂΩï‰∫ÜÂ∫îÁî®Á®ãÂ∫èÂ¥©Ê∫ÉÊó∂ÁöÑÂÖ≥ÈîÆ‰ø°ÊÅØÔºåÂ¶ÇÁ∫øÁ®ãÂ†ÜÊ†à„ÄÅÂºÇÂ∏∏‰ø°ÊÅØÁ≠âÔºå‰ΩìÁßØÁõ∏ÂØπËæÉÂ∞è„ÄÇËøôÁßçÁ±ªÂûãÁöÑ Dump Êñá‰ª∂ÈÄöÂ∏∏Áî®‰∫éÂø´ÈÄüÂÆö‰ΩçÈóÆÈ¢òÔºå‰ΩÜÂèØËÉΩ‰∏¢Â§±‰∏Ä‰∫õËØ¶ÁªÜ‰ø°ÊÅØ„ÄÇ\n+ Ê†∏ÂøÉËΩ¨ÂÇ®ÔºàCore DumpÔºâÔºö Ê†∏ÂøÉËΩ¨ÂÇ®ÊòØÂú® Unix/Linux Á≥ªÁªü‰∏ã‰∫ßÁîüÁöÑ‰∏ÄÁßçÂÜÖÂ≠òËΩ¨ÂÇ®Êñá‰ª∂ÔºåËÆ∞ÂΩï‰∫ÜÂ∫îÁî®Á®ãÂ∫èÂ¥©Ê∫ÉÊó∂ÁöÑÂÜÖÂ≠òÁä∂ÊÄÅ„ÄÇÊ†∏ÂøÉËΩ¨ÂÇ®Êñá‰ª∂ÈÄöÂ∏∏Áî®‰∫éÂàÜÊûêÂ∫îÁî®Á®ãÂ∫èÂ¥©Ê∫ÉÁöÑÂéüÂõ†ÂíåÂÜÖÂ≠ò‰ΩøÁî®ÊÉÖÂÜµ„ÄÇ\n\n# Dump Êñá‰ª∂ÂàÜÊûêÁöÑÂü∫Êú¨Ê≠•È™§\n1. Êî∂ÈõÜ Dump Êñá‰ª∂Ôºö È¶ñÂÖàÈúÄË¶ÅÊî∂ÈõÜÂà∞Â∫îÁî®Á®ãÂ∫èÂ¥©Ê∫ÉÊó∂ÁîüÊàêÁöÑ Dump Êñá‰ª∂ÔºåÂèØ‰ª•ÈÄöËøáÊìç‰ΩúÁ≥ªÁªü„ÄÅÁõëÊéßÂ∑•ÂÖ∑ÊàñËÄÖÂ∫îÁî®Á®ãÂ∫èËá™Ë∫´ËÆæÁΩÆÊù•Ëé∑Âèñ„ÄÇ\n2. ÈÄâÊã©ÂêàÈÄÇÁöÑÂ∑•ÂÖ∑Ôºö Ê†πÊçÆ Dump Êñá‰ª∂ÁöÑÁ±ªÂûãÂíåÈóÆÈ¢òÁöÑÊÄßË¥®ÔºåÈÄâÊã©ÂêàÈÄÇÁöÑÂ∑•ÂÖ∑ËøõË°åÂàÜÊûê„ÄÇÂ∏∏Áî®ÁöÑÂ∑•ÂÖ∑ÂåÖÊã¨ WinDbg„ÄÅGDB„ÄÅVisual Studio Á≠â„ÄÇ\n3. ÂàÜÊûêdumpÊñá‰ª∂\n    + Êü•ÁúãÁ∫øÁ®ãÂ†ÜÊ†àÔºö ÂàÜÊûêÁ∫øÁ®ãÂ†ÜÊ†à‰ø°ÊÅØÔºåÂÆö‰ΩçÂà∞ÂºÇÂ∏∏ÂèëÁîüÊó∂ÁöÑ‰ª£Á†Å‰ΩçÁΩÆÔºå‰∫ÜËß£Á®ãÂ∫èÁöÑÊâßË°åÊµÅÁ®ãÂíåË∞ÉÁî®ÂÖ≥Á≥ª„ÄÇ\n    + Ê£ÄÊü•ÂÜÖÂ≠ò‰ΩøÁî®ÊÉÖÂÜµÔºö ÂàÜÊûêÂÜÖÂ≠ò‰ΩøÁî®ÊÉÖÂÜµÔºåÊü•ÊâæÂèØËÉΩÂ≠òÂú®ÁöÑÂÜÖÂ≠òÊ≥ÑÊºèÊàñËÄÖËøáÂ∫¶‰ΩøÁî®ÂÜÖÂ≠òÁöÑÊÉÖÂÜµÔºå‰ºòÂåñÂÜÖÂ≠òÁÆ°ÁêÜÂíåËµÑÊ∫êÈáäÊîæ„ÄÇ\n    + ÂàÜÊûêÂºÇÂ∏∏‰ø°ÊÅØÔºö Êü•ÁúãÂºÇÂ∏∏‰ø°ÊÅØÔºå‰∫ÜËß£ÂºÇÂ∏∏ÁöÑÁ±ªÂûã„ÄÅ‰ΩçÁΩÆÂíåÂéüÂõ†Ôºå‰∏∫ÊïÖÈöúÊéíÊü•Êèê‰æõÈáçË¶ÅÁ∫øÁ¥¢„ÄÇ\n    + ËØäÊñ≠ÊÄßËÉΩÈóÆÈ¢òÔºö ÂàÜÊûêÊÄßËÉΩÊåáÊ†áÂíåÊÄßËÉΩÁì∂È¢àÔºåÊâæÂá∫ÂΩ±ÂìçÊúçÂä°ÊÄßËÉΩÁöÑÂéüÂõ†ÔºåËøõË°åÊÄßËÉΩ‰ºòÂåñÂíåË∞ÉÊï¥„ÄÇ\n4. ËØäÊñ≠ÂíåËß£ÂÜ≥ÈóÆÈ¢òÔºö Ê†πÊçÆÂàÜÊûêÁªìÊûúÔºåËØäÊñ≠Âá∫ÈóÆÈ¢òÁöÑÊ†πÊú¨ÂéüÂõ†ÔºåÂπ∂ÈááÂèñÁõ∏Â∫îÁöÑÊé™ÊñΩËøõË°å‰øÆÂ§çÊàñ‰ºòÂåñ„ÄÇ\n\n# Dump Êñá‰ª∂ÂàÜÊûêÁöÑÂÆûÊàòÊºîÁªÉ\n‰∏äÈù¢ËØ¥‰∫ÜÈÇ£‰πàÂ§öÁêÜËÆ∫Ôºå‰∏ãÈù¢Êàë‰ª¨Êù•ÂÆûÈôÖÊìç‰Ωú‰∏Ä‰∏ã„ÄÇ\n\nÈ¶ñÂÖàÁÆÄÂçï‰ªãÁªç‰∏Ä‰∏ã‰Ωú‰∏∫Á§∫‰æãÁöÑÈ°πÁõÆËÉåÊôØÔºå\n1. Á®ãÂ∫èÊÄßË¥®ÔºöÂü∫‰∫é .NET ÁöÑ Web Â∫îÁî®Á®ãÂ∫èÔºõ\n2. ËøêË°åÁéØÂ¢ÉÔºöËøêË°åÂú®docker ÂÆπÂô®‰∏≠Ôºõ\n3. Êî∂ÈõÜÂ∑•ÂÖ∑ÔºöcreatedumpÊòØÈöèÁùÄ .NET Core runtime ‰∏ÄËµ∑ÂèëÂ∏ÉÁöÑ‰∏Ä‰∏™ÂàõÂª∫ dump ÁöÑ‰∏Ä‰∏™Â∑•ÂÖ∑Ôºõ\n3. ÈóÆÈ¢òË°®Áé∞ÔºöÂÜÖÂ≠òÊ≥ÑÊºèÔºõ\n\n## Êî∂ÈõÜdumpÊñá‰ª∂\n### ËøõÂÖ•ÂÆπÂô®\n```\ndocker exec -it wpp bash\n```\n### ËøõÂÖ•.netËøêË°åÊó∂ÁõÆÂΩï\n```\nroot@4aa6a7d51e1e:/# \nroot@4aa6a7d51e1e:/# find / -name createdump\n/usr/share/dotnet/shared/Microsoft.NETCore.App/8.0.0/createdump\nroot@4aa6a7d51e1e:/# cd /usr/share/dotnet/shared/Microsoft.NETCore.App/8.0.0           \nroot@4aa6a7d51e1e:/usr/share/dotnet/shared/Microsoft.NETCore.App/8.0.0# \n\n```\n### ËøêË°åcreatedumpÊäìÂåÖ\n```\ncreatedump [options] pid\n-f, --name - dump path and file name. The default is '/tmp/coredump.%p'. These specifiers are substituted with following values:\n   %p  PID of dumped process.\n   %e  The process executable filename.\n   %h  Hostname return by gethostname().\n   %t  Time of dump, expressed as seconds since the Epoch, 1970-01-01 00:00:00 +0000 (UTC).\n-n, --normal - create minidump.\n-h, --withheap - create minidump with heap (default).\n-t, --triage - create triage minidump.\n-u, --full - create full core dump.\n-d, --diag - enable diagnostic messages.\n```\ntop‰∏Ä‰∏ãÊü•ÁúãËøõÁ®ãid\n```\n PID  PPID USER     STAT   VSZ %VSZ %CPU COMMAND\n    1     0 root     S     261g7842%   0% dotnet SubscriptionAccount.dll\n11480     0 root     S     4188   0%   0% bash\n11845 11480 root     R     3268   0%   0% top\n\n```\nÊâßË°åÂëΩ‰ª§\n```\n./createdump -f /tmp/wpp_dump -u 1\n```\n> Â¶ÇÊûúÊèêÁ§∫Ê≤°ÊúâÊùÉÈôêÔºåÈúÄË¶ÅÂú®dockerËøêË°åÊó∂Â¢ûÂä†‰∏Ä‰∏™ÂèÇÊï∞ --privileged=true Ôºå‰ª•‰æøÂÆπÂô®‰ª•ÁâπÊùÉÊñπÂºèËøêË°å„ÄÇ\n\n### Â∞ÜdumpÊñá‰ª∂Êã∑Ë¥ùÂá∫Êù•\n```\nsudo docker cp wpp:/tmp/wpp_dump /tmp/wpp_dump\n```\n## WinDbg ÂàÜÊûêdumpÊñá‰ª∂\nÈ°πÁõÆËÉåÊôØÈáåÈù¢Êàë‰ª¨‰πüËÆ≤Âà∞‰∫ÜÔºåËøôÊ¨°Êàë‰ª¨ÂàÜÊûêÁöÑÊòØÂÜÖÂ≠òÊ≥ÑÊºèÁöÑÈóÆÈ¢ò„ÄÇÊâÄ‰ª•Êàë‰ª¨ÂàÜÊûêÁöÑÁ¨¨‰∏ÄÊ≠•ÊòØÊâæÂà∞Âì™‰∫õÂÜÖÂ≠òÂç†Áî®ÊØîËæÉÂ§ßÁöÑÂèòÈáè\n\nÈ¶ñÂÖàÔºåÊàë‰ª¨ÊâæÂà∞ÂÜÖÂ≠òÂç†Áî®ÊúÄÂ§ßÁ±ªÂûãÔºåËøôÈáåÊàë‰ª¨ÂÜÖÂ≠òÂç†Áî®ËæÉÂ§ßÁöÑSystem.Byte[]\nÁÑ∂ÂêéÁ©øÈÄèÊâæÂà∞Á±ªÂûãÂØπÂ∫îÁöÑÂèòÈáèÁöÑÂÜÖÂ≠òÂç†Áî®ÊÉÖÂÜµ\n![ÂÜÖÂ≠òÂç†Áî®](/images/dump/windbg_1.png)\n![ÂèòÈáèÂÜÖÂ≠ò](/images/dump/windbg_2.png)\nÈÄöËøá‰∏äÈù¢ÁöÑÂëΩ‰ª§ÔºåÊàë‰ª¨ÊâæÂà∞ÂÜÖÂ≠òÂç†Áî®ÊúÄÈ´òÁöÑÂá†‰∏™ÂèòÈáèÔºåÁÑ∂ÂêéÁ©øÈÄèÂà∞ÂÖ∑‰ΩìËøô‰∏™Â§ßÂèòÈáèÈáåÈù¢Ë£ÖÁöÑÊòØÂï•\n![ÂèòÈáèÂÜÖÂÆπ](/images/dump/windbg_3.png)\nÈÄöËøáÂèòÈáèÁöÑÂÜÖÂÆπÔºåÊâæÂà∞ÂÖ∑‰Ωì‰ª£Á†ÅÁöÑ‰ΩçÁΩÆ‰∫ÜÂ∞±‰∏çÊòØ‰ªÄ‰πàÈöæ‰∫ã‰∫Ü„ÄÇ\n![bug‰ΩçÁΩÆ](/images/dump/windbg_4.png)\nÊàë‰ª¨ÂèØ‰ª•ÁúãÂà∞‰∏äÈù¢ÁöÑ‰ª£Á†ÅÂú®ÊãºÊé•sqlÔºåÊúÄÂêéÁîüÊàê‰∫Ü‰∏Ä‰∏™ÂæàÂ§ßÁöÑÂ≠óÁ¨¶‰∏≤ÔºåÂØºËá¥ÂÜÖÂ≠òÂç†Áî®ÂæàÂ§ß„ÄÇ\nÂØπ‰∫éÂ§ß‰∫é 85,000 Â≠óËäÇÁöÑÂØπË±°Ôºå.NET ‰ºöÂ∞ÜÂÆÉ‰ª¨ÂàÜÈÖçÂà∞‰∏Ä‰∏™Áß∞‰∏∫‚ÄúÂ§ßÂØπË±°Â†ÜÔºàLarge Object HeapÔºåLOHÔºâ‚ÄùÁöÑÁâπÊÆäÂ†Ü‰∏≠„ÄÇÂ§ßÂØπË±°Â†Ü‰∏äÁöÑÂûÉÂúæÂõûÊî∂Á≠ñÁï•‰∏éÊôÆÈÄöÂ†Ü‰∏äÁöÑÁ≠ñÁï•Áï•Êúâ‰∏çÂêåÔºåËÄå‰∏îËß¶ÂèëÊù°‰ª∂‰πüÂèØËÉΩ‰∏çÂêå„ÄÇÂõ†Ê≠§ÔºåÂ§ßÂØπË±°ÂèØËÉΩ‰ºöÂ≠òÊ¥ªÊõ¥ÈïøÁöÑÊó∂Èó¥„ÄÇ\n\n\n# ÁªìËØ≠\nÈÄöËøáÊú¨ÊñáÁöÑ‰ªãÁªçÔºåÁõ∏‰ø°ËØªËÄÖÂØπ Dump Êñá‰ª∂ÁöÑÂü∫Êú¨Ê¶ÇÂøµÂíåÂàÜÊûêÊñπÊ≥ïÊúâ‰∫ÜÊõ¥Ê∑±ÂÖ•ÁöÑ‰∫ÜËß£„ÄÇDump Êñá‰ª∂ÊòØÊïÖÈöúÊéíÊü•ÂíåÊÄßËÉΩ‰ºòÂåñÁöÑÈáçË¶ÅÂ∑•ÂÖ∑ÔºåÊéåÊè°Â•Ω Dump Êñá‰ª∂ÁöÑÂàÜÊûêÊäÄÂ∑ßËÉΩÂ§üÂ∏ÆÂä©Êàë‰ª¨Êõ¥Âø´Âú∞ÂÆö‰ΩçÂíåËß£ÂÜ≥ÂêÑÁßçÈóÆÈ¢òÔºåÊèêÈ´òÁ≥ªÁªüÁöÑÁ®≥ÂÆöÊÄßÂíåÊÄßËÉΩ„ÄÇ","slug":"dump","published":1,"updated":"2024-05-08T08:37:58.693Z","_id":"clvj8jhdc0000pop171ud7xg2","comments":1,"layout":"post","photos":[],"link":"","content":"<p>ÊÉ≥Ë±°‰∏Ä‰∏ãÔºåÁ™ÅÁÑ∂Êúâ‰∏ÄÂ§©ÈÉ®ÁΩ≤Âú®ÊúçÂä°Âô®‰∏äÁöÑÂ∫îÁî®Á™ÅÁÑ∂ÊåÇ‰∫ÜÔºÅÊ≤°Êúâ‰∏ÄÁÇπÁÇπÈò≤Â§áÔºå‰πüÊ≤°Êúâ‰∏Ä‰∏ùÈ°æËôëÔºå‰Ω†Â∞±ËøôÊ†∑Âá∫Áé∞„ÄÇ„ÄÇ„ÄÇ<br>ÊåÇÂ∞±ÊåÇ‰∫ÜÂêßÔºåÊúçÂä°ËøòÊ≤°ÊúâËæìÂá∫‰ªªÂä°ÁöÑÈîôËØØ‰ø°ÊÅØ„ÄÇËøô‰∏™Êó∂ÂÄôÊúâÊ≤°Êúâ‰ªÄ‰πàÈÄîÂæÑÂèØ‰ª•ËÆ©ÊàëÊâæÂà∞Â¥©Ê∫ÉÁöÑÂéüÂõ†Âë¢Ôºü</p>\n<p><img src=\"/./images/dump/crash.jpeg\" alt=\"crash\"></p>\n<p>Âú®ËΩØ‰ª∂ÂºÄÂèëÂíåËøêÁª¥ËøáÁ®ã‰∏≠ÔºåDump Êñá‰ª∂ÊòØ‰∏ÄÁßçÈùûÂ∏∏ÈáçË¶ÅÁöÑÂ∑•ÂÖ∑ÔºåÂèØ‰ª•Â∏ÆÂä©Êàë‰ª¨ÂÆö‰ΩçÂíåËß£ÂÜ≥ÂêÑÁßçÈóÆÈ¢òÔºåÂåÖÊã¨Â∫îÁî®Á®ãÂ∫èÂ¥©Ê∫É„ÄÅÊÄßËÉΩÈóÆÈ¢ò„ÄÅÂÜÖÂ≠òÊ≥ÑÊºèÁ≠â„ÄÇÊú¨ÊñáÂ∞Ü‰ªãÁªç Dump Êñá‰ª∂ÁöÑÂü∫Êú¨Ê¶ÇÂøµ„ÄÅÂ∏∏ËßÅÁ±ªÂûã‰ª•ÂèäÂ¶Ç‰ΩïËøõË°åÂàÜÊûêÂíåÂà©Áî®ÔºåÂ∏ÆÂä©ËØªËÄÖÊõ¥Â•ΩÂú∞ÁêÜËß£ÂíåÂà©Áî® Dump Êñá‰ª∂ËøõË°åÊïÖÈöúÊéíÊü•ÂíåÊÄßËÉΩ‰ºòÂåñ„ÄÇ</p>\n<h1 id=\"Dump-Êñá‰ª∂ÊòØ‰ªÄ‰πàÔºü\"><a href=\"#Dump-Êñá‰ª∂ÊòØ‰ªÄ‰πàÔºü\" class=\"headerlink\" title=\"Dump Êñá‰ª∂ÊòØ‰ªÄ‰πàÔºü\"></a>Dump Êñá‰ª∂ÊòØ‰ªÄ‰πàÔºü</h1><p>Dump Êñá‰ª∂ÊòØÂú®Â∫îÁî®Á®ãÂ∫èÂèëÁîüÂ¥©Ê∫ÉÊàñÂºÇÂ∏∏ÊÉÖÂÜµÊó∂ÁîüÊàêÁöÑ‰∏ÄÁßçÂÜÖÂ≠òËΩ¨ÂÇ®Êñá‰ª∂ÔºåËÆ∞ÂΩï‰∫ÜÂ∫îÁî®Á®ãÂ∫èÂú®Â¥©Ê∫ÉÊó∂ÁöÑÂÜÖÂ≠òÁä∂ÊÄÅ„ÄÅÁ∫øÁ®ãÂ†ÜÊ†à„ÄÅÂèòÈáèÂÄºÁ≠â‰ø°ÊÅØ„ÄÇDump Êñá‰ª∂ÈÄöÂ∏∏‰ª• .dmp Êàñ .core Á≠âÊâ©Â±ïÂêç‰øùÂ≠òÔºåÂèØ‰ª•Ë¢´Áî®‰∫éÂêéÁª≠ÁöÑÊïÖÈöúÊéíÊü•ÂíåÂàÜÊûê„ÄÇ</p>\n<h2 id=\"Â∏∏ËßÅÁöÑ-Dump-Êñá‰ª∂Á±ªÂûã\"><a href=\"#Â∏∏ËßÅÁöÑ-Dump-Êñá‰ª∂Á±ªÂûã\" class=\"headerlink\" title=\"Â∏∏ËßÅÁöÑ Dump Êñá‰ª∂Á±ªÂûã\"></a>Â∏∏ËßÅÁöÑ Dump Êñá‰ª∂Á±ªÂûã</h2><ul>\n<li>ÂÆåÂÖ®ÂÜÖÂ≠òËΩ¨ÂÇ®ÔºàFull Memory DumpÔºâÔºö ÂÆåÂÖ®ÂÜÖÂ≠òËΩ¨ÂÇ®ËÆ∞ÂΩï‰∫ÜÊï¥‰∏™ËøõÁ®ãÁöÑÂÜÖÂ≠òÁä∂ÊÄÅÔºåÂåÖÊã¨‰ª£Á†Å„ÄÅÊï∞ÊçÆ„ÄÅÂ†ÜÊ†à„ÄÅÂØÑÂ≠òÂô®Á≠â‰ø°ÊÅØ„ÄÇËøôÁßçÁ±ªÂûãÁöÑ Dump Êñá‰ª∂ÈÄöÂ∏∏Áî®‰∫éÂàÜÊûêÂ∫îÁî®Á®ãÂ∫èÂ¥©Ê∫ÉÁöÑÊ†πÊú¨ÂéüÂõ†„ÄÇ</li>\n<li>Ëø∑‰Ω†ÂÜÖÂ≠òËΩ¨ÂÇ®ÔºàMini DumpÔºâÔºö Ëø∑‰Ω†ÂÜÖÂ≠òËΩ¨ÂÇ®Âè™ËÆ∞ÂΩï‰∫ÜÂ∫îÁî®Á®ãÂ∫èÂ¥©Ê∫ÉÊó∂ÁöÑÂÖ≥ÈîÆ‰ø°ÊÅØÔºåÂ¶ÇÁ∫øÁ®ãÂ†ÜÊ†à„ÄÅÂºÇÂ∏∏‰ø°ÊÅØÁ≠âÔºå‰ΩìÁßØÁõ∏ÂØπËæÉÂ∞è„ÄÇËøôÁßçÁ±ªÂûãÁöÑ Dump Êñá‰ª∂ÈÄöÂ∏∏Áî®‰∫éÂø´ÈÄüÂÆö‰ΩçÈóÆÈ¢òÔºå‰ΩÜÂèØËÉΩ‰∏¢Â§±‰∏Ä‰∫õËØ¶ÁªÜ‰ø°ÊÅØ„ÄÇ</li>\n<li>Ê†∏ÂøÉËΩ¨ÂÇ®ÔºàCore DumpÔºâÔºö Ê†∏ÂøÉËΩ¨ÂÇ®ÊòØÂú® Unix&#x2F;Linux Á≥ªÁªü‰∏ã‰∫ßÁîüÁöÑ‰∏ÄÁßçÂÜÖÂ≠òËΩ¨ÂÇ®Êñá‰ª∂ÔºåËÆ∞ÂΩï‰∫ÜÂ∫îÁî®Á®ãÂ∫èÂ¥©Ê∫ÉÊó∂ÁöÑÂÜÖÂ≠òÁä∂ÊÄÅ„ÄÇÊ†∏ÂøÉËΩ¨ÂÇ®Êñá‰ª∂ÈÄöÂ∏∏Áî®‰∫éÂàÜÊûêÂ∫îÁî®Á®ãÂ∫èÂ¥©Ê∫ÉÁöÑÂéüÂõ†ÂíåÂÜÖÂ≠ò‰ΩøÁî®ÊÉÖÂÜµ„ÄÇ</li>\n</ul>\n<h1 id=\"Dump-Êñá‰ª∂ÂàÜÊûêÁöÑÂü∫Êú¨Ê≠•È™§\"><a href=\"#Dump-Êñá‰ª∂ÂàÜÊûêÁöÑÂü∫Êú¨Ê≠•È™§\" class=\"headerlink\" title=\"Dump Êñá‰ª∂ÂàÜÊûêÁöÑÂü∫Êú¨Ê≠•È™§\"></a>Dump Êñá‰ª∂ÂàÜÊûêÁöÑÂü∫Êú¨Ê≠•È™§</h1><ol>\n<li>Êî∂ÈõÜ Dump Êñá‰ª∂Ôºö È¶ñÂÖàÈúÄË¶ÅÊî∂ÈõÜÂà∞Â∫îÁî®Á®ãÂ∫èÂ¥©Ê∫ÉÊó∂ÁîüÊàêÁöÑ Dump Êñá‰ª∂ÔºåÂèØ‰ª•ÈÄöËøáÊìç‰ΩúÁ≥ªÁªü„ÄÅÁõëÊéßÂ∑•ÂÖ∑ÊàñËÄÖÂ∫îÁî®Á®ãÂ∫èËá™Ë∫´ËÆæÁΩÆÊù•Ëé∑Âèñ„ÄÇ</li>\n<li>ÈÄâÊã©ÂêàÈÄÇÁöÑÂ∑•ÂÖ∑Ôºö Ê†πÊçÆ Dump Êñá‰ª∂ÁöÑÁ±ªÂûãÂíåÈóÆÈ¢òÁöÑÊÄßË¥®ÔºåÈÄâÊã©ÂêàÈÄÇÁöÑÂ∑•ÂÖ∑ËøõË°åÂàÜÊûê„ÄÇÂ∏∏Áî®ÁöÑÂ∑•ÂÖ∑ÂåÖÊã¨ WinDbg„ÄÅGDB„ÄÅVisual Studio Á≠â„ÄÇ</li>\n<li>ÂàÜÊûêdumpÊñá‰ª∂<ul>\n<li>Êü•ÁúãÁ∫øÁ®ãÂ†ÜÊ†àÔºö ÂàÜÊûêÁ∫øÁ®ãÂ†ÜÊ†à‰ø°ÊÅØÔºåÂÆö‰ΩçÂà∞ÂºÇÂ∏∏ÂèëÁîüÊó∂ÁöÑ‰ª£Á†Å‰ΩçÁΩÆÔºå‰∫ÜËß£Á®ãÂ∫èÁöÑÊâßË°åÊµÅÁ®ãÂíåË∞ÉÁî®ÂÖ≥Á≥ª„ÄÇ</li>\n<li>Ê£ÄÊü•ÂÜÖÂ≠ò‰ΩøÁî®ÊÉÖÂÜµÔºö ÂàÜÊûêÂÜÖÂ≠ò‰ΩøÁî®ÊÉÖÂÜµÔºåÊü•ÊâæÂèØËÉΩÂ≠òÂú®ÁöÑÂÜÖÂ≠òÊ≥ÑÊºèÊàñËÄÖËøáÂ∫¶‰ΩøÁî®ÂÜÖÂ≠òÁöÑÊÉÖÂÜµÔºå‰ºòÂåñÂÜÖÂ≠òÁÆ°ÁêÜÂíåËµÑÊ∫êÈáäÊîæ„ÄÇ</li>\n<li>ÂàÜÊûêÂºÇÂ∏∏‰ø°ÊÅØÔºö Êü•ÁúãÂºÇÂ∏∏‰ø°ÊÅØÔºå‰∫ÜËß£ÂºÇÂ∏∏ÁöÑÁ±ªÂûã„ÄÅ‰ΩçÁΩÆÂíåÂéüÂõ†Ôºå‰∏∫ÊïÖÈöúÊéíÊü•Êèê‰æõÈáçË¶ÅÁ∫øÁ¥¢„ÄÇ</li>\n<li>ËØäÊñ≠ÊÄßËÉΩÈóÆÈ¢òÔºö ÂàÜÊûêÊÄßËÉΩÊåáÊ†áÂíåÊÄßËÉΩÁì∂È¢àÔºåÊâæÂá∫ÂΩ±ÂìçÊúçÂä°ÊÄßËÉΩÁöÑÂéüÂõ†ÔºåËøõË°åÊÄßËÉΩ‰ºòÂåñÂíåË∞ÉÊï¥„ÄÇ</li>\n</ul>\n</li>\n<li>ËØäÊñ≠ÂíåËß£ÂÜ≥ÈóÆÈ¢òÔºö Ê†πÊçÆÂàÜÊûêÁªìÊûúÔºåËØäÊñ≠Âá∫ÈóÆÈ¢òÁöÑÊ†πÊú¨ÂéüÂõ†ÔºåÂπ∂ÈááÂèñÁõ∏Â∫îÁöÑÊé™ÊñΩËøõË°å‰øÆÂ§çÊàñ‰ºòÂåñ„ÄÇ</li>\n</ol>\n<h1 id=\"Dump-Êñá‰ª∂ÂàÜÊûêÁöÑÂÆûÊàòÊºîÁªÉ\"><a href=\"#Dump-Êñá‰ª∂ÂàÜÊûêÁöÑÂÆûÊàòÊºîÁªÉ\" class=\"headerlink\" title=\"Dump Êñá‰ª∂ÂàÜÊûêÁöÑÂÆûÊàòÊºîÁªÉ\"></a>Dump Êñá‰ª∂ÂàÜÊûêÁöÑÂÆûÊàòÊºîÁªÉ</h1><p>‰∏äÈù¢ËØ¥‰∫ÜÈÇ£‰πàÂ§öÁêÜËÆ∫Ôºå‰∏ãÈù¢Êàë‰ª¨Êù•ÂÆûÈôÖÊìç‰Ωú‰∏Ä‰∏ã„ÄÇ</p>\n<p>È¶ñÂÖàÁÆÄÂçï‰ªãÁªç‰∏Ä‰∏ã‰Ωú‰∏∫Á§∫‰æãÁöÑÈ°πÁõÆËÉåÊôØÔºå</p>\n<ol>\n<li>Á®ãÂ∫èÊÄßË¥®ÔºöÂü∫‰∫é .NET ÁöÑ Web Â∫îÁî®Á®ãÂ∫èÔºõ</li>\n<li>ËøêË°åÁéØÂ¢ÉÔºöËøêË°åÂú®docker ÂÆπÂô®‰∏≠Ôºõ</li>\n<li>Êî∂ÈõÜÂ∑•ÂÖ∑ÔºöcreatedumpÊòØÈöèÁùÄ .NET Core runtime ‰∏ÄËµ∑ÂèëÂ∏ÉÁöÑ‰∏Ä‰∏™ÂàõÂª∫ dump ÁöÑ‰∏Ä‰∏™Â∑•ÂÖ∑Ôºõ</li>\n<li>ÈóÆÈ¢òË°®Áé∞ÔºöÂÜÖÂ≠òÊ≥ÑÊºèÔºõ</li>\n</ol>\n<h2 id=\"Êî∂ÈõÜdumpÊñá‰ª∂\"><a href=\"#Êî∂ÈõÜdumpÊñá‰ª∂\" class=\"headerlink\" title=\"Êî∂ÈõÜdumpÊñá‰ª∂\"></a>Êî∂ÈõÜdumpÊñá‰ª∂</h2><h3 id=\"ËøõÂÖ•ÂÆπÂô®\"><a href=\"#ËøõÂÖ•ÂÆπÂô®\" class=\"headerlink\" title=\"ËøõÂÖ•ÂÆπÂô®\"></a>ËøõÂÖ•ÂÆπÂô®</h3><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker exec -it wpp bash</span><br></pre></td></tr></table></figure>\n<h3 id=\"ËøõÂÖ•-netËøêË°åÊó∂ÁõÆÂΩï\"><a href=\"#ËøõÂÖ•-netËøêË°åÊó∂ÁõÆÂΩï\" class=\"headerlink\" title=\"ËøõÂÖ•.netËøêË°åÊó∂ÁõÆÂΩï\"></a>ËøõÂÖ•.netËøêË°åÊó∂ÁõÆÂΩï</h3><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">root@4aa6a7d51e1e:/# </span><br><span class=\"line\">root@4aa6a7d51e1e:/# find / -name createdump</span><br><span class=\"line\">/usr/share/dotnet/shared/Microsoft.NETCore.App/8.0.0/createdump</span><br><span class=\"line\">root@4aa6a7d51e1e:/# cd /usr/share/dotnet/shared/Microsoft.NETCore.App/8.0.0           </span><br><span class=\"line\">root@4aa6a7d51e1e:/usr/share/dotnet/shared/Microsoft.NETCore.App/8.0.0# </span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h3 id=\"ËøêË°åcreatedumpÊäìÂåÖ\"><a href=\"#ËøêË°åcreatedumpÊäìÂåÖ\" class=\"headerlink\" title=\"ËøêË°åcreatedumpÊäìÂåÖ\"></a>ËøêË°åcreatedumpÊäìÂåÖ</h3><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">createdump [options] pid</span><br><span class=\"line\">-f, --name - dump path and file name. The default is &#x27;/tmp/coredump.%p&#x27;. These specifiers are substituted with following values:</span><br><span class=\"line\">   %p  PID of dumped process.</span><br><span class=\"line\">   %e  The process executable filename.</span><br><span class=\"line\">   %h  Hostname return by gethostname().</span><br><span class=\"line\">   %t  Time of dump, expressed as seconds since the Epoch, 1970-01-01 00:00:00 +0000 (UTC).</span><br><span class=\"line\">-n, --normal - create minidump.</span><br><span class=\"line\">-h, --withheap - create minidump with heap (default).</span><br><span class=\"line\">-t, --triage - create triage minidump.</span><br><span class=\"line\">-u, --full - create full core dump.</span><br><span class=\"line\">-d, --diag - enable diagnostic messages.</span><br></pre></td></tr></table></figure>\n<p>top‰∏Ä‰∏ãÊü•ÁúãËøõÁ®ãid</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"> PID  PPID USER     STAT   VSZ %VSZ %CPU COMMAND</span><br><span class=\"line\">    1     0 root     S     261g7842%   0% dotnet SubscriptionAccount.dll</span><br><span class=\"line\">11480     0 root     S     4188   0%   0% bash</span><br><span class=\"line\">11845 11480 root     R     3268   0%   0% top</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<p>ÊâßË°åÂëΩ‰ª§</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">./createdump -f /tmp/wpp_dump -u 1</span><br></pre></td></tr></table></figure>\n<blockquote>\n<p>Â¶ÇÊûúÊèêÁ§∫Ê≤°ÊúâÊùÉÈôêÔºåÈúÄË¶ÅÂú®dockerËøêË°åÊó∂Â¢ûÂä†‰∏Ä‰∏™ÂèÇÊï∞ ‚Äìprivileged&#x3D;true Ôºå‰ª•‰æøÂÆπÂô®‰ª•ÁâπÊùÉÊñπÂºèËøêË°å„ÄÇ</p>\n</blockquote>\n<h3 id=\"Â∞ÜdumpÊñá‰ª∂Êã∑Ë¥ùÂá∫Êù•\"><a href=\"#Â∞ÜdumpÊñá‰ª∂Êã∑Ë¥ùÂá∫Êù•\" class=\"headerlink\" title=\"Â∞ÜdumpÊñá‰ª∂Êã∑Ë¥ùÂá∫Êù•\"></a>Â∞ÜdumpÊñá‰ª∂Êã∑Ë¥ùÂá∫Êù•</h3><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo docker cp wpp:/tmp/wpp_dump /tmp/wpp_dump</span><br></pre></td></tr></table></figure>\n<h2 id=\"WinDbg-ÂàÜÊûêdumpÊñá‰ª∂\"><a href=\"#WinDbg-ÂàÜÊûêdumpÊñá‰ª∂\" class=\"headerlink\" title=\"WinDbg ÂàÜÊûêdumpÊñá‰ª∂\"></a>WinDbg ÂàÜÊûêdumpÊñá‰ª∂</h2><p>È°πÁõÆËÉåÊôØÈáåÈù¢Êàë‰ª¨‰πüËÆ≤Âà∞‰∫ÜÔºåËøôÊ¨°Êàë‰ª¨ÂàÜÊûêÁöÑÊòØÂÜÖÂ≠òÊ≥ÑÊºèÁöÑÈóÆÈ¢ò„ÄÇÊâÄ‰ª•Êàë‰ª¨ÂàÜÊûêÁöÑÁ¨¨‰∏ÄÊ≠•ÊòØÊâæÂà∞Âì™‰∫õÂÜÖÂ≠òÂç†Áî®ÊØîËæÉÂ§ßÁöÑÂèòÈáè</p>\n<p>È¶ñÂÖàÔºåÊàë‰ª¨ÊâæÂà∞ÂÜÖÂ≠òÂç†Áî®ÊúÄÂ§ßÁ±ªÂûãÔºåËøôÈáåÊàë‰ª¨ÂÜÖÂ≠òÂç†Áî®ËæÉÂ§ßÁöÑSystem.Byte[]<br>ÁÑ∂ÂêéÁ©øÈÄèÊâæÂà∞Á±ªÂûãÂØπÂ∫îÁöÑÂèòÈáèÁöÑÂÜÖÂ≠òÂç†Áî®ÊÉÖÂÜµ<br><img src=\"/images/dump/windbg_1.png\" alt=\"ÂÜÖÂ≠òÂç†Áî®\"><br><img src=\"/images/dump/windbg_2.png\" alt=\"ÂèòÈáèÂÜÖÂ≠ò\"><br>ÈÄöËøá‰∏äÈù¢ÁöÑÂëΩ‰ª§ÔºåÊàë‰ª¨ÊâæÂà∞ÂÜÖÂ≠òÂç†Áî®ÊúÄÈ´òÁöÑÂá†‰∏™ÂèòÈáèÔºåÁÑ∂ÂêéÁ©øÈÄèÂà∞ÂÖ∑‰ΩìËøô‰∏™Â§ßÂèòÈáèÈáåÈù¢Ë£ÖÁöÑÊòØÂï•<br><img src=\"/images/dump/windbg_3.png\" alt=\"ÂèòÈáèÂÜÖÂÆπ\"><br>ÈÄöËøáÂèòÈáèÁöÑÂÜÖÂÆπÔºåÊâæÂà∞ÂÖ∑‰Ωì‰ª£Á†ÅÁöÑ‰ΩçÁΩÆ‰∫ÜÂ∞±‰∏çÊòØ‰ªÄ‰πàÈöæ‰∫ã‰∫Ü„ÄÇ<br><img src=\"/images/dump/windbg_4.png\" alt=\"bug‰ΩçÁΩÆ\"><br>Êàë‰ª¨ÂèØ‰ª•ÁúãÂà∞‰∏äÈù¢ÁöÑ‰ª£Á†ÅÂú®ÊãºÊé•sqlÔºåÊúÄÂêéÁîüÊàê‰∫Ü‰∏Ä‰∏™ÂæàÂ§ßÁöÑÂ≠óÁ¨¶‰∏≤ÔºåÂØºËá¥ÂÜÖÂ≠òÂç†Áî®ÂæàÂ§ß„ÄÇ<br>ÂØπ‰∫éÂ§ß‰∫é 85,000 Â≠óËäÇÁöÑÂØπË±°Ôºå.NET ‰ºöÂ∞ÜÂÆÉ‰ª¨ÂàÜÈÖçÂà∞‰∏Ä‰∏™Áß∞‰∏∫‚ÄúÂ§ßÂØπË±°Â†ÜÔºàLarge Object HeapÔºåLOHÔºâ‚ÄùÁöÑÁâπÊÆäÂ†Ü‰∏≠„ÄÇÂ§ßÂØπË±°Â†Ü‰∏äÁöÑÂûÉÂúæÂõûÊî∂Á≠ñÁï•‰∏éÊôÆÈÄöÂ†Ü‰∏äÁöÑÁ≠ñÁï•Áï•Êúâ‰∏çÂêåÔºåËÄå‰∏îËß¶ÂèëÊù°‰ª∂‰πüÂèØËÉΩ‰∏çÂêå„ÄÇÂõ†Ê≠§ÔºåÂ§ßÂØπË±°ÂèØËÉΩ‰ºöÂ≠òÊ¥ªÊõ¥ÈïøÁöÑÊó∂Èó¥„ÄÇ</p>\n<h1 id=\"ÁªìËØ≠\"><a href=\"#ÁªìËØ≠\" class=\"headerlink\" title=\"ÁªìËØ≠\"></a>ÁªìËØ≠</h1><p>ÈÄöËøáÊú¨ÊñáÁöÑ‰ªãÁªçÔºåÁõ∏‰ø°ËØªËÄÖÂØπ Dump Êñá‰ª∂ÁöÑÂü∫Êú¨Ê¶ÇÂøµÂíåÂàÜÊûêÊñπÊ≥ïÊúâ‰∫ÜÊõ¥Ê∑±ÂÖ•ÁöÑ‰∫ÜËß£„ÄÇDump Êñá‰ª∂ÊòØÊïÖÈöúÊéíÊü•ÂíåÊÄßËÉΩ‰ºòÂåñÁöÑÈáçË¶ÅÂ∑•ÂÖ∑ÔºåÊéåÊè°Â•Ω Dump Êñá‰ª∂ÁöÑÂàÜÊûêÊäÄÂ∑ßËÉΩÂ§üÂ∏ÆÂä©Êàë‰ª¨Êõ¥Âø´Âú∞ÂÆö‰ΩçÂíåËß£ÂÜ≥ÂêÑÁßçÈóÆÈ¢òÔºåÊèêÈ´òÁ≥ªÁªüÁöÑÁ®≥ÂÆöÊÄßÂíåÊÄßËÉΩ„ÄÇ</p>\n","site":{"data":{}},"excerpt":"","more":"<p>ÊÉ≥Ë±°‰∏Ä‰∏ãÔºåÁ™ÅÁÑ∂Êúâ‰∏ÄÂ§©ÈÉ®ÁΩ≤Âú®ÊúçÂä°Âô®‰∏äÁöÑÂ∫îÁî®Á™ÅÁÑ∂ÊåÇ‰∫ÜÔºÅÊ≤°Êúâ‰∏ÄÁÇπÁÇπÈò≤Â§áÔºå‰πüÊ≤°Êúâ‰∏Ä‰∏ùÈ°æËôëÔºå‰Ω†Â∞±ËøôÊ†∑Âá∫Áé∞„ÄÇ„ÄÇ„ÄÇ<br>ÊåÇÂ∞±ÊåÇ‰∫ÜÂêßÔºåÊúçÂä°ËøòÊ≤°ÊúâËæìÂá∫‰ªªÂä°ÁöÑÈîôËØØ‰ø°ÊÅØ„ÄÇËøô‰∏™Êó∂ÂÄôÊúâÊ≤°Êúâ‰ªÄ‰πàÈÄîÂæÑÂèØ‰ª•ËÆ©ÊàëÊâæÂà∞Â¥©Ê∫ÉÁöÑÂéüÂõ†Âë¢Ôºü</p>\n<p><img src=\"/./images/dump/crash.jpeg\" alt=\"crash\"></p>\n<p>Âú®ËΩØ‰ª∂ÂºÄÂèëÂíåËøêÁª¥ËøáÁ®ã‰∏≠ÔºåDump Êñá‰ª∂ÊòØ‰∏ÄÁßçÈùûÂ∏∏ÈáçË¶ÅÁöÑÂ∑•ÂÖ∑ÔºåÂèØ‰ª•Â∏ÆÂä©Êàë‰ª¨ÂÆö‰ΩçÂíåËß£ÂÜ≥ÂêÑÁßçÈóÆÈ¢òÔºåÂåÖÊã¨Â∫îÁî®Á®ãÂ∫èÂ¥©Ê∫É„ÄÅÊÄßËÉΩÈóÆÈ¢ò„ÄÅÂÜÖÂ≠òÊ≥ÑÊºèÁ≠â„ÄÇÊú¨ÊñáÂ∞Ü‰ªãÁªç Dump Êñá‰ª∂ÁöÑÂü∫Êú¨Ê¶ÇÂøµ„ÄÅÂ∏∏ËßÅÁ±ªÂûã‰ª•ÂèäÂ¶Ç‰ΩïËøõË°åÂàÜÊûêÂíåÂà©Áî®ÔºåÂ∏ÆÂä©ËØªËÄÖÊõ¥Â•ΩÂú∞ÁêÜËß£ÂíåÂà©Áî® Dump Êñá‰ª∂ËøõË°åÊïÖÈöúÊéíÊü•ÂíåÊÄßËÉΩ‰ºòÂåñ„ÄÇ</p>\n<h1 id=\"Dump-Êñá‰ª∂ÊòØ‰ªÄ‰πàÔºü\"><a href=\"#Dump-Êñá‰ª∂ÊòØ‰ªÄ‰πàÔºü\" class=\"headerlink\" title=\"Dump Êñá‰ª∂ÊòØ‰ªÄ‰πàÔºü\"></a>Dump Êñá‰ª∂ÊòØ‰ªÄ‰πàÔºü</h1><p>Dump Êñá‰ª∂ÊòØÂú®Â∫îÁî®Á®ãÂ∫èÂèëÁîüÂ¥©Ê∫ÉÊàñÂºÇÂ∏∏ÊÉÖÂÜµÊó∂ÁîüÊàêÁöÑ‰∏ÄÁßçÂÜÖÂ≠òËΩ¨ÂÇ®Êñá‰ª∂ÔºåËÆ∞ÂΩï‰∫ÜÂ∫îÁî®Á®ãÂ∫èÂú®Â¥©Ê∫ÉÊó∂ÁöÑÂÜÖÂ≠òÁä∂ÊÄÅ„ÄÅÁ∫øÁ®ãÂ†ÜÊ†à„ÄÅÂèòÈáèÂÄºÁ≠â‰ø°ÊÅØ„ÄÇDump Êñá‰ª∂ÈÄöÂ∏∏‰ª• .dmp Êàñ .core Á≠âÊâ©Â±ïÂêç‰øùÂ≠òÔºåÂèØ‰ª•Ë¢´Áî®‰∫éÂêéÁª≠ÁöÑÊïÖÈöúÊéíÊü•ÂíåÂàÜÊûê„ÄÇ</p>\n<h2 id=\"Â∏∏ËßÅÁöÑ-Dump-Êñá‰ª∂Á±ªÂûã\"><a href=\"#Â∏∏ËßÅÁöÑ-Dump-Êñá‰ª∂Á±ªÂûã\" class=\"headerlink\" title=\"Â∏∏ËßÅÁöÑ Dump Êñá‰ª∂Á±ªÂûã\"></a>Â∏∏ËßÅÁöÑ Dump Êñá‰ª∂Á±ªÂûã</h2><ul>\n<li>ÂÆåÂÖ®ÂÜÖÂ≠òËΩ¨ÂÇ®ÔºàFull Memory DumpÔºâÔºö ÂÆåÂÖ®ÂÜÖÂ≠òËΩ¨ÂÇ®ËÆ∞ÂΩï‰∫ÜÊï¥‰∏™ËøõÁ®ãÁöÑÂÜÖÂ≠òÁä∂ÊÄÅÔºåÂåÖÊã¨‰ª£Á†Å„ÄÅÊï∞ÊçÆ„ÄÅÂ†ÜÊ†à„ÄÅÂØÑÂ≠òÂô®Á≠â‰ø°ÊÅØ„ÄÇËøôÁßçÁ±ªÂûãÁöÑ Dump Êñá‰ª∂ÈÄöÂ∏∏Áî®‰∫éÂàÜÊûêÂ∫îÁî®Á®ãÂ∫èÂ¥©Ê∫ÉÁöÑÊ†πÊú¨ÂéüÂõ†„ÄÇ</li>\n<li>Ëø∑‰Ω†ÂÜÖÂ≠òËΩ¨ÂÇ®ÔºàMini DumpÔºâÔºö Ëø∑‰Ω†ÂÜÖÂ≠òËΩ¨ÂÇ®Âè™ËÆ∞ÂΩï‰∫ÜÂ∫îÁî®Á®ãÂ∫èÂ¥©Ê∫ÉÊó∂ÁöÑÂÖ≥ÈîÆ‰ø°ÊÅØÔºåÂ¶ÇÁ∫øÁ®ãÂ†ÜÊ†à„ÄÅÂºÇÂ∏∏‰ø°ÊÅØÁ≠âÔºå‰ΩìÁßØÁõ∏ÂØπËæÉÂ∞è„ÄÇËøôÁßçÁ±ªÂûãÁöÑ Dump Êñá‰ª∂ÈÄöÂ∏∏Áî®‰∫éÂø´ÈÄüÂÆö‰ΩçÈóÆÈ¢òÔºå‰ΩÜÂèØËÉΩ‰∏¢Â§±‰∏Ä‰∫õËØ¶ÁªÜ‰ø°ÊÅØ„ÄÇ</li>\n<li>Ê†∏ÂøÉËΩ¨ÂÇ®ÔºàCore DumpÔºâÔºö Ê†∏ÂøÉËΩ¨ÂÇ®ÊòØÂú® Unix&#x2F;Linux Á≥ªÁªü‰∏ã‰∫ßÁîüÁöÑ‰∏ÄÁßçÂÜÖÂ≠òËΩ¨ÂÇ®Êñá‰ª∂ÔºåËÆ∞ÂΩï‰∫ÜÂ∫îÁî®Á®ãÂ∫èÂ¥©Ê∫ÉÊó∂ÁöÑÂÜÖÂ≠òÁä∂ÊÄÅ„ÄÇÊ†∏ÂøÉËΩ¨ÂÇ®Êñá‰ª∂ÈÄöÂ∏∏Áî®‰∫éÂàÜÊûêÂ∫îÁî®Á®ãÂ∫èÂ¥©Ê∫ÉÁöÑÂéüÂõ†ÂíåÂÜÖÂ≠ò‰ΩøÁî®ÊÉÖÂÜµ„ÄÇ</li>\n</ul>\n<h1 id=\"Dump-Êñá‰ª∂ÂàÜÊûêÁöÑÂü∫Êú¨Ê≠•È™§\"><a href=\"#Dump-Êñá‰ª∂ÂàÜÊûêÁöÑÂü∫Êú¨Ê≠•È™§\" class=\"headerlink\" title=\"Dump Êñá‰ª∂ÂàÜÊûêÁöÑÂü∫Êú¨Ê≠•È™§\"></a>Dump Êñá‰ª∂ÂàÜÊûêÁöÑÂü∫Êú¨Ê≠•È™§</h1><ol>\n<li>Êî∂ÈõÜ Dump Êñá‰ª∂Ôºö È¶ñÂÖàÈúÄË¶ÅÊî∂ÈõÜÂà∞Â∫îÁî®Á®ãÂ∫èÂ¥©Ê∫ÉÊó∂ÁîüÊàêÁöÑ Dump Êñá‰ª∂ÔºåÂèØ‰ª•ÈÄöËøáÊìç‰ΩúÁ≥ªÁªü„ÄÅÁõëÊéßÂ∑•ÂÖ∑ÊàñËÄÖÂ∫îÁî®Á®ãÂ∫èËá™Ë∫´ËÆæÁΩÆÊù•Ëé∑Âèñ„ÄÇ</li>\n<li>ÈÄâÊã©ÂêàÈÄÇÁöÑÂ∑•ÂÖ∑Ôºö Ê†πÊçÆ Dump Êñá‰ª∂ÁöÑÁ±ªÂûãÂíåÈóÆÈ¢òÁöÑÊÄßË¥®ÔºåÈÄâÊã©ÂêàÈÄÇÁöÑÂ∑•ÂÖ∑ËøõË°åÂàÜÊûê„ÄÇÂ∏∏Áî®ÁöÑÂ∑•ÂÖ∑ÂåÖÊã¨ WinDbg„ÄÅGDB„ÄÅVisual Studio Á≠â„ÄÇ</li>\n<li>ÂàÜÊûêdumpÊñá‰ª∂<ul>\n<li>Êü•ÁúãÁ∫øÁ®ãÂ†ÜÊ†àÔºö ÂàÜÊûêÁ∫øÁ®ãÂ†ÜÊ†à‰ø°ÊÅØÔºåÂÆö‰ΩçÂà∞ÂºÇÂ∏∏ÂèëÁîüÊó∂ÁöÑ‰ª£Á†Å‰ΩçÁΩÆÔºå‰∫ÜËß£Á®ãÂ∫èÁöÑÊâßË°åÊµÅÁ®ãÂíåË∞ÉÁî®ÂÖ≥Á≥ª„ÄÇ</li>\n<li>Ê£ÄÊü•ÂÜÖÂ≠ò‰ΩøÁî®ÊÉÖÂÜµÔºö ÂàÜÊûêÂÜÖÂ≠ò‰ΩøÁî®ÊÉÖÂÜµÔºåÊü•ÊâæÂèØËÉΩÂ≠òÂú®ÁöÑÂÜÖÂ≠òÊ≥ÑÊºèÊàñËÄÖËøáÂ∫¶‰ΩøÁî®ÂÜÖÂ≠òÁöÑÊÉÖÂÜµÔºå‰ºòÂåñÂÜÖÂ≠òÁÆ°ÁêÜÂíåËµÑÊ∫êÈáäÊîæ„ÄÇ</li>\n<li>ÂàÜÊûêÂºÇÂ∏∏‰ø°ÊÅØÔºö Êü•ÁúãÂºÇÂ∏∏‰ø°ÊÅØÔºå‰∫ÜËß£ÂºÇÂ∏∏ÁöÑÁ±ªÂûã„ÄÅ‰ΩçÁΩÆÂíåÂéüÂõ†Ôºå‰∏∫ÊïÖÈöúÊéíÊü•Êèê‰æõÈáçË¶ÅÁ∫øÁ¥¢„ÄÇ</li>\n<li>ËØäÊñ≠ÊÄßËÉΩÈóÆÈ¢òÔºö ÂàÜÊûêÊÄßËÉΩÊåáÊ†áÂíåÊÄßËÉΩÁì∂È¢àÔºåÊâæÂá∫ÂΩ±ÂìçÊúçÂä°ÊÄßËÉΩÁöÑÂéüÂõ†ÔºåËøõË°åÊÄßËÉΩ‰ºòÂåñÂíåË∞ÉÊï¥„ÄÇ</li>\n</ul>\n</li>\n<li>ËØäÊñ≠ÂíåËß£ÂÜ≥ÈóÆÈ¢òÔºö Ê†πÊçÆÂàÜÊûêÁªìÊûúÔºåËØäÊñ≠Âá∫ÈóÆÈ¢òÁöÑÊ†πÊú¨ÂéüÂõ†ÔºåÂπ∂ÈááÂèñÁõ∏Â∫îÁöÑÊé™ÊñΩËøõË°å‰øÆÂ§çÊàñ‰ºòÂåñ„ÄÇ</li>\n</ol>\n<h1 id=\"Dump-Êñá‰ª∂ÂàÜÊûêÁöÑÂÆûÊàòÊºîÁªÉ\"><a href=\"#Dump-Êñá‰ª∂ÂàÜÊûêÁöÑÂÆûÊàòÊºîÁªÉ\" class=\"headerlink\" title=\"Dump Êñá‰ª∂ÂàÜÊûêÁöÑÂÆûÊàòÊºîÁªÉ\"></a>Dump Êñá‰ª∂ÂàÜÊûêÁöÑÂÆûÊàòÊºîÁªÉ</h1><p>‰∏äÈù¢ËØ¥‰∫ÜÈÇ£‰πàÂ§öÁêÜËÆ∫Ôºå‰∏ãÈù¢Êàë‰ª¨Êù•ÂÆûÈôÖÊìç‰Ωú‰∏Ä‰∏ã„ÄÇ</p>\n<p>È¶ñÂÖàÁÆÄÂçï‰ªãÁªç‰∏Ä‰∏ã‰Ωú‰∏∫Á§∫‰æãÁöÑÈ°πÁõÆËÉåÊôØÔºå</p>\n<ol>\n<li>Á®ãÂ∫èÊÄßË¥®ÔºöÂü∫‰∫é .NET ÁöÑ Web Â∫îÁî®Á®ãÂ∫èÔºõ</li>\n<li>ËøêË°åÁéØÂ¢ÉÔºöËøêË°åÂú®docker ÂÆπÂô®‰∏≠Ôºõ</li>\n<li>Êî∂ÈõÜÂ∑•ÂÖ∑ÔºöcreatedumpÊòØÈöèÁùÄ .NET Core runtime ‰∏ÄËµ∑ÂèëÂ∏ÉÁöÑ‰∏Ä‰∏™ÂàõÂª∫ dump ÁöÑ‰∏Ä‰∏™Â∑•ÂÖ∑Ôºõ</li>\n<li>ÈóÆÈ¢òË°®Áé∞ÔºöÂÜÖÂ≠òÊ≥ÑÊºèÔºõ</li>\n</ol>\n<h2 id=\"Êî∂ÈõÜdumpÊñá‰ª∂\"><a href=\"#Êî∂ÈõÜdumpÊñá‰ª∂\" class=\"headerlink\" title=\"Êî∂ÈõÜdumpÊñá‰ª∂\"></a>Êî∂ÈõÜdumpÊñá‰ª∂</h2><h3 id=\"ËøõÂÖ•ÂÆπÂô®\"><a href=\"#ËøõÂÖ•ÂÆπÂô®\" class=\"headerlink\" title=\"ËøõÂÖ•ÂÆπÂô®\"></a>ËøõÂÖ•ÂÆπÂô®</h3><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker exec -it wpp bash</span><br></pre></td></tr></table></figure>\n<h3 id=\"ËøõÂÖ•-netËøêË°åÊó∂ÁõÆÂΩï\"><a href=\"#ËøõÂÖ•-netËøêË°åÊó∂ÁõÆÂΩï\" class=\"headerlink\" title=\"ËøõÂÖ•.netËøêË°åÊó∂ÁõÆÂΩï\"></a>ËøõÂÖ•.netËøêË°åÊó∂ÁõÆÂΩï</h3><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">root@4aa6a7d51e1e:/# </span><br><span class=\"line\">root@4aa6a7d51e1e:/# find / -name createdump</span><br><span class=\"line\">/usr/share/dotnet/shared/Microsoft.NETCore.App/8.0.0/createdump</span><br><span class=\"line\">root@4aa6a7d51e1e:/# cd /usr/share/dotnet/shared/Microsoft.NETCore.App/8.0.0           </span><br><span class=\"line\">root@4aa6a7d51e1e:/usr/share/dotnet/shared/Microsoft.NETCore.App/8.0.0# </span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h3 id=\"ËøêË°åcreatedumpÊäìÂåÖ\"><a href=\"#ËøêË°åcreatedumpÊäìÂåÖ\" class=\"headerlink\" title=\"ËøêË°åcreatedumpÊäìÂåÖ\"></a>ËøêË°åcreatedumpÊäìÂåÖ</h3><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">createdump [options] pid</span><br><span class=\"line\">-f, --name - dump path and file name. The default is &#x27;/tmp/coredump.%p&#x27;. These specifiers are substituted with following values:</span><br><span class=\"line\">   %p  PID of dumped process.</span><br><span class=\"line\">   %e  The process executable filename.</span><br><span class=\"line\">   %h  Hostname return by gethostname().</span><br><span class=\"line\">   %t  Time of dump, expressed as seconds since the Epoch, 1970-01-01 00:00:00 +0000 (UTC).</span><br><span class=\"line\">-n, --normal - create minidump.</span><br><span class=\"line\">-h, --withheap - create minidump with heap (default).</span><br><span class=\"line\">-t, --triage - create triage minidump.</span><br><span class=\"line\">-u, --full - create full core dump.</span><br><span class=\"line\">-d, --diag - enable diagnostic messages.</span><br></pre></td></tr></table></figure>\n<p>top‰∏Ä‰∏ãÊü•ÁúãËøõÁ®ãid</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"> PID  PPID USER     STAT   VSZ %VSZ %CPU COMMAND</span><br><span class=\"line\">    1     0 root     S     261g7842%   0% dotnet SubscriptionAccount.dll</span><br><span class=\"line\">11480     0 root     S     4188   0%   0% bash</span><br><span class=\"line\">11845 11480 root     R     3268   0%   0% top</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<p>ÊâßË°åÂëΩ‰ª§</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">./createdump -f /tmp/wpp_dump -u 1</span><br></pre></td></tr></table></figure>\n<blockquote>\n<p>Â¶ÇÊûúÊèêÁ§∫Ê≤°ÊúâÊùÉÈôêÔºåÈúÄË¶ÅÂú®dockerËøêË°åÊó∂Â¢ûÂä†‰∏Ä‰∏™ÂèÇÊï∞ ‚Äìprivileged&#x3D;true Ôºå‰ª•‰æøÂÆπÂô®‰ª•ÁâπÊùÉÊñπÂºèËøêË°å„ÄÇ</p>\n</blockquote>\n<h3 id=\"Â∞ÜdumpÊñá‰ª∂Êã∑Ë¥ùÂá∫Êù•\"><a href=\"#Â∞ÜdumpÊñá‰ª∂Êã∑Ë¥ùÂá∫Êù•\" class=\"headerlink\" title=\"Â∞ÜdumpÊñá‰ª∂Êã∑Ë¥ùÂá∫Êù•\"></a>Â∞ÜdumpÊñá‰ª∂Êã∑Ë¥ùÂá∫Êù•</h3><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo docker cp wpp:/tmp/wpp_dump /tmp/wpp_dump</span><br></pre></td></tr></table></figure>\n<h2 id=\"WinDbg-ÂàÜÊûêdumpÊñá‰ª∂\"><a href=\"#WinDbg-ÂàÜÊûêdumpÊñá‰ª∂\" class=\"headerlink\" title=\"WinDbg ÂàÜÊûêdumpÊñá‰ª∂\"></a>WinDbg ÂàÜÊûêdumpÊñá‰ª∂</h2><p>È°πÁõÆËÉåÊôØÈáåÈù¢Êàë‰ª¨‰πüËÆ≤Âà∞‰∫ÜÔºåËøôÊ¨°Êàë‰ª¨ÂàÜÊûêÁöÑÊòØÂÜÖÂ≠òÊ≥ÑÊºèÁöÑÈóÆÈ¢ò„ÄÇÊâÄ‰ª•Êàë‰ª¨ÂàÜÊûêÁöÑÁ¨¨‰∏ÄÊ≠•ÊòØÊâæÂà∞Âì™‰∫õÂÜÖÂ≠òÂç†Áî®ÊØîËæÉÂ§ßÁöÑÂèòÈáè</p>\n<p>È¶ñÂÖàÔºåÊàë‰ª¨ÊâæÂà∞ÂÜÖÂ≠òÂç†Áî®ÊúÄÂ§ßÁ±ªÂûãÔºåËøôÈáåÊàë‰ª¨ÂÜÖÂ≠òÂç†Áî®ËæÉÂ§ßÁöÑSystem.Byte[]<br>ÁÑ∂ÂêéÁ©øÈÄèÊâæÂà∞Á±ªÂûãÂØπÂ∫îÁöÑÂèòÈáèÁöÑÂÜÖÂ≠òÂç†Áî®ÊÉÖÂÜµ<br><img src=\"/images/dump/windbg_1.png\" alt=\"ÂÜÖÂ≠òÂç†Áî®\"><br><img src=\"/images/dump/windbg_2.png\" alt=\"ÂèòÈáèÂÜÖÂ≠ò\"><br>ÈÄöËøá‰∏äÈù¢ÁöÑÂëΩ‰ª§ÔºåÊàë‰ª¨ÊâæÂà∞ÂÜÖÂ≠òÂç†Áî®ÊúÄÈ´òÁöÑÂá†‰∏™ÂèòÈáèÔºåÁÑ∂ÂêéÁ©øÈÄèÂà∞ÂÖ∑‰ΩìËøô‰∏™Â§ßÂèòÈáèÈáåÈù¢Ë£ÖÁöÑÊòØÂï•<br><img src=\"/images/dump/windbg_3.png\" alt=\"ÂèòÈáèÂÜÖÂÆπ\"><br>ÈÄöËøáÂèòÈáèÁöÑÂÜÖÂÆπÔºåÊâæÂà∞ÂÖ∑‰Ωì‰ª£Á†ÅÁöÑ‰ΩçÁΩÆ‰∫ÜÂ∞±‰∏çÊòØ‰ªÄ‰πàÈöæ‰∫ã‰∫Ü„ÄÇ<br><img src=\"/images/dump/windbg_4.png\" alt=\"bug‰ΩçÁΩÆ\"><br>Êàë‰ª¨ÂèØ‰ª•ÁúãÂà∞‰∏äÈù¢ÁöÑ‰ª£Á†ÅÂú®ÊãºÊé•sqlÔºåÊúÄÂêéÁîüÊàê‰∫Ü‰∏Ä‰∏™ÂæàÂ§ßÁöÑÂ≠óÁ¨¶‰∏≤ÔºåÂØºËá¥ÂÜÖÂ≠òÂç†Áî®ÂæàÂ§ß„ÄÇ<br>ÂØπ‰∫éÂ§ß‰∫é 85,000 Â≠óËäÇÁöÑÂØπË±°Ôºå.NET ‰ºöÂ∞ÜÂÆÉ‰ª¨ÂàÜÈÖçÂà∞‰∏Ä‰∏™Áß∞‰∏∫‚ÄúÂ§ßÂØπË±°Â†ÜÔºàLarge Object HeapÔºåLOHÔºâ‚ÄùÁöÑÁâπÊÆäÂ†Ü‰∏≠„ÄÇÂ§ßÂØπË±°Â†Ü‰∏äÁöÑÂûÉÂúæÂõûÊî∂Á≠ñÁï•‰∏éÊôÆÈÄöÂ†Ü‰∏äÁöÑÁ≠ñÁï•Áï•Êúâ‰∏çÂêåÔºåËÄå‰∏îËß¶ÂèëÊù°‰ª∂‰πüÂèØËÉΩ‰∏çÂêå„ÄÇÂõ†Ê≠§ÔºåÂ§ßÂØπË±°ÂèØËÉΩ‰ºöÂ≠òÊ¥ªÊõ¥ÈïøÁöÑÊó∂Èó¥„ÄÇ</p>\n<h1 id=\"ÁªìËØ≠\"><a href=\"#ÁªìËØ≠\" class=\"headerlink\" title=\"ÁªìËØ≠\"></a>ÁªìËØ≠</h1><p>ÈÄöËøáÊú¨ÊñáÁöÑ‰ªãÁªçÔºåÁõ∏‰ø°ËØªËÄÖÂØπ Dump Êñá‰ª∂ÁöÑÂü∫Êú¨Ê¶ÇÂøµÂíåÂàÜÊûêÊñπÊ≥ïÊúâ‰∫ÜÊõ¥Ê∑±ÂÖ•ÁöÑ‰∫ÜËß£„ÄÇDump Êñá‰ª∂ÊòØÊïÖÈöúÊéíÊü•ÂíåÊÄßËÉΩ‰ºòÂåñÁöÑÈáçË¶ÅÂ∑•ÂÖ∑ÔºåÊéåÊè°Â•Ω Dump Êñá‰ª∂ÁöÑÂàÜÊûêÊäÄÂ∑ßËÉΩÂ§üÂ∏ÆÂä©Êàë‰ª¨Êõ¥Âø´Âú∞ÂÆö‰ΩçÂíåËß£ÂÜ≥ÂêÑÁßçÈóÆÈ¢òÔºåÊèêÈ´òÁ≥ªÁªüÁöÑÁ®≥ÂÆöÊÄßÂíåÊÄßËÉΩ„ÄÇ</p>\n"},{"title":"Ê∑±ÂÖ•Ëß£ÊûêÊ∂àÊÅØÈòüÂàó‰∏≠ÁöÑÊ≠ª‰ø°ÈòüÂàó","date":"2024-05-22T07:37:54.000Z","_content":"\n>Âú®Ê∂àÊÅØÈòüÂàóÔºàMQÔºâÁ≥ªÁªü‰∏≠ÔºåÊ≠ª‰ø°ÈòüÂàóÔºàDead Letter Queue, DLQÔºâÊòØ‰∏Ä‰∏™ÂÖ≥ÈîÆÁªÑ‰ª∂ÔºåÁî®‰∫éÂ§ÑÁêÜÊó†Ê≥ïË¢´Ê≠£Â∏∏Ê∂àË¥πÁöÑÊ∂àÊÅØ„ÄÇÊú¨ÊñáÂ∞ÜËØ¶ÁªÜ‰ªãÁªçÊ≠ª‰ø°ÈòüÂàóÁöÑÂÆö‰πâ„ÄÅ‰ºòÁº∫ÁÇπ„ÄÅÂ∫îÁî®Âú∫ÊôØÔºåÂπ∂Êé¢ËÆ®‰∏éÂª∂ËøüÊ∂àÊÅØÁöÑÂÖ≥Á≥ª„ÄÇÊúÄÂêéÔºåÈÄöËøáÂá†‰∏™Á§∫‰æãÊù•Â±ïÁ§∫Â¶Ç‰ΩïÂú®ÂÆûÈôÖ‰∏≠‰ΩøÁî®Ê≠ª‰ø°ÈòüÂàó„ÄÇ\n\n# ‰∏Ä„ÄÅÊ≠ª‰ø°ÈòüÂàóÁöÑÂÆö‰πâ\nÊ≠ª‰ø°ÈòüÂàóÔºàDead Letter QueueÔºåDLQÔºâÊòØ‰∏ÄÁßçÁâπÊÆäÁ±ªÂûãÁöÑÊ∂àÊÅØÈòüÂàóÔºåÁî®‰∫éÂ≠òÂÇ®Êó†Ê≥ïË¢´Ê≠£Â∏∏Â§ÑÁêÜÁöÑÊ∂àÊÅØ„ÄÇÂΩìÊ∂àÊÅØÂú®ÂéüÈòüÂàó‰∏≠Âõ†‰∏∫Êüê‰∫õÂéüÂõ†Êó†Ê≥ïË¢´Ê∂àË¥πÊó∂ÔºåËøô‰∫õÊ∂àÊÅØ‰ºöË¢´ËΩ¨ÁßªÂà∞Ê≠ª‰ø°ÈòüÂàó‰∏≠„ÄÇÊ≠ª‰ø°ÈòüÂàóÁöÑÁõÆÁöÑÊòØÁ°Æ‰øùÊ∂àÊÅØÁ≥ªÁªüÁöÑÂÅ•Â£ÆÊÄßÂíåÁ®≥ÂÆöÊÄßÔºåÈÅøÂÖçÂõ†‰∏∫‰∏™Âà´Ê∂àÊÅØÁöÑÂºÇÂ∏∏ËÄåÂΩ±ÂìçÊï¥‰∏™Ê∂àÊÅØÂ§ÑÁêÜÊµÅÁ®ã„ÄÇ\n\n![Ê≠ª‰ø°ÈòüÂàó](/images/dead-message/dead-letter-exchange-1.png)\n\n# ‰∫å„ÄÅÊ≠ª‰ø°ÈòüÂàó‰∏∫‰ªÄ‰πàÈáçË¶Å\nÊ≠ª‰ø°ÈòüÂàóÂú®Ê∂àÊÅØÈòüÂàóÁ≥ªÁªü‰∏≠ÊâÆÊºîÁùÄÂÖ≥ÈîÆÁöÑËßíËâ≤ÔºåÂÖ∂ÈáçË¶ÅÊÄß‰ΩìÁé∞Âú®‰ª•‰∏ãÂá†‰∏™ÊñπÈù¢Ôºö\n\n+ ÊèêÈ´òÁ≥ªÁªüÂèØÈù†ÊÄßÔºöÈÄöËøáÂ∞ÜÊó†Ê≥ïÂ§ÑÁêÜÁöÑÊ∂àÊÅØËΩ¨ÁßªÂà∞Ê≠ª‰ø°ÈòüÂàóÔºåÂèØ‰ª•Èò≤Ê≠¢Ëøô‰∫õÊ∂àÊÅØÂØπÊ≠£Â∏∏Ê∂àÊÅØÂ§ÑÁêÜÊµÅÁ®ãÁöÑÂΩ±ÂìçÔºåÊèêÈ´òÁ≥ªÁªüÁöÑÂèØÈù†ÊÄß„ÄÇ\n+ ÈóÆÈ¢òÊéíÊü•‰∏éË∞ÉËØïÔºöÊ≠ª‰ø°ÈòüÂàóÂèØ‰ª•‰Ωú‰∏∫‰∏ÄÁßçÊó•ÂøóËÆ∞ÂΩïÊú∫Âà∂ÔºåÂ∏ÆÂä©ÂºÄÂèë‰∫∫ÂëòÊéíÊü•ÂíåË∞ÉËØïÈóÆÈ¢ò„ÄÇÈÄöËøáÂàÜÊûêÊ≠ª‰ø°ÈòüÂàó‰∏≠ÁöÑÊ∂àÊÅØÔºåÂèØ‰ª•ÊâæÂà∞Á≥ªÁªü‰∏≠ÁöÑËñÑÂº±ÁéØËäÇÂíåÂºÇÂ∏∏ÊÉÖÂÜµ„ÄÇ\n+ Èò≤Ê≠¢Ê∂àÊÅØ‰∏¢Â§±ÔºöÂú®Ê∂àÊÅØÂ§ÑÁêÜËøáÁ®ã‰∏≠ÔºåÊüê‰∫õÊ∂àÊÅØÂèØËÉΩÁî±‰∫éÊ†ºÂºèÈîôËØØ„ÄÅË∂ÖÊó∂Á≠âÂéüÂõ†Êó†Ê≥ïÂ§ÑÁêÜ„ÄÇÊ≠ª‰ø°ÈòüÂàóÁ°Æ‰øùËøô‰∫õÊ∂àÊÅØ‰∏ç‰ºöË¢´‰∏¢ÂºÉÔºåËÄåÊòØ‰øùÁïôËµ∑Êù•Á≠âÂæÖËøõ‰∏ÄÊ≠•Â§ÑÁêÜÊàñ‰∫∫Â∑•Âπ≤È¢Ñ„ÄÇ\n# ‰∏â„ÄÅÊ≠ª‰ø°ÈòüÂàóÁöÑ‰ºòÂäø\n+ ÈöîÁ¶ªÂºÇÂ∏∏Ê∂àÊÅØÔºöÂ∞ÜÊó†Ê≥ïÂ§ÑÁêÜÁöÑÂºÇÂ∏∏Ê∂àÊÅØÈöîÁ¶ªÂà∞Ê≠ª‰ø°ÈòüÂàóÔºåÈÅøÂÖçÂÖ∂ÂΩ±ÂìçÊ≠£Â∏∏Ê∂àÊÅØÁöÑÂ§ÑÁêÜ„ÄÇ\n+ ÊåÅ‰πÖÂåñÂ≠òÂÇ®ÔºöÊ≠ª‰ø°ÈòüÂàó‰∏≠ÁöÑÊ∂àÊÅØÈÄöÂ∏∏‰ºöË¢´ÊåÅ‰πÖÂåñÂ≠òÂÇ®ÔºåÁ°Æ‰øùÊ∂àÊÅØ‰∏ç‰ºöÂõ†Á≥ªÁªüÈáçÂêØÊàñÊïÖÈöúËÄå‰∏¢Â§±„ÄÇ\n+ ÁÅµÊ¥ªÂ§ÑÁêÜÊú∫Âà∂ÔºöÂºÄÂèë‰∫∫ÂëòÂèØ‰ª•ÈíàÂØπÊ≠ª‰ø°ÈòüÂàó‰∏≠ÁöÑÊ∂àÊÅØËÆæËÆ°‰∏çÂêåÁöÑÂ§ÑÁêÜÊú∫Âà∂Ôºå‰æãÂ¶ÇÈáçÊñ∞Â§ÑÁêÜ„ÄÅÈÄöÁü•ÁÆ°ÁêÜÂëòÊàñËøõË°å‰∫∫Â∑•Âπ≤È¢Ñ„ÄÇ\n+ ÁõëÊéß‰∏éÊä•Ë≠¶ÔºöÈÄöËøáÁõëÊéßÊ≠ª‰ø°ÈòüÂàóÁöÑÂ§ßÂ∞èÂíåÂÜÖÂÆπÔºåÂèØ‰ª•ÂèäÊó∂ÂèëÁé∞Á≥ªÁªü‰∏≠ÁöÑÂºÇÂ∏∏ÊÉÖÂÜµÔºåÂπ∂Ëß¶ÂèëÊä•Ë≠¶Êú∫Âà∂ËøõË°åÂ§ÑÁêÜ„ÄÇ\n# Âõõ„ÄÅ‰ªÄ‰πàÊó∂ÂÄôÂ∫îËØ•‰ΩøÁî®Ê≠ª‰ø°ÈòüÂàó\nÊ≠ª‰ø°ÈòüÂàóÈÄÇÁî®‰∫é‰ª•‰∏ãÂú∫ÊôØÔºö\n\n1. Ê∂àÊÅØÂ§ÑÁêÜÂ§±Ë¥•ÔºöÂΩìÊ∂àÊÅØÁî±‰∫éÊ†ºÂºèÈîôËØØ„ÄÅÊï∞ÊçÆ‰∏çÂÆåÊï¥Á≠âÂéüÂõ†Êó†Ê≥ïË¢´Ê≠£Â∏∏Â§ÑÁêÜÊó∂ÔºåÂ∫î‰ΩøÁî®Ê≠ª‰ø°ÈòüÂàóÂ≠òÂÇ®Ëøô‰∫õÊ∂àÊÅØ„ÄÇ\n2. Ê∂àÊÅØÂ§ÑÁêÜË∂ÖÊó∂ÔºöÂΩìÊ∂àÊÅØÂú®ËßÑÂÆöÊó∂Èó¥ÂÜÖÊú™Ë¢´Ê∂àË¥πÊàñÂ§ÑÁêÜÂÆåÊØïÊó∂ÔºåÂèØ‰ª•Â∞ÜÂÖ∂ËΩ¨ÁßªÂà∞Ê≠ª‰ø°ÈòüÂàó„ÄÇ\n```C#\nvar properties = channel.CreateBasicProperties();\nproperties.Expiration = \"60000\"; // Ê∂àÊÅØËøáÊúüÊó∂Èó¥ËÆæÁΩÆ‰∏∫60Áßí\n\nchannel.BasicPublish(\n    exchange: \"\",\n    routingKey: \"normal_queue\",\n    basicProperties: properties,\n    body: Encoding.UTF8.GetBytes(\"Test Message\")\n);\n```\n3. Ê∂àÊÅØË¢´ÊãíÁªùÔºöÂΩìÊ∂àË¥πËÄÖÊòæÂºèÊãíÁªùÂ§ÑÁêÜÊüêÊù°Ê∂àÊÅØÊó∂ÔºåËØ•Ê∂àÊÅØÂèØ‰ª•Ë¢´ËΩ¨ÁßªÂà∞Ê≠ª‰ø°ÈòüÂàó„ÄÇ\n```C#\nvar consumer = new EventingBasicConsumer(channel);\nconsumer.Received += (model, ea) =>\n{\n    var body = ea.Body.ToArray();\n    var message = Encoding.UTF8.GetString(body);\n    \n    // Ê®°ÊãüÊãíÁªùÊ∂àÊÅØ\n    channel.BasicReject(deliveryTag: ea.DeliveryTag, requeue: false);\n};\n\nchannel.BasicConsume(queue: \"normal_queue\", autoAck: false, consumer: consumer);\n```\n4. Ê∂àÊÅØÈáçËØïËææÂà∞‰∏äÈôêÔºöÂΩìÊ∂àÊÅØÁªèËøáÂ§öÊ¨°ÈáçËØï‰ªçÁÑ∂Êó†Ê≥ïÊàêÂäüÂ§ÑÁêÜÊó∂ÔºåÂèØ‰ª•Â∞ÜÂÖ∂ËΩ¨ÁßªÂà∞Ê≠ª‰ø°ÈòüÂàóÔºå‰ª•Èò≤Ê≠¢Êó†ÈôêÈáçËØïÂØºËá¥Á≥ªÁªüËµÑÊ∫êÊµ™Ë¥π„ÄÇ\n# ‰∫î„ÄÅÊ≠ª‰ø°ÈòüÂàóÁöÑÂ∑•‰ΩúÂéüÁêÜ\nÊ≠ª‰ø°ÈòüÂàóÁöÑÂ∑•‰ΩúÂéüÁêÜ‰∏ªË¶ÅÂåÖÊã¨‰ª•‰∏ãÂá†‰∏™Ê≠•È™§Ôºö\n\n1. Ê∂àÊÅØËøõÂÖ•ÂéüÈòüÂàóÔºöÊ∂àÊÅØÈ¶ñÂÖàËøõÂÖ•Ê≠£Â∏∏ÁöÑÊ∂àÊÅØÈòüÂàóËøõË°åÂ§ÑÁêÜ„ÄÇ\n2. Ê∂àÊÅØÂ§ÑÁêÜÂ§±Ë¥•ÔºöÂ¶ÇÊûúÊ∂àÊÅØÂú®ÂéüÈòüÂàó‰∏≠Âõ†‰∏∫Êüê‰∫õÂéüÂõ†Êó†Ê≥ïË¢´Ê∂àË¥πÔºå‰æãÂ¶ÇÂ§ÑÁêÜÂ§±Ë¥•„ÄÅË∂ÖÊó∂ÊàñË¢´ÊãíÁªùÔºåÊ∂àÊÅØ‰ºöË¢´Ê†áËÆ∞‰∏∫Ê≠ª‰ø°„ÄÇ\n3. Ê∂àÊÅØËΩ¨ÁßªÂà∞Ê≠ª‰ø°ÈòüÂàóÔºöË¢´Ê†áËÆ∞‰∏∫Ê≠ª‰ø°ÁöÑÊ∂àÊÅØ‰ºöË¢´Ëá™Âä®ËΩ¨ÁßªÂà∞Ê≠ª‰ø°ÈòüÂàó‰∏≠ËøõË°åÂ≠òÂÇ®„ÄÇ\n4. Ê≠ª‰ø°ÈòüÂàóÂ§ÑÁêÜÔºöÊ≠ª‰ø°ÈòüÂàó‰∏≠ÁöÑÊ∂àÊÅØÂèØ‰ª•ÈÄöËøáÁâπÂÆöÁöÑÁ≠ñÁï•ËøõË°åÂ§ÑÁêÜÔºå‰æãÂ¶ÇÈáçÊñ∞ÊäïÈÄí„ÄÅËÆ∞ÂΩïÊó•ÂøóÊàñÈÄöÁü•ÁÆ°ÁêÜÂëò„ÄÇÂºÄÂèë‰∫∫ÂëòÂèØ‰ª•Ê†πÊçÆ‰∏öÂä°ÈúÄÊ±ÇËÆæËÆ°ÂêàÈÄÇÁöÑÂ§ÑÁêÜÊú∫Âà∂„ÄÇ\n\n![Â∑•‰ΩúÂéüÁêÜ](/images/dead-message/dead-letter-exchange-1.png)\n\n# Á§∫‰æãÔºöRabbitMQ‰∏≠ÁöÑÊ≠ª‰ø°ÈòüÂàó\n\nÁõ∏‰ø°ÂæàÂ§öËÄÅÈìÅ‰πüÂê¨ËØ¥ËøáÔºåÊàë‰ª¨ÂèØ‰ª•Áî®Ê≠ª‰ø°ÈòüÂàóÊù•ÂÆûÁé∞Âª∂ËøüÊ∂àË¥πÔºå‰∏ãÈù¢ÊàëÁªìÂêà‰∏Ä‰∏™ÂÆûÈôÖÁöÑÂú∫ÊôØÊù•ÁÆÄÂçï‰ªãÁªç‰∏Ä‰∏ã„ÄÇ\n\nÈúÄÊ±ÇËÉåÊôØÔºö‰∫ßÂìÅÁªèÁêÜË¶ÅÊ±ÇÂΩìÂëäË≠¶‰∫ßÁîüÂçäÂ∞èÊó∂ÂêéËøõË°åÁîµËØùÈÄöÁü•ÔºåËÄå‰∏çÊòØÁ´ãÂàªËøõË°åÁîµËØùÈÄöÁü•ÔºàÂ¶ÇÊûúËá™ÊÑàÊàêÂäüÂ∞±‰∏çÈúÄË¶ÅËøõË°åÈÄöÁü•‰∫ÜÔºâ„ÄÇ\nËøô‰∏™Êó∂ÂÄôÂ∞±ÈúÄË¶ÅÊàë‰ª¨Áî®Âª∂ËøüÊ∂àË¥πÊù•ÂÆûÁé∞‰∫Ü\n\n1. ÂàõÂª∫ÈÄöÁü•ÈòüÂàóÂíåÁßÅ‰ø°ÈòüÂàó\n\nËøôÈáåÊàë‰ª¨ÂàõÂª∫‰∏Ä‰∏™ÂëäË≠¶‰∫ßÁîüÁöÑÈòüÂàóÔºåÂπ∂‰∏îËÆæÁΩÆ‰∫ÜÊ≠ª‰ø°ÈòüÂàóÁöÑ‰∫§Êç¢Êú∫ÂíåË∑ØÁî±„ÄÇ\n```C#\n//ËØ≠Èü≥ÈÄöÁü•ÈÄöËøáÊ≠ª‰ø°ÈòüÂàóÂª∂ËøüÊé®ÈÄÅ\nclient.CreateQueueBind(\"Alert-Notify2.voice\");\nDictionary<string, object> args = new Dictionary<string, object>\n{\n    [\"x-dead-letter-exchange\"] = Exchanges.Direct,\n    //ÊåáÂÆöÊ≠ª‰ø°Ê∂àÊÅØÁïôÂà∞‰ΩïÂ§Ñ\n    [\"x-dead-letter-routing-key\"] = \"Alert-Notify2.voice\"\n};\nclient.CreateQueueBind(\"Alert-Notify2.voice_wait\", null, null, args);\n\n```\n\n2. ÁªôÈòüÂàóÁªëÂÆöÊ∂àË¥πËÄÖ\n\nËøôÈáåÈúÄË¶ÅÊ≥®ÊÑèÁöÑÊòØÔºåÊàë‰ª¨ÁªôÊ≠ª‰ø°ÈòüÂàóÁªëÂÆö‰∫ÜÊ∂àË¥πËÄÖÔºåËÄåÂëäË≠¶Á≠âÂæÖÁöÑÈòüÂàóÊòØÊ≤°ÊúâÊ∂àË¥πËÄÖÁöÑ„ÄÇ\n```C#\n //ÈòøÈáå‰∫ëËØ≠Èü≥\n RabbitSubscriber.StartAsync<AlertNotifyPackage, NotifyVoiceMessageHandler>(new RabbitSubscriberArgs\n {\n     SettingName = RabbitSettings.Rabbit,\n     QueueName = \"Alert-Notify2.voice\",\n     SubscriberCount = Settings.GetInt(\"Alert_Notify2_voice_SubscriberCount\", 2)\n });\n```\n![Á≠âÂæÖÈòüÂàó1](/images/dead-message/delay_comsuption_1.png)\n\n![Ê≠ª‰ø°ÈòüÂàó](/images/dead-message/delay_comsuption_2.png)\n\n3. Áîü‰∫ßËÄÖ‰∫ßÁîüÊ∂àÊÅØÔºåÂπ∂‰∏îÁªôÊ∂àÊÅØËÆæÁΩÆ‰∫ÜËøáÊúüÊó∂Èó¥\n```C#\nusing (RabbitClient client = new RabbitClient(RabbitSettings.Rabbit, \"NotifyService.Rabbit.MQ\"))\n{\n    //Ê∂àÊÅØÂèëÈÄÅÂà∞Ê≠ª‰ø°ÈòüÂàó‰∏≠ÔºåÊó∂Èó¥Âà∞ÊúüÂêé‰ºöÂèëÈÄÅÂà∞SendMessage(Alert-Notify2.voice)\n    IBasicProperties properties = client.GetBasicProperties();\n    properties.Expiration = (60 * 1000 * Notify2RabbitInit.VoiceConfig.TimeOut).ToString();                \n    client.SendMessage(package, null, \"Alert-Notify2.voice_wait\", properties);\n}\n\n```\nËøôÊ†∑Êàë‰ª¨ÊääÊ∂àÊÅØÂèëÂæÄÁ≠âÂæÖÈòüÂàóÔºåËÄåÁ≠âÂæÖÈòüÂàóÊòØÊ≤°ÊúâÊ∂àË¥πËÄÖÁöÑ„ÄÇÂõ†Ê≠§Ê∂àÊÅØËøáÊúü‰πãÂêéËøõÂÖ•Ê≠ª‰ø°ÈòüÂàóËøõË°åÊ∂àË¥πÔºå‰ªéËÄåËææÂà∞Âª∂ËøüÊ∂àË¥πÁöÑÊïàÊûú\n![Âª∂ËøüÊ∂àË¥π](/images/dead-message/dead-letter-3.png)\n\n# ÁªìËØ≠\nÊ≠ª‰ø°ÈòüÂàóÊòØÊ∂àÊÅØÈòüÂàóÁ≥ªÁªü‰∏≠Â§ÑÁêÜÂºÇÂ∏∏Ê∂àÊÅØÁöÑÈáçË¶ÅÊú∫Âà∂„ÄÇÈÄöËøáÂêàÁêÜ‰ΩøÁî®Ê≠ª‰ø°ÈòüÂàóÔºåÂèØ‰ª•ÊèêÈ´òÁ≥ªÁªüÁöÑÂèØÈù†ÊÄßÂíåÁ®≥ÂÆöÊÄßÔºåÁ°Æ‰øùÊ∂àÊÅØ‰∏ç‰ºöÂú®Â§ÑÁêÜËøáÁ®ã‰∏≠‰∏¢Â§±ÊàñÂØºËá¥Á≥ªÁªüÂ¥©Ê∫É„ÄÇÂú®ÂÆûÈôÖÂ∫îÁî®‰∏≠ÔºåÂºÄÂèë‰∫∫ÂëòÂ∫îÊ†πÊçÆ‰∏öÂä°ÈúÄÊ±ÇËÆæËÆ°ÂêàÈÄÇÁöÑÊ≠ª‰ø°ÈòüÂàóÂ§ÑÁêÜÁ≠ñÁï•Ôºå‰ª•ÂÖÖÂàÜÂèëÊå•ÂÖ∂‰ºòÂäø„ÄÇ","source":"_posts/dead-message.md","raw":"---\ntitle: Ê∑±ÂÖ•Ëß£ÊûêÊ∂àÊÅØÈòüÂàó‰∏≠ÁöÑÊ≠ª‰ø°ÈòüÂàó\ndate: 2024-05-22 15:37:54\ntags:\n---\n\n>Âú®Ê∂àÊÅØÈòüÂàóÔºàMQÔºâÁ≥ªÁªü‰∏≠ÔºåÊ≠ª‰ø°ÈòüÂàóÔºàDead Letter Queue, DLQÔºâÊòØ‰∏Ä‰∏™ÂÖ≥ÈîÆÁªÑ‰ª∂ÔºåÁî®‰∫éÂ§ÑÁêÜÊó†Ê≥ïË¢´Ê≠£Â∏∏Ê∂àË¥πÁöÑÊ∂àÊÅØ„ÄÇÊú¨ÊñáÂ∞ÜËØ¶ÁªÜ‰ªãÁªçÊ≠ª‰ø°ÈòüÂàóÁöÑÂÆö‰πâ„ÄÅ‰ºòÁº∫ÁÇπ„ÄÅÂ∫îÁî®Âú∫ÊôØÔºåÂπ∂Êé¢ËÆ®‰∏éÂª∂ËøüÊ∂àÊÅØÁöÑÂÖ≥Á≥ª„ÄÇÊúÄÂêéÔºåÈÄöËøáÂá†‰∏™Á§∫‰æãÊù•Â±ïÁ§∫Â¶Ç‰ΩïÂú®ÂÆûÈôÖ‰∏≠‰ΩøÁî®Ê≠ª‰ø°ÈòüÂàó„ÄÇ\n\n# ‰∏Ä„ÄÅÊ≠ª‰ø°ÈòüÂàóÁöÑÂÆö‰πâ\nÊ≠ª‰ø°ÈòüÂàóÔºàDead Letter QueueÔºåDLQÔºâÊòØ‰∏ÄÁßçÁâπÊÆäÁ±ªÂûãÁöÑÊ∂àÊÅØÈòüÂàóÔºåÁî®‰∫éÂ≠òÂÇ®Êó†Ê≥ïË¢´Ê≠£Â∏∏Â§ÑÁêÜÁöÑÊ∂àÊÅØ„ÄÇÂΩìÊ∂àÊÅØÂú®ÂéüÈòüÂàó‰∏≠Âõ†‰∏∫Êüê‰∫õÂéüÂõ†Êó†Ê≥ïË¢´Ê∂àË¥πÊó∂ÔºåËøô‰∫õÊ∂àÊÅØ‰ºöË¢´ËΩ¨ÁßªÂà∞Ê≠ª‰ø°ÈòüÂàó‰∏≠„ÄÇÊ≠ª‰ø°ÈòüÂàóÁöÑÁõÆÁöÑÊòØÁ°Æ‰øùÊ∂àÊÅØÁ≥ªÁªüÁöÑÂÅ•Â£ÆÊÄßÂíåÁ®≥ÂÆöÊÄßÔºåÈÅøÂÖçÂõ†‰∏∫‰∏™Âà´Ê∂àÊÅØÁöÑÂºÇÂ∏∏ËÄåÂΩ±ÂìçÊï¥‰∏™Ê∂àÊÅØÂ§ÑÁêÜÊµÅÁ®ã„ÄÇ\n\n![Ê≠ª‰ø°ÈòüÂàó](/images/dead-message/dead-letter-exchange-1.png)\n\n# ‰∫å„ÄÅÊ≠ª‰ø°ÈòüÂàó‰∏∫‰ªÄ‰πàÈáçË¶Å\nÊ≠ª‰ø°ÈòüÂàóÂú®Ê∂àÊÅØÈòüÂàóÁ≥ªÁªü‰∏≠ÊâÆÊºîÁùÄÂÖ≥ÈîÆÁöÑËßíËâ≤ÔºåÂÖ∂ÈáçË¶ÅÊÄß‰ΩìÁé∞Âú®‰ª•‰∏ãÂá†‰∏™ÊñπÈù¢Ôºö\n\n+ ÊèêÈ´òÁ≥ªÁªüÂèØÈù†ÊÄßÔºöÈÄöËøáÂ∞ÜÊó†Ê≥ïÂ§ÑÁêÜÁöÑÊ∂àÊÅØËΩ¨ÁßªÂà∞Ê≠ª‰ø°ÈòüÂàóÔºåÂèØ‰ª•Èò≤Ê≠¢Ëøô‰∫õÊ∂àÊÅØÂØπÊ≠£Â∏∏Ê∂àÊÅØÂ§ÑÁêÜÊµÅÁ®ãÁöÑÂΩ±ÂìçÔºåÊèêÈ´òÁ≥ªÁªüÁöÑÂèØÈù†ÊÄß„ÄÇ\n+ ÈóÆÈ¢òÊéíÊü•‰∏éË∞ÉËØïÔºöÊ≠ª‰ø°ÈòüÂàóÂèØ‰ª•‰Ωú‰∏∫‰∏ÄÁßçÊó•ÂøóËÆ∞ÂΩïÊú∫Âà∂ÔºåÂ∏ÆÂä©ÂºÄÂèë‰∫∫ÂëòÊéíÊü•ÂíåË∞ÉËØïÈóÆÈ¢ò„ÄÇÈÄöËøáÂàÜÊûêÊ≠ª‰ø°ÈòüÂàó‰∏≠ÁöÑÊ∂àÊÅØÔºåÂèØ‰ª•ÊâæÂà∞Á≥ªÁªü‰∏≠ÁöÑËñÑÂº±ÁéØËäÇÂíåÂºÇÂ∏∏ÊÉÖÂÜµ„ÄÇ\n+ Èò≤Ê≠¢Ê∂àÊÅØ‰∏¢Â§±ÔºöÂú®Ê∂àÊÅØÂ§ÑÁêÜËøáÁ®ã‰∏≠ÔºåÊüê‰∫õÊ∂àÊÅØÂèØËÉΩÁî±‰∫éÊ†ºÂºèÈîôËØØ„ÄÅË∂ÖÊó∂Á≠âÂéüÂõ†Êó†Ê≥ïÂ§ÑÁêÜ„ÄÇÊ≠ª‰ø°ÈòüÂàóÁ°Æ‰øùËøô‰∫õÊ∂àÊÅØ‰∏ç‰ºöË¢´‰∏¢ÂºÉÔºåËÄåÊòØ‰øùÁïôËµ∑Êù•Á≠âÂæÖËøõ‰∏ÄÊ≠•Â§ÑÁêÜÊàñ‰∫∫Â∑•Âπ≤È¢Ñ„ÄÇ\n# ‰∏â„ÄÅÊ≠ª‰ø°ÈòüÂàóÁöÑ‰ºòÂäø\n+ ÈöîÁ¶ªÂºÇÂ∏∏Ê∂àÊÅØÔºöÂ∞ÜÊó†Ê≥ïÂ§ÑÁêÜÁöÑÂºÇÂ∏∏Ê∂àÊÅØÈöîÁ¶ªÂà∞Ê≠ª‰ø°ÈòüÂàóÔºåÈÅøÂÖçÂÖ∂ÂΩ±ÂìçÊ≠£Â∏∏Ê∂àÊÅØÁöÑÂ§ÑÁêÜ„ÄÇ\n+ ÊåÅ‰πÖÂåñÂ≠òÂÇ®ÔºöÊ≠ª‰ø°ÈòüÂàó‰∏≠ÁöÑÊ∂àÊÅØÈÄöÂ∏∏‰ºöË¢´ÊåÅ‰πÖÂåñÂ≠òÂÇ®ÔºåÁ°Æ‰øùÊ∂àÊÅØ‰∏ç‰ºöÂõ†Á≥ªÁªüÈáçÂêØÊàñÊïÖÈöúËÄå‰∏¢Â§±„ÄÇ\n+ ÁÅµÊ¥ªÂ§ÑÁêÜÊú∫Âà∂ÔºöÂºÄÂèë‰∫∫ÂëòÂèØ‰ª•ÈíàÂØπÊ≠ª‰ø°ÈòüÂàó‰∏≠ÁöÑÊ∂àÊÅØËÆæËÆ°‰∏çÂêåÁöÑÂ§ÑÁêÜÊú∫Âà∂Ôºå‰æãÂ¶ÇÈáçÊñ∞Â§ÑÁêÜ„ÄÅÈÄöÁü•ÁÆ°ÁêÜÂëòÊàñËøõË°å‰∫∫Â∑•Âπ≤È¢Ñ„ÄÇ\n+ ÁõëÊéß‰∏éÊä•Ë≠¶ÔºöÈÄöËøáÁõëÊéßÊ≠ª‰ø°ÈòüÂàóÁöÑÂ§ßÂ∞èÂíåÂÜÖÂÆπÔºåÂèØ‰ª•ÂèäÊó∂ÂèëÁé∞Á≥ªÁªü‰∏≠ÁöÑÂºÇÂ∏∏ÊÉÖÂÜµÔºåÂπ∂Ëß¶ÂèëÊä•Ë≠¶Êú∫Âà∂ËøõË°åÂ§ÑÁêÜ„ÄÇ\n# Âõõ„ÄÅ‰ªÄ‰πàÊó∂ÂÄôÂ∫îËØ•‰ΩøÁî®Ê≠ª‰ø°ÈòüÂàó\nÊ≠ª‰ø°ÈòüÂàóÈÄÇÁî®‰∫é‰ª•‰∏ãÂú∫ÊôØÔºö\n\n1. Ê∂àÊÅØÂ§ÑÁêÜÂ§±Ë¥•ÔºöÂΩìÊ∂àÊÅØÁî±‰∫éÊ†ºÂºèÈîôËØØ„ÄÅÊï∞ÊçÆ‰∏çÂÆåÊï¥Á≠âÂéüÂõ†Êó†Ê≥ïË¢´Ê≠£Â∏∏Â§ÑÁêÜÊó∂ÔºåÂ∫î‰ΩøÁî®Ê≠ª‰ø°ÈòüÂàóÂ≠òÂÇ®Ëøô‰∫õÊ∂àÊÅØ„ÄÇ\n2. Ê∂àÊÅØÂ§ÑÁêÜË∂ÖÊó∂ÔºöÂΩìÊ∂àÊÅØÂú®ËßÑÂÆöÊó∂Èó¥ÂÜÖÊú™Ë¢´Ê∂àË¥πÊàñÂ§ÑÁêÜÂÆåÊØïÊó∂ÔºåÂèØ‰ª•Â∞ÜÂÖ∂ËΩ¨ÁßªÂà∞Ê≠ª‰ø°ÈòüÂàó„ÄÇ\n```C#\nvar properties = channel.CreateBasicProperties();\nproperties.Expiration = \"60000\"; // Ê∂àÊÅØËøáÊúüÊó∂Èó¥ËÆæÁΩÆ‰∏∫60Áßí\n\nchannel.BasicPublish(\n    exchange: \"\",\n    routingKey: \"normal_queue\",\n    basicProperties: properties,\n    body: Encoding.UTF8.GetBytes(\"Test Message\")\n);\n```\n3. Ê∂àÊÅØË¢´ÊãíÁªùÔºöÂΩìÊ∂àË¥πËÄÖÊòæÂºèÊãíÁªùÂ§ÑÁêÜÊüêÊù°Ê∂àÊÅØÊó∂ÔºåËØ•Ê∂àÊÅØÂèØ‰ª•Ë¢´ËΩ¨ÁßªÂà∞Ê≠ª‰ø°ÈòüÂàó„ÄÇ\n```C#\nvar consumer = new EventingBasicConsumer(channel);\nconsumer.Received += (model, ea) =>\n{\n    var body = ea.Body.ToArray();\n    var message = Encoding.UTF8.GetString(body);\n    \n    // Ê®°ÊãüÊãíÁªùÊ∂àÊÅØ\n    channel.BasicReject(deliveryTag: ea.DeliveryTag, requeue: false);\n};\n\nchannel.BasicConsume(queue: \"normal_queue\", autoAck: false, consumer: consumer);\n```\n4. Ê∂àÊÅØÈáçËØïËææÂà∞‰∏äÈôêÔºöÂΩìÊ∂àÊÅØÁªèËøáÂ§öÊ¨°ÈáçËØï‰ªçÁÑ∂Êó†Ê≥ïÊàêÂäüÂ§ÑÁêÜÊó∂ÔºåÂèØ‰ª•Â∞ÜÂÖ∂ËΩ¨ÁßªÂà∞Ê≠ª‰ø°ÈòüÂàóÔºå‰ª•Èò≤Ê≠¢Êó†ÈôêÈáçËØïÂØºËá¥Á≥ªÁªüËµÑÊ∫êÊµ™Ë¥π„ÄÇ\n# ‰∫î„ÄÅÊ≠ª‰ø°ÈòüÂàóÁöÑÂ∑•‰ΩúÂéüÁêÜ\nÊ≠ª‰ø°ÈòüÂàóÁöÑÂ∑•‰ΩúÂéüÁêÜ‰∏ªË¶ÅÂåÖÊã¨‰ª•‰∏ãÂá†‰∏™Ê≠•È™§Ôºö\n\n1. Ê∂àÊÅØËøõÂÖ•ÂéüÈòüÂàóÔºöÊ∂àÊÅØÈ¶ñÂÖàËøõÂÖ•Ê≠£Â∏∏ÁöÑÊ∂àÊÅØÈòüÂàóËøõË°åÂ§ÑÁêÜ„ÄÇ\n2. Ê∂àÊÅØÂ§ÑÁêÜÂ§±Ë¥•ÔºöÂ¶ÇÊûúÊ∂àÊÅØÂú®ÂéüÈòüÂàó‰∏≠Âõ†‰∏∫Êüê‰∫õÂéüÂõ†Êó†Ê≥ïË¢´Ê∂àË¥πÔºå‰æãÂ¶ÇÂ§ÑÁêÜÂ§±Ë¥•„ÄÅË∂ÖÊó∂ÊàñË¢´ÊãíÁªùÔºåÊ∂àÊÅØ‰ºöË¢´Ê†áËÆ∞‰∏∫Ê≠ª‰ø°„ÄÇ\n3. Ê∂àÊÅØËΩ¨ÁßªÂà∞Ê≠ª‰ø°ÈòüÂàóÔºöË¢´Ê†áËÆ∞‰∏∫Ê≠ª‰ø°ÁöÑÊ∂àÊÅØ‰ºöË¢´Ëá™Âä®ËΩ¨ÁßªÂà∞Ê≠ª‰ø°ÈòüÂàó‰∏≠ËøõË°åÂ≠òÂÇ®„ÄÇ\n4. Ê≠ª‰ø°ÈòüÂàóÂ§ÑÁêÜÔºöÊ≠ª‰ø°ÈòüÂàó‰∏≠ÁöÑÊ∂àÊÅØÂèØ‰ª•ÈÄöËøáÁâπÂÆöÁöÑÁ≠ñÁï•ËøõË°åÂ§ÑÁêÜÔºå‰æãÂ¶ÇÈáçÊñ∞ÊäïÈÄí„ÄÅËÆ∞ÂΩïÊó•ÂøóÊàñÈÄöÁü•ÁÆ°ÁêÜÂëò„ÄÇÂºÄÂèë‰∫∫ÂëòÂèØ‰ª•Ê†πÊçÆ‰∏öÂä°ÈúÄÊ±ÇËÆæËÆ°ÂêàÈÄÇÁöÑÂ§ÑÁêÜÊú∫Âà∂„ÄÇ\n\n![Â∑•‰ΩúÂéüÁêÜ](/images/dead-message/dead-letter-exchange-1.png)\n\n# Á§∫‰æãÔºöRabbitMQ‰∏≠ÁöÑÊ≠ª‰ø°ÈòüÂàó\n\nÁõ∏‰ø°ÂæàÂ§öËÄÅÈìÅ‰πüÂê¨ËØ¥ËøáÔºåÊàë‰ª¨ÂèØ‰ª•Áî®Ê≠ª‰ø°ÈòüÂàóÊù•ÂÆûÁé∞Âª∂ËøüÊ∂àË¥πÔºå‰∏ãÈù¢ÊàëÁªìÂêà‰∏Ä‰∏™ÂÆûÈôÖÁöÑÂú∫ÊôØÊù•ÁÆÄÂçï‰ªãÁªç‰∏Ä‰∏ã„ÄÇ\n\nÈúÄÊ±ÇËÉåÊôØÔºö‰∫ßÂìÅÁªèÁêÜË¶ÅÊ±ÇÂΩìÂëäË≠¶‰∫ßÁîüÂçäÂ∞èÊó∂ÂêéËøõË°åÁîµËØùÈÄöÁü•ÔºåËÄå‰∏çÊòØÁ´ãÂàªËøõË°åÁîµËØùÈÄöÁü•ÔºàÂ¶ÇÊûúËá™ÊÑàÊàêÂäüÂ∞±‰∏çÈúÄË¶ÅËøõË°åÈÄöÁü•‰∫ÜÔºâ„ÄÇ\nËøô‰∏™Êó∂ÂÄôÂ∞±ÈúÄË¶ÅÊàë‰ª¨Áî®Âª∂ËøüÊ∂àË¥πÊù•ÂÆûÁé∞‰∫Ü\n\n1. ÂàõÂª∫ÈÄöÁü•ÈòüÂàóÂíåÁßÅ‰ø°ÈòüÂàó\n\nËøôÈáåÊàë‰ª¨ÂàõÂª∫‰∏Ä‰∏™ÂëäË≠¶‰∫ßÁîüÁöÑÈòüÂàóÔºåÂπ∂‰∏îËÆæÁΩÆ‰∫ÜÊ≠ª‰ø°ÈòüÂàóÁöÑ‰∫§Êç¢Êú∫ÂíåË∑ØÁî±„ÄÇ\n```C#\n//ËØ≠Èü≥ÈÄöÁü•ÈÄöËøáÊ≠ª‰ø°ÈòüÂàóÂª∂ËøüÊé®ÈÄÅ\nclient.CreateQueueBind(\"Alert-Notify2.voice\");\nDictionary<string, object> args = new Dictionary<string, object>\n{\n    [\"x-dead-letter-exchange\"] = Exchanges.Direct,\n    //ÊåáÂÆöÊ≠ª‰ø°Ê∂àÊÅØÁïôÂà∞‰ΩïÂ§Ñ\n    [\"x-dead-letter-routing-key\"] = \"Alert-Notify2.voice\"\n};\nclient.CreateQueueBind(\"Alert-Notify2.voice_wait\", null, null, args);\n\n```\n\n2. ÁªôÈòüÂàóÁªëÂÆöÊ∂àË¥πËÄÖ\n\nËøôÈáåÈúÄË¶ÅÊ≥®ÊÑèÁöÑÊòØÔºåÊàë‰ª¨ÁªôÊ≠ª‰ø°ÈòüÂàóÁªëÂÆö‰∫ÜÊ∂àË¥πËÄÖÔºåËÄåÂëäË≠¶Á≠âÂæÖÁöÑÈòüÂàóÊòØÊ≤°ÊúâÊ∂àË¥πËÄÖÁöÑ„ÄÇ\n```C#\n //ÈòøÈáå‰∫ëËØ≠Èü≥\n RabbitSubscriber.StartAsync<AlertNotifyPackage, NotifyVoiceMessageHandler>(new RabbitSubscriberArgs\n {\n     SettingName = RabbitSettings.Rabbit,\n     QueueName = \"Alert-Notify2.voice\",\n     SubscriberCount = Settings.GetInt(\"Alert_Notify2_voice_SubscriberCount\", 2)\n });\n```\n![Á≠âÂæÖÈòüÂàó1](/images/dead-message/delay_comsuption_1.png)\n\n![Ê≠ª‰ø°ÈòüÂàó](/images/dead-message/delay_comsuption_2.png)\n\n3. Áîü‰∫ßËÄÖ‰∫ßÁîüÊ∂àÊÅØÔºåÂπ∂‰∏îÁªôÊ∂àÊÅØËÆæÁΩÆ‰∫ÜËøáÊúüÊó∂Èó¥\n```C#\nusing (RabbitClient client = new RabbitClient(RabbitSettings.Rabbit, \"NotifyService.Rabbit.MQ\"))\n{\n    //Ê∂àÊÅØÂèëÈÄÅÂà∞Ê≠ª‰ø°ÈòüÂàó‰∏≠ÔºåÊó∂Èó¥Âà∞ÊúüÂêé‰ºöÂèëÈÄÅÂà∞SendMessage(Alert-Notify2.voice)\n    IBasicProperties properties = client.GetBasicProperties();\n    properties.Expiration = (60 * 1000 * Notify2RabbitInit.VoiceConfig.TimeOut).ToString();                \n    client.SendMessage(package, null, \"Alert-Notify2.voice_wait\", properties);\n}\n\n```\nËøôÊ†∑Êàë‰ª¨ÊääÊ∂àÊÅØÂèëÂæÄÁ≠âÂæÖÈòüÂàóÔºåËÄåÁ≠âÂæÖÈòüÂàóÊòØÊ≤°ÊúâÊ∂àË¥πËÄÖÁöÑ„ÄÇÂõ†Ê≠§Ê∂àÊÅØËøáÊúü‰πãÂêéËøõÂÖ•Ê≠ª‰ø°ÈòüÂàóËøõË°åÊ∂àË¥πÔºå‰ªéËÄåËææÂà∞Âª∂ËøüÊ∂àË¥πÁöÑÊïàÊûú\n![Âª∂ËøüÊ∂àË¥π](/images/dead-message/dead-letter-3.png)\n\n# ÁªìËØ≠\nÊ≠ª‰ø°ÈòüÂàóÊòØÊ∂àÊÅØÈòüÂàóÁ≥ªÁªü‰∏≠Â§ÑÁêÜÂºÇÂ∏∏Ê∂àÊÅØÁöÑÈáçË¶ÅÊú∫Âà∂„ÄÇÈÄöËøáÂêàÁêÜ‰ΩøÁî®Ê≠ª‰ø°ÈòüÂàóÔºåÂèØ‰ª•ÊèêÈ´òÁ≥ªÁªüÁöÑÂèØÈù†ÊÄßÂíåÁ®≥ÂÆöÊÄßÔºåÁ°Æ‰øùÊ∂àÊÅØ‰∏ç‰ºöÂú®Â§ÑÁêÜËøáÁ®ã‰∏≠‰∏¢Â§±ÊàñÂØºËá¥Á≥ªÁªüÂ¥©Ê∫É„ÄÇÂú®ÂÆûÈôÖÂ∫îÁî®‰∏≠ÔºåÂºÄÂèë‰∫∫ÂëòÂ∫îÊ†πÊçÆ‰∏öÂä°ÈúÄÊ±ÇËÆæËÆ°ÂêàÈÄÇÁöÑÊ≠ª‰ø°ÈòüÂàóÂ§ÑÁêÜÁ≠ñÁï•Ôºå‰ª•ÂÖÖÂàÜÂèëÊå•ÂÖ∂‰ºòÂäø„ÄÇ","slug":"dead-message","published":1,"updated":"2024-05-25T09:23:07.803Z","_id":"clwhmpusl0000asp18nsiccvg","comments":1,"layout":"post","photos":[],"link":"","content":"<blockquote>\n<p>Âú®Ê∂àÊÅØÈòüÂàóÔºàMQÔºâÁ≥ªÁªü‰∏≠ÔºåÊ≠ª‰ø°ÈòüÂàóÔºàDead Letter Queue, DLQÔºâÊòØ‰∏Ä‰∏™ÂÖ≥ÈîÆÁªÑ‰ª∂ÔºåÁî®‰∫éÂ§ÑÁêÜÊó†Ê≥ïË¢´Ê≠£Â∏∏Ê∂àË¥πÁöÑÊ∂àÊÅØ„ÄÇÊú¨ÊñáÂ∞ÜËØ¶ÁªÜ‰ªãÁªçÊ≠ª‰ø°ÈòüÂàóÁöÑÂÆö‰πâ„ÄÅ‰ºòÁº∫ÁÇπ„ÄÅÂ∫îÁî®Âú∫ÊôØÔºåÂπ∂Êé¢ËÆ®‰∏éÂª∂ËøüÊ∂àÊÅØÁöÑÂÖ≥Á≥ª„ÄÇÊúÄÂêéÔºåÈÄöËøáÂá†‰∏™Á§∫‰æãÊù•Â±ïÁ§∫Â¶Ç‰ΩïÂú®ÂÆûÈôÖ‰∏≠‰ΩøÁî®Ê≠ª‰ø°ÈòüÂàó„ÄÇ</p>\n</blockquote>\n<h1 id=\"‰∏Ä„ÄÅÊ≠ª‰ø°ÈòüÂàóÁöÑÂÆö‰πâ\"><a href=\"#‰∏Ä„ÄÅÊ≠ª‰ø°ÈòüÂàóÁöÑÂÆö‰πâ\" class=\"headerlink\" title=\"‰∏Ä„ÄÅÊ≠ª‰ø°ÈòüÂàóÁöÑÂÆö‰πâ\"></a>‰∏Ä„ÄÅÊ≠ª‰ø°ÈòüÂàóÁöÑÂÆö‰πâ</h1><p>Ê≠ª‰ø°ÈòüÂàóÔºàDead Letter QueueÔºåDLQÔºâÊòØ‰∏ÄÁßçÁâπÊÆäÁ±ªÂûãÁöÑÊ∂àÊÅØÈòüÂàóÔºåÁî®‰∫éÂ≠òÂÇ®Êó†Ê≥ïË¢´Ê≠£Â∏∏Â§ÑÁêÜÁöÑÊ∂àÊÅØ„ÄÇÂΩìÊ∂àÊÅØÂú®ÂéüÈòüÂàó‰∏≠Âõ†‰∏∫Êüê‰∫õÂéüÂõ†Êó†Ê≥ïË¢´Ê∂àË¥πÊó∂ÔºåËøô‰∫õÊ∂àÊÅØ‰ºöË¢´ËΩ¨ÁßªÂà∞Ê≠ª‰ø°ÈòüÂàó‰∏≠„ÄÇÊ≠ª‰ø°ÈòüÂàóÁöÑÁõÆÁöÑÊòØÁ°Æ‰øùÊ∂àÊÅØÁ≥ªÁªüÁöÑÂÅ•Â£ÆÊÄßÂíåÁ®≥ÂÆöÊÄßÔºåÈÅøÂÖçÂõ†‰∏∫‰∏™Âà´Ê∂àÊÅØÁöÑÂºÇÂ∏∏ËÄåÂΩ±ÂìçÊï¥‰∏™Ê∂àÊÅØÂ§ÑÁêÜÊµÅÁ®ã„ÄÇ</p>\n<p><img src=\"/images/dead-message/dead-letter-exchange-1.png\" alt=\"Ê≠ª‰ø°ÈòüÂàó\"></p>\n<h1 id=\"‰∫å„ÄÅÊ≠ª‰ø°ÈòüÂàó‰∏∫‰ªÄ‰πàÈáçË¶Å\"><a href=\"#‰∫å„ÄÅÊ≠ª‰ø°ÈòüÂàó‰∏∫‰ªÄ‰πàÈáçË¶Å\" class=\"headerlink\" title=\"‰∫å„ÄÅÊ≠ª‰ø°ÈòüÂàó‰∏∫‰ªÄ‰πàÈáçË¶Å\"></a>‰∫å„ÄÅÊ≠ª‰ø°ÈòüÂàó‰∏∫‰ªÄ‰πàÈáçË¶Å</h1><p>Ê≠ª‰ø°ÈòüÂàóÂú®Ê∂àÊÅØÈòüÂàóÁ≥ªÁªü‰∏≠ÊâÆÊºîÁùÄÂÖ≥ÈîÆÁöÑËßíËâ≤ÔºåÂÖ∂ÈáçË¶ÅÊÄß‰ΩìÁé∞Âú®‰ª•‰∏ãÂá†‰∏™ÊñπÈù¢Ôºö</p>\n<ul>\n<li>ÊèêÈ´òÁ≥ªÁªüÂèØÈù†ÊÄßÔºöÈÄöËøáÂ∞ÜÊó†Ê≥ïÂ§ÑÁêÜÁöÑÊ∂àÊÅØËΩ¨ÁßªÂà∞Ê≠ª‰ø°ÈòüÂàóÔºåÂèØ‰ª•Èò≤Ê≠¢Ëøô‰∫õÊ∂àÊÅØÂØπÊ≠£Â∏∏Ê∂àÊÅØÂ§ÑÁêÜÊµÅÁ®ãÁöÑÂΩ±ÂìçÔºåÊèêÈ´òÁ≥ªÁªüÁöÑÂèØÈù†ÊÄß„ÄÇ</li>\n<li>ÈóÆÈ¢òÊéíÊü•‰∏éË∞ÉËØïÔºöÊ≠ª‰ø°ÈòüÂàóÂèØ‰ª•‰Ωú‰∏∫‰∏ÄÁßçÊó•ÂøóËÆ∞ÂΩïÊú∫Âà∂ÔºåÂ∏ÆÂä©ÂºÄÂèë‰∫∫ÂëòÊéíÊü•ÂíåË∞ÉËØïÈóÆÈ¢ò„ÄÇÈÄöËøáÂàÜÊûêÊ≠ª‰ø°ÈòüÂàó‰∏≠ÁöÑÊ∂àÊÅØÔºåÂèØ‰ª•ÊâæÂà∞Á≥ªÁªü‰∏≠ÁöÑËñÑÂº±ÁéØËäÇÂíåÂºÇÂ∏∏ÊÉÖÂÜµ„ÄÇ</li>\n<li>Èò≤Ê≠¢Ê∂àÊÅØ‰∏¢Â§±ÔºöÂú®Ê∂àÊÅØÂ§ÑÁêÜËøáÁ®ã‰∏≠ÔºåÊüê‰∫õÊ∂àÊÅØÂèØËÉΩÁî±‰∫éÊ†ºÂºèÈîôËØØ„ÄÅË∂ÖÊó∂Á≠âÂéüÂõ†Êó†Ê≥ïÂ§ÑÁêÜ„ÄÇÊ≠ª‰ø°ÈòüÂàóÁ°Æ‰øùËøô‰∫õÊ∂àÊÅØ‰∏ç‰ºöË¢´‰∏¢ÂºÉÔºåËÄåÊòØ‰øùÁïôËµ∑Êù•Á≠âÂæÖËøõ‰∏ÄÊ≠•Â§ÑÁêÜÊàñ‰∫∫Â∑•Âπ≤È¢Ñ„ÄÇ</li>\n</ul>\n<h1 id=\"‰∏â„ÄÅÊ≠ª‰ø°ÈòüÂàóÁöÑ‰ºòÂäø\"><a href=\"#‰∏â„ÄÅÊ≠ª‰ø°ÈòüÂàóÁöÑ‰ºòÂäø\" class=\"headerlink\" title=\"‰∏â„ÄÅÊ≠ª‰ø°ÈòüÂàóÁöÑ‰ºòÂäø\"></a>‰∏â„ÄÅÊ≠ª‰ø°ÈòüÂàóÁöÑ‰ºòÂäø</h1><ul>\n<li>ÈöîÁ¶ªÂºÇÂ∏∏Ê∂àÊÅØÔºöÂ∞ÜÊó†Ê≥ïÂ§ÑÁêÜÁöÑÂºÇÂ∏∏Ê∂àÊÅØÈöîÁ¶ªÂà∞Ê≠ª‰ø°ÈòüÂàóÔºåÈÅøÂÖçÂÖ∂ÂΩ±ÂìçÊ≠£Â∏∏Ê∂àÊÅØÁöÑÂ§ÑÁêÜ„ÄÇ</li>\n<li>ÊåÅ‰πÖÂåñÂ≠òÂÇ®ÔºöÊ≠ª‰ø°ÈòüÂàó‰∏≠ÁöÑÊ∂àÊÅØÈÄöÂ∏∏‰ºöË¢´ÊåÅ‰πÖÂåñÂ≠òÂÇ®ÔºåÁ°Æ‰øùÊ∂àÊÅØ‰∏ç‰ºöÂõ†Á≥ªÁªüÈáçÂêØÊàñÊïÖÈöúËÄå‰∏¢Â§±„ÄÇ</li>\n<li>ÁÅµÊ¥ªÂ§ÑÁêÜÊú∫Âà∂ÔºöÂºÄÂèë‰∫∫ÂëòÂèØ‰ª•ÈíàÂØπÊ≠ª‰ø°ÈòüÂàó‰∏≠ÁöÑÊ∂àÊÅØËÆæËÆ°‰∏çÂêåÁöÑÂ§ÑÁêÜÊú∫Âà∂Ôºå‰æãÂ¶ÇÈáçÊñ∞Â§ÑÁêÜ„ÄÅÈÄöÁü•ÁÆ°ÁêÜÂëòÊàñËøõË°å‰∫∫Â∑•Âπ≤È¢Ñ„ÄÇ</li>\n<li>ÁõëÊéß‰∏éÊä•Ë≠¶ÔºöÈÄöËøáÁõëÊéßÊ≠ª‰ø°ÈòüÂàóÁöÑÂ§ßÂ∞èÂíåÂÜÖÂÆπÔºåÂèØ‰ª•ÂèäÊó∂ÂèëÁé∞Á≥ªÁªü‰∏≠ÁöÑÂºÇÂ∏∏ÊÉÖÂÜµÔºåÂπ∂Ëß¶ÂèëÊä•Ë≠¶Êú∫Âà∂ËøõË°åÂ§ÑÁêÜ„ÄÇ</li>\n</ul>\n<h1 id=\"Âõõ„ÄÅ‰ªÄ‰πàÊó∂ÂÄôÂ∫îËØ•‰ΩøÁî®Ê≠ª‰ø°ÈòüÂàó\"><a href=\"#Âõõ„ÄÅ‰ªÄ‰πàÊó∂ÂÄôÂ∫îËØ•‰ΩøÁî®Ê≠ª‰ø°ÈòüÂàó\" class=\"headerlink\" title=\"Âõõ„ÄÅ‰ªÄ‰πàÊó∂ÂÄôÂ∫îËØ•‰ΩøÁî®Ê≠ª‰ø°ÈòüÂàó\"></a>Âõõ„ÄÅ‰ªÄ‰πàÊó∂ÂÄôÂ∫îËØ•‰ΩøÁî®Ê≠ª‰ø°ÈòüÂàó</h1><p>Ê≠ª‰ø°ÈòüÂàóÈÄÇÁî®‰∫é‰ª•‰∏ãÂú∫ÊôØÔºö</p>\n<ol>\n<li>Ê∂àÊÅØÂ§ÑÁêÜÂ§±Ë¥•ÔºöÂΩìÊ∂àÊÅØÁî±‰∫éÊ†ºÂºèÈîôËØØ„ÄÅÊï∞ÊçÆ‰∏çÂÆåÊï¥Á≠âÂéüÂõ†Êó†Ê≥ïË¢´Ê≠£Â∏∏Â§ÑÁêÜÊó∂ÔºåÂ∫î‰ΩøÁî®Ê≠ª‰ø°ÈòüÂàóÂ≠òÂÇ®Ëøô‰∫õÊ∂àÊÅØ„ÄÇ</li>\n<li>Ê∂àÊÅØÂ§ÑÁêÜË∂ÖÊó∂ÔºöÂΩìÊ∂àÊÅØÂú®ËßÑÂÆöÊó∂Èó¥ÂÜÖÊú™Ë¢´Ê∂àË¥πÊàñÂ§ÑÁêÜÂÆåÊØïÊó∂ÔºåÂèØ‰ª•Â∞ÜÂÖ∂ËΩ¨ÁßªÂà∞Ê≠ª‰ø°ÈòüÂàó„ÄÇ<figure class=\"highlight c#\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> properties = channel.CreateBasicProperties();</span><br><span class=\"line\">properties.Expiration = <span class=\"string\">&quot;60000&quot;</span>; <span class=\"comment\">// Ê∂àÊÅØËøáÊúüÊó∂Èó¥ËÆæÁΩÆ‰∏∫60Áßí</span></span><br><span class=\"line\"></span><br><span class=\"line\">channel.BasicPublish(</span><br><span class=\"line\">    exchange: <span class=\"string\">&quot;&quot;</span>,</span><br><span class=\"line\">    routingKey: <span class=\"string\">&quot;normal_queue&quot;</span>,</span><br><span class=\"line\">    basicProperties: properties,</span><br><span class=\"line\">    body: Encoding.UTF8.GetBytes(<span class=\"string\">&quot;Test Message&quot;</span>)</span><br><span class=\"line\">);</span><br></pre></td></tr></table></figure></li>\n<li>Ê∂àÊÅØË¢´ÊãíÁªùÔºöÂΩìÊ∂àË¥πËÄÖÊòæÂºèÊãíÁªùÂ§ÑÁêÜÊüêÊù°Ê∂àÊÅØÊó∂ÔºåËØ•Ê∂àÊÅØÂèØ‰ª•Ë¢´ËΩ¨ÁßªÂà∞Ê≠ª‰ø°ÈòüÂàó„ÄÇ<figure class=\"highlight c#\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> consumer = <span class=\"keyword\">new</span> EventingBasicConsumer(channel);</span><br><span class=\"line\">consumer.Received += (model, ea) =&gt;</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> body = ea.Body.ToArray();</span><br><span class=\"line\">    <span class=\"keyword\">var</span> message = Encoding.UTF8.GetString(body);</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"comment\">// Ê®°ÊãüÊãíÁªùÊ∂àÊÅØ</span></span><br><span class=\"line\">    channel.BasicReject(deliveryTag: ea.DeliveryTag, requeue: <span class=\"literal\">false</span>);</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">channel.BasicConsume(queue: <span class=\"string\">&quot;normal_queue&quot;</span>, autoAck: <span class=\"literal\">false</span>, consumer: consumer);</span><br></pre></td></tr></table></figure></li>\n<li>Ê∂àÊÅØÈáçËØïËææÂà∞‰∏äÈôêÔºöÂΩìÊ∂àÊÅØÁªèËøáÂ§öÊ¨°ÈáçËØï‰ªçÁÑ∂Êó†Ê≥ïÊàêÂäüÂ§ÑÁêÜÊó∂ÔºåÂèØ‰ª•Â∞ÜÂÖ∂ËΩ¨ÁßªÂà∞Ê≠ª‰ø°ÈòüÂàóÔºå‰ª•Èò≤Ê≠¢Êó†ÈôêÈáçËØïÂØºËá¥Á≥ªÁªüËµÑÊ∫êÊµ™Ë¥π„ÄÇ</li>\n</ol>\n<h1 id=\"‰∫î„ÄÅÊ≠ª‰ø°ÈòüÂàóÁöÑÂ∑•‰ΩúÂéüÁêÜ\"><a href=\"#‰∫î„ÄÅÊ≠ª‰ø°ÈòüÂàóÁöÑÂ∑•‰ΩúÂéüÁêÜ\" class=\"headerlink\" title=\"‰∫î„ÄÅÊ≠ª‰ø°ÈòüÂàóÁöÑÂ∑•‰ΩúÂéüÁêÜ\"></a>‰∫î„ÄÅÊ≠ª‰ø°ÈòüÂàóÁöÑÂ∑•‰ΩúÂéüÁêÜ</h1><p>Ê≠ª‰ø°ÈòüÂàóÁöÑÂ∑•‰ΩúÂéüÁêÜ‰∏ªË¶ÅÂåÖÊã¨‰ª•‰∏ãÂá†‰∏™Ê≠•È™§Ôºö</p>\n<ol>\n<li>Ê∂àÊÅØËøõÂÖ•ÂéüÈòüÂàóÔºöÊ∂àÊÅØÈ¶ñÂÖàËøõÂÖ•Ê≠£Â∏∏ÁöÑÊ∂àÊÅØÈòüÂàóËøõË°åÂ§ÑÁêÜ„ÄÇ</li>\n<li>Ê∂àÊÅØÂ§ÑÁêÜÂ§±Ë¥•ÔºöÂ¶ÇÊûúÊ∂àÊÅØÂú®ÂéüÈòüÂàó‰∏≠Âõ†‰∏∫Êüê‰∫õÂéüÂõ†Êó†Ê≥ïË¢´Ê∂àË¥πÔºå‰æãÂ¶ÇÂ§ÑÁêÜÂ§±Ë¥•„ÄÅË∂ÖÊó∂ÊàñË¢´ÊãíÁªùÔºåÊ∂àÊÅØ‰ºöË¢´Ê†áËÆ∞‰∏∫Ê≠ª‰ø°„ÄÇ</li>\n<li>Ê∂àÊÅØËΩ¨ÁßªÂà∞Ê≠ª‰ø°ÈòüÂàóÔºöË¢´Ê†áËÆ∞‰∏∫Ê≠ª‰ø°ÁöÑÊ∂àÊÅØ‰ºöË¢´Ëá™Âä®ËΩ¨ÁßªÂà∞Ê≠ª‰ø°ÈòüÂàó‰∏≠ËøõË°åÂ≠òÂÇ®„ÄÇ</li>\n<li>Ê≠ª‰ø°ÈòüÂàóÂ§ÑÁêÜÔºöÊ≠ª‰ø°ÈòüÂàó‰∏≠ÁöÑÊ∂àÊÅØÂèØ‰ª•ÈÄöËøáÁâπÂÆöÁöÑÁ≠ñÁï•ËøõË°åÂ§ÑÁêÜÔºå‰æãÂ¶ÇÈáçÊñ∞ÊäïÈÄí„ÄÅËÆ∞ÂΩïÊó•ÂøóÊàñÈÄöÁü•ÁÆ°ÁêÜÂëò„ÄÇÂºÄÂèë‰∫∫ÂëòÂèØ‰ª•Ê†πÊçÆ‰∏öÂä°ÈúÄÊ±ÇËÆæËÆ°ÂêàÈÄÇÁöÑÂ§ÑÁêÜÊú∫Âà∂„ÄÇ</li>\n</ol>\n<p><img src=\"/images/dead-message/dead-letter-exchange-1.png\" alt=\"Â∑•‰ΩúÂéüÁêÜ\"></p>\n<h1 id=\"Á§∫‰æãÔºöRabbitMQ‰∏≠ÁöÑÊ≠ª‰ø°ÈòüÂàó\"><a href=\"#Á§∫‰æãÔºöRabbitMQ‰∏≠ÁöÑÊ≠ª‰ø°ÈòüÂàó\" class=\"headerlink\" title=\"Á§∫‰æãÔºöRabbitMQ‰∏≠ÁöÑÊ≠ª‰ø°ÈòüÂàó\"></a>Á§∫‰æãÔºöRabbitMQ‰∏≠ÁöÑÊ≠ª‰ø°ÈòüÂàó</h1><p>Áõ∏‰ø°ÂæàÂ§öËÄÅÈìÅ‰πüÂê¨ËØ¥ËøáÔºåÊàë‰ª¨ÂèØ‰ª•Áî®Ê≠ª‰ø°ÈòüÂàóÊù•ÂÆûÁé∞Âª∂ËøüÊ∂àË¥πÔºå‰∏ãÈù¢ÊàëÁªìÂêà‰∏Ä‰∏™ÂÆûÈôÖÁöÑÂú∫ÊôØÊù•ÁÆÄÂçï‰ªãÁªç‰∏Ä‰∏ã„ÄÇ</p>\n<p>ÈúÄÊ±ÇËÉåÊôØÔºö‰∫ßÂìÅÁªèÁêÜË¶ÅÊ±ÇÂΩìÂëäË≠¶‰∫ßÁîüÂçäÂ∞èÊó∂ÂêéËøõË°åÁîµËØùÈÄöÁü•ÔºåËÄå‰∏çÊòØÁ´ãÂàªËøõË°åÁîµËØùÈÄöÁü•ÔºàÂ¶ÇÊûúËá™ÊÑàÊàêÂäüÂ∞±‰∏çÈúÄË¶ÅËøõË°åÈÄöÁü•‰∫ÜÔºâ„ÄÇ<br>Ëøô‰∏™Êó∂ÂÄôÂ∞±ÈúÄË¶ÅÊàë‰ª¨Áî®Âª∂ËøüÊ∂àË¥πÊù•ÂÆûÁé∞‰∫Ü</p>\n<ol>\n<li>ÂàõÂª∫ÈÄöÁü•ÈòüÂàóÂíåÁßÅ‰ø°ÈòüÂàó</li>\n</ol>\n<p>ËøôÈáåÊàë‰ª¨ÂàõÂª∫‰∏Ä‰∏™ÂëäË≠¶‰∫ßÁîüÁöÑÈòüÂàóÔºåÂπ∂‰∏îËÆæÁΩÆ‰∫ÜÊ≠ª‰ø°ÈòüÂàóÁöÑ‰∫§Êç¢Êú∫ÂíåË∑ØÁî±„ÄÇ</p>\n<figure class=\"highlight c#\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//ËØ≠Èü≥ÈÄöÁü•ÈÄöËøáÊ≠ª‰ø°ÈòüÂàóÂª∂ËøüÊé®ÈÄÅ</span></span><br><span class=\"line\">client.CreateQueueBind(<span class=\"string\">&quot;Alert-Notify2.voice&quot;</span>);</span><br><span class=\"line\">Dictionary&lt;<span class=\"built_in\">string</span>, <span class=\"built_in\">object</span>&gt; args = <span class=\"keyword\">new</span> Dictionary&lt;<span class=\"built_in\">string</span>, <span class=\"built_in\">object</span>&gt;</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    [<span class=\"string\">&quot;x-dead-letter-exchange&quot;</span>] = Exchanges.Direct,</span><br><span class=\"line\">    <span class=\"comment\">//ÊåáÂÆöÊ≠ª‰ø°Ê∂àÊÅØÁïôÂà∞‰ΩïÂ§Ñ</span></span><br><span class=\"line\">    [<span class=\"string\">&quot;x-dead-letter-routing-key&quot;</span>] = <span class=\"string\">&quot;Alert-Notify2.voice&quot;</span></span><br><span class=\"line\">&#125;;</span><br><span class=\"line\">client.CreateQueueBind(<span class=\"string\">&quot;Alert-Notify2.voice_wait&quot;</span>, <span class=\"literal\">null</span>, <span class=\"literal\">null</span>, args);</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<ol start=\"2\">\n<li>ÁªôÈòüÂàóÁªëÂÆöÊ∂àË¥πËÄÖ</li>\n</ol>\n<p>ËøôÈáåÈúÄË¶ÅÊ≥®ÊÑèÁöÑÊòØÔºåÊàë‰ª¨ÁªôÊ≠ª‰ø°ÈòüÂàóÁªëÂÆö‰∫ÜÊ∂àË¥πËÄÖÔºåËÄåÂëäË≠¶Á≠âÂæÖÁöÑÈòüÂàóÊòØÊ≤°ÊúâÊ∂àË¥πËÄÖÁöÑ„ÄÇ</p>\n<figure class=\"highlight c#\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//ÈòøÈáå‰∫ëËØ≠Èü≥</span></span><br><span class=\"line\">RabbitSubscriber.StartAsync&lt;AlertNotifyPackage, NotifyVoiceMessageHandler&gt;(<span class=\"keyword\">new</span> RabbitSubscriberArgs</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    SettingName = RabbitSettings.Rabbit,</span><br><span class=\"line\">    QueueName = <span class=\"string\">&quot;Alert-Notify2.voice&quot;</span>,</span><br><span class=\"line\">    SubscriberCount = Settings.GetInt(<span class=\"string\">&quot;Alert_Notify2_voice_SubscriberCount&quot;</span>, <span class=\"number\">2</span>)</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n<p><img src=\"/images/dead-message/delay_comsuption_1.png\" alt=\"Á≠âÂæÖÈòüÂàó1\"></p>\n<p><img src=\"/images/dead-message/delay_comsuption_2.png\" alt=\"Ê≠ª‰ø°ÈòüÂàó\"></p>\n<ol start=\"3\">\n<li>Áîü‰∫ßËÄÖ‰∫ßÁîüÊ∂àÊÅØÔºåÂπ∂‰∏îÁªôÊ∂àÊÅØËÆæÁΩÆ‰∫ÜËøáÊúüÊó∂Èó¥<figure class=\"highlight c#\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">using</span> (RabbitClient client = <span class=\"keyword\">new</span> RabbitClient(RabbitSettings.Rabbit, <span class=\"string\">&quot;NotifyService.Rabbit.MQ&quot;</span>))</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"comment\">//Ê∂àÊÅØÂèëÈÄÅÂà∞Ê≠ª‰ø°ÈòüÂàó‰∏≠ÔºåÊó∂Èó¥Âà∞ÊúüÂêé‰ºöÂèëÈÄÅÂà∞SendMessage(Alert-Notify2.voice)</span></span><br><span class=\"line\">    IBasicProperties properties = client.GetBasicProperties();</span><br><span class=\"line\">    properties.Expiration = (<span class=\"number\">60</span> * <span class=\"number\">1000</span> * Notify2RabbitInit.VoiceConfig.TimeOut).ToString();                </span><br><span class=\"line\">    client.SendMessage(package, <span class=\"literal\">null</span>, <span class=\"string\">&quot;Alert-Notify2.voice_wait&quot;</span>, properties);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\nËøôÊ†∑Êàë‰ª¨ÊääÊ∂àÊÅØÂèëÂæÄÁ≠âÂæÖÈòüÂàóÔºåËÄåÁ≠âÂæÖÈòüÂàóÊòØÊ≤°ÊúâÊ∂àË¥πËÄÖÁöÑ„ÄÇÂõ†Ê≠§Ê∂àÊÅØËøáÊúü‰πãÂêéËøõÂÖ•Ê≠ª‰ø°ÈòüÂàóËøõË°åÊ∂àË¥πÔºå‰ªéËÄåËææÂà∞Âª∂ËøüÊ∂àË¥πÁöÑÊïàÊûú<br><img src=\"/images/dead-message/dead-letter-3.png\" alt=\"Âª∂ËøüÊ∂àË¥π\"></li>\n</ol>\n<h1 id=\"ÁªìËØ≠\"><a href=\"#ÁªìËØ≠\" class=\"headerlink\" title=\"ÁªìËØ≠\"></a>ÁªìËØ≠</h1><p>Ê≠ª‰ø°ÈòüÂàóÊòØÊ∂àÊÅØÈòüÂàóÁ≥ªÁªü‰∏≠Â§ÑÁêÜÂºÇÂ∏∏Ê∂àÊÅØÁöÑÈáçË¶ÅÊú∫Âà∂„ÄÇÈÄöËøáÂêàÁêÜ‰ΩøÁî®Ê≠ª‰ø°ÈòüÂàóÔºåÂèØ‰ª•ÊèêÈ´òÁ≥ªÁªüÁöÑÂèØÈù†ÊÄßÂíåÁ®≥ÂÆöÊÄßÔºåÁ°Æ‰øùÊ∂àÊÅØ‰∏ç‰ºöÂú®Â§ÑÁêÜËøáÁ®ã‰∏≠‰∏¢Â§±ÊàñÂØºËá¥Á≥ªÁªüÂ¥©Ê∫É„ÄÇÂú®ÂÆûÈôÖÂ∫îÁî®‰∏≠ÔºåÂºÄÂèë‰∫∫ÂëòÂ∫îÊ†πÊçÆ‰∏öÂä°ÈúÄÊ±ÇËÆæËÆ°ÂêàÈÄÇÁöÑÊ≠ª‰ø°ÈòüÂàóÂ§ÑÁêÜÁ≠ñÁï•Ôºå‰ª•ÂÖÖÂàÜÂèëÊå•ÂÖ∂‰ºòÂäø„ÄÇ</p>\n","site":{"data":{}},"excerpt":"","more":"<blockquote>\n<p>Âú®Ê∂àÊÅØÈòüÂàóÔºàMQÔºâÁ≥ªÁªü‰∏≠ÔºåÊ≠ª‰ø°ÈòüÂàóÔºàDead Letter Queue, DLQÔºâÊòØ‰∏Ä‰∏™ÂÖ≥ÈîÆÁªÑ‰ª∂ÔºåÁî®‰∫éÂ§ÑÁêÜÊó†Ê≥ïË¢´Ê≠£Â∏∏Ê∂àË¥πÁöÑÊ∂àÊÅØ„ÄÇÊú¨ÊñáÂ∞ÜËØ¶ÁªÜ‰ªãÁªçÊ≠ª‰ø°ÈòüÂàóÁöÑÂÆö‰πâ„ÄÅ‰ºòÁº∫ÁÇπ„ÄÅÂ∫îÁî®Âú∫ÊôØÔºåÂπ∂Êé¢ËÆ®‰∏éÂª∂ËøüÊ∂àÊÅØÁöÑÂÖ≥Á≥ª„ÄÇÊúÄÂêéÔºåÈÄöËøáÂá†‰∏™Á§∫‰æãÊù•Â±ïÁ§∫Â¶Ç‰ΩïÂú®ÂÆûÈôÖ‰∏≠‰ΩøÁî®Ê≠ª‰ø°ÈòüÂàó„ÄÇ</p>\n</blockquote>\n<h1 id=\"‰∏Ä„ÄÅÊ≠ª‰ø°ÈòüÂàóÁöÑÂÆö‰πâ\"><a href=\"#‰∏Ä„ÄÅÊ≠ª‰ø°ÈòüÂàóÁöÑÂÆö‰πâ\" class=\"headerlink\" title=\"‰∏Ä„ÄÅÊ≠ª‰ø°ÈòüÂàóÁöÑÂÆö‰πâ\"></a>‰∏Ä„ÄÅÊ≠ª‰ø°ÈòüÂàóÁöÑÂÆö‰πâ</h1><p>Ê≠ª‰ø°ÈòüÂàóÔºàDead Letter QueueÔºåDLQÔºâÊòØ‰∏ÄÁßçÁâπÊÆäÁ±ªÂûãÁöÑÊ∂àÊÅØÈòüÂàóÔºåÁî®‰∫éÂ≠òÂÇ®Êó†Ê≥ïË¢´Ê≠£Â∏∏Â§ÑÁêÜÁöÑÊ∂àÊÅØ„ÄÇÂΩìÊ∂àÊÅØÂú®ÂéüÈòüÂàó‰∏≠Âõ†‰∏∫Êüê‰∫õÂéüÂõ†Êó†Ê≥ïË¢´Ê∂àË¥πÊó∂ÔºåËøô‰∫õÊ∂àÊÅØ‰ºöË¢´ËΩ¨ÁßªÂà∞Ê≠ª‰ø°ÈòüÂàó‰∏≠„ÄÇÊ≠ª‰ø°ÈòüÂàóÁöÑÁõÆÁöÑÊòØÁ°Æ‰øùÊ∂àÊÅØÁ≥ªÁªüÁöÑÂÅ•Â£ÆÊÄßÂíåÁ®≥ÂÆöÊÄßÔºåÈÅøÂÖçÂõ†‰∏∫‰∏™Âà´Ê∂àÊÅØÁöÑÂºÇÂ∏∏ËÄåÂΩ±ÂìçÊï¥‰∏™Ê∂àÊÅØÂ§ÑÁêÜÊµÅÁ®ã„ÄÇ</p>\n<p><img src=\"/images/dead-message/dead-letter-exchange-1.png\" alt=\"Ê≠ª‰ø°ÈòüÂàó\"></p>\n<h1 id=\"‰∫å„ÄÅÊ≠ª‰ø°ÈòüÂàó‰∏∫‰ªÄ‰πàÈáçË¶Å\"><a href=\"#‰∫å„ÄÅÊ≠ª‰ø°ÈòüÂàó‰∏∫‰ªÄ‰πàÈáçË¶Å\" class=\"headerlink\" title=\"‰∫å„ÄÅÊ≠ª‰ø°ÈòüÂàó‰∏∫‰ªÄ‰πàÈáçË¶Å\"></a>‰∫å„ÄÅÊ≠ª‰ø°ÈòüÂàó‰∏∫‰ªÄ‰πàÈáçË¶Å</h1><p>Ê≠ª‰ø°ÈòüÂàóÂú®Ê∂àÊÅØÈòüÂàóÁ≥ªÁªü‰∏≠ÊâÆÊºîÁùÄÂÖ≥ÈîÆÁöÑËßíËâ≤ÔºåÂÖ∂ÈáçË¶ÅÊÄß‰ΩìÁé∞Âú®‰ª•‰∏ãÂá†‰∏™ÊñπÈù¢Ôºö</p>\n<ul>\n<li>ÊèêÈ´òÁ≥ªÁªüÂèØÈù†ÊÄßÔºöÈÄöËøáÂ∞ÜÊó†Ê≥ïÂ§ÑÁêÜÁöÑÊ∂àÊÅØËΩ¨ÁßªÂà∞Ê≠ª‰ø°ÈòüÂàóÔºåÂèØ‰ª•Èò≤Ê≠¢Ëøô‰∫õÊ∂àÊÅØÂØπÊ≠£Â∏∏Ê∂àÊÅØÂ§ÑÁêÜÊµÅÁ®ãÁöÑÂΩ±ÂìçÔºåÊèêÈ´òÁ≥ªÁªüÁöÑÂèØÈù†ÊÄß„ÄÇ</li>\n<li>ÈóÆÈ¢òÊéíÊü•‰∏éË∞ÉËØïÔºöÊ≠ª‰ø°ÈòüÂàóÂèØ‰ª•‰Ωú‰∏∫‰∏ÄÁßçÊó•ÂøóËÆ∞ÂΩïÊú∫Âà∂ÔºåÂ∏ÆÂä©ÂºÄÂèë‰∫∫ÂëòÊéíÊü•ÂíåË∞ÉËØïÈóÆÈ¢ò„ÄÇÈÄöËøáÂàÜÊûêÊ≠ª‰ø°ÈòüÂàó‰∏≠ÁöÑÊ∂àÊÅØÔºåÂèØ‰ª•ÊâæÂà∞Á≥ªÁªü‰∏≠ÁöÑËñÑÂº±ÁéØËäÇÂíåÂºÇÂ∏∏ÊÉÖÂÜµ„ÄÇ</li>\n<li>Èò≤Ê≠¢Ê∂àÊÅØ‰∏¢Â§±ÔºöÂú®Ê∂àÊÅØÂ§ÑÁêÜËøáÁ®ã‰∏≠ÔºåÊüê‰∫õÊ∂àÊÅØÂèØËÉΩÁî±‰∫éÊ†ºÂºèÈîôËØØ„ÄÅË∂ÖÊó∂Á≠âÂéüÂõ†Êó†Ê≥ïÂ§ÑÁêÜ„ÄÇÊ≠ª‰ø°ÈòüÂàóÁ°Æ‰øùËøô‰∫õÊ∂àÊÅØ‰∏ç‰ºöË¢´‰∏¢ÂºÉÔºåËÄåÊòØ‰øùÁïôËµ∑Êù•Á≠âÂæÖËøõ‰∏ÄÊ≠•Â§ÑÁêÜÊàñ‰∫∫Â∑•Âπ≤È¢Ñ„ÄÇ</li>\n</ul>\n<h1 id=\"‰∏â„ÄÅÊ≠ª‰ø°ÈòüÂàóÁöÑ‰ºòÂäø\"><a href=\"#‰∏â„ÄÅÊ≠ª‰ø°ÈòüÂàóÁöÑ‰ºòÂäø\" class=\"headerlink\" title=\"‰∏â„ÄÅÊ≠ª‰ø°ÈòüÂàóÁöÑ‰ºòÂäø\"></a>‰∏â„ÄÅÊ≠ª‰ø°ÈòüÂàóÁöÑ‰ºòÂäø</h1><ul>\n<li>ÈöîÁ¶ªÂºÇÂ∏∏Ê∂àÊÅØÔºöÂ∞ÜÊó†Ê≥ïÂ§ÑÁêÜÁöÑÂºÇÂ∏∏Ê∂àÊÅØÈöîÁ¶ªÂà∞Ê≠ª‰ø°ÈòüÂàóÔºåÈÅøÂÖçÂÖ∂ÂΩ±ÂìçÊ≠£Â∏∏Ê∂àÊÅØÁöÑÂ§ÑÁêÜ„ÄÇ</li>\n<li>ÊåÅ‰πÖÂåñÂ≠òÂÇ®ÔºöÊ≠ª‰ø°ÈòüÂàó‰∏≠ÁöÑÊ∂àÊÅØÈÄöÂ∏∏‰ºöË¢´ÊåÅ‰πÖÂåñÂ≠òÂÇ®ÔºåÁ°Æ‰øùÊ∂àÊÅØ‰∏ç‰ºöÂõ†Á≥ªÁªüÈáçÂêØÊàñÊïÖÈöúËÄå‰∏¢Â§±„ÄÇ</li>\n<li>ÁÅµÊ¥ªÂ§ÑÁêÜÊú∫Âà∂ÔºöÂºÄÂèë‰∫∫ÂëòÂèØ‰ª•ÈíàÂØπÊ≠ª‰ø°ÈòüÂàó‰∏≠ÁöÑÊ∂àÊÅØËÆæËÆ°‰∏çÂêåÁöÑÂ§ÑÁêÜÊú∫Âà∂Ôºå‰æãÂ¶ÇÈáçÊñ∞Â§ÑÁêÜ„ÄÅÈÄöÁü•ÁÆ°ÁêÜÂëòÊàñËøõË°å‰∫∫Â∑•Âπ≤È¢Ñ„ÄÇ</li>\n<li>ÁõëÊéß‰∏éÊä•Ë≠¶ÔºöÈÄöËøáÁõëÊéßÊ≠ª‰ø°ÈòüÂàóÁöÑÂ§ßÂ∞èÂíåÂÜÖÂÆπÔºåÂèØ‰ª•ÂèäÊó∂ÂèëÁé∞Á≥ªÁªü‰∏≠ÁöÑÂºÇÂ∏∏ÊÉÖÂÜµÔºåÂπ∂Ëß¶ÂèëÊä•Ë≠¶Êú∫Âà∂ËøõË°åÂ§ÑÁêÜ„ÄÇ</li>\n</ul>\n<h1 id=\"Âõõ„ÄÅ‰ªÄ‰πàÊó∂ÂÄôÂ∫îËØ•‰ΩøÁî®Ê≠ª‰ø°ÈòüÂàó\"><a href=\"#Âõõ„ÄÅ‰ªÄ‰πàÊó∂ÂÄôÂ∫îËØ•‰ΩøÁî®Ê≠ª‰ø°ÈòüÂàó\" class=\"headerlink\" title=\"Âõõ„ÄÅ‰ªÄ‰πàÊó∂ÂÄôÂ∫îËØ•‰ΩøÁî®Ê≠ª‰ø°ÈòüÂàó\"></a>Âõõ„ÄÅ‰ªÄ‰πàÊó∂ÂÄôÂ∫îËØ•‰ΩøÁî®Ê≠ª‰ø°ÈòüÂàó</h1><p>Ê≠ª‰ø°ÈòüÂàóÈÄÇÁî®‰∫é‰ª•‰∏ãÂú∫ÊôØÔºö</p>\n<ol>\n<li>Ê∂àÊÅØÂ§ÑÁêÜÂ§±Ë¥•ÔºöÂΩìÊ∂àÊÅØÁî±‰∫éÊ†ºÂºèÈîôËØØ„ÄÅÊï∞ÊçÆ‰∏çÂÆåÊï¥Á≠âÂéüÂõ†Êó†Ê≥ïË¢´Ê≠£Â∏∏Â§ÑÁêÜÊó∂ÔºåÂ∫î‰ΩøÁî®Ê≠ª‰ø°ÈòüÂàóÂ≠òÂÇ®Ëøô‰∫õÊ∂àÊÅØ„ÄÇ</li>\n<li>Ê∂àÊÅØÂ§ÑÁêÜË∂ÖÊó∂ÔºöÂΩìÊ∂àÊÅØÂú®ËßÑÂÆöÊó∂Èó¥ÂÜÖÊú™Ë¢´Ê∂àË¥πÊàñÂ§ÑÁêÜÂÆåÊØïÊó∂ÔºåÂèØ‰ª•Â∞ÜÂÖ∂ËΩ¨ÁßªÂà∞Ê≠ª‰ø°ÈòüÂàó„ÄÇ<figure class=\"highlight c#\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> properties = channel.CreateBasicProperties();</span><br><span class=\"line\">properties.Expiration = <span class=\"string\">&quot;60000&quot;</span>; <span class=\"comment\">// Ê∂àÊÅØËøáÊúüÊó∂Èó¥ËÆæÁΩÆ‰∏∫60Áßí</span></span><br><span class=\"line\"></span><br><span class=\"line\">channel.BasicPublish(</span><br><span class=\"line\">    exchange: <span class=\"string\">&quot;&quot;</span>,</span><br><span class=\"line\">    routingKey: <span class=\"string\">&quot;normal_queue&quot;</span>,</span><br><span class=\"line\">    basicProperties: properties,</span><br><span class=\"line\">    body: Encoding.UTF8.GetBytes(<span class=\"string\">&quot;Test Message&quot;</span>)</span><br><span class=\"line\">);</span><br></pre></td></tr></table></figure></li>\n<li>Ê∂àÊÅØË¢´ÊãíÁªùÔºöÂΩìÊ∂àË¥πËÄÖÊòæÂºèÊãíÁªùÂ§ÑÁêÜÊüêÊù°Ê∂àÊÅØÊó∂ÔºåËØ•Ê∂àÊÅØÂèØ‰ª•Ë¢´ËΩ¨ÁßªÂà∞Ê≠ª‰ø°ÈòüÂàó„ÄÇ<figure class=\"highlight c#\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> consumer = <span class=\"keyword\">new</span> EventingBasicConsumer(channel);</span><br><span class=\"line\">consumer.Received += (model, ea) =&gt;</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> body = ea.Body.ToArray();</span><br><span class=\"line\">    <span class=\"keyword\">var</span> message = Encoding.UTF8.GetString(body);</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"comment\">// Ê®°ÊãüÊãíÁªùÊ∂àÊÅØ</span></span><br><span class=\"line\">    channel.BasicReject(deliveryTag: ea.DeliveryTag, requeue: <span class=\"literal\">false</span>);</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">channel.BasicConsume(queue: <span class=\"string\">&quot;normal_queue&quot;</span>, autoAck: <span class=\"literal\">false</span>, consumer: consumer);</span><br></pre></td></tr></table></figure></li>\n<li>Ê∂àÊÅØÈáçËØïËææÂà∞‰∏äÈôêÔºöÂΩìÊ∂àÊÅØÁªèËøáÂ§öÊ¨°ÈáçËØï‰ªçÁÑ∂Êó†Ê≥ïÊàêÂäüÂ§ÑÁêÜÊó∂ÔºåÂèØ‰ª•Â∞ÜÂÖ∂ËΩ¨ÁßªÂà∞Ê≠ª‰ø°ÈòüÂàóÔºå‰ª•Èò≤Ê≠¢Êó†ÈôêÈáçËØïÂØºËá¥Á≥ªÁªüËµÑÊ∫êÊµ™Ë¥π„ÄÇ</li>\n</ol>\n<h1 id=\"‰∫î„ÄÅÊ≠ª‰ø°ÈòüÂàóÁöÑÂ∑•‰ΩúÂéüÁêÜ\"><a href=\"#‰∫î„ÄÅÊ≠ª‰ø°ÈòüÂàóÁöÑÂ∑•‰ΩúÂéüÁêÜ\" class=\"headerlink\" title=\"‰∫î„ÄÅÊ≠ª‰ø°ÈòüÂàóÁöÑÂ∑•‰ΩúÂéüÁêÜ\"></a>‰∫î„ÄÅÊ≠ª‰ø°ÈòüÂàóÁöÑÂ∑•‰ΩúÂéüÁêÜ</h1><p>Ê≠ª‰ø°ÈòüÂàóÁöÑÂ∑•‰ΩúÂéüÁêÜ‰∏ªË¶ÅÂåÖÊã¨‰ª•‰∏ãÂá†‰∏™Ê≠•È™§Ôºö</p>\n<ol>\n<li>Ê∂àÊÅØËøõÂÖ•ÂéüÈòüÂàóÔºöÊ∂àÊÅØÈ¶ñÂÖàËøõÂÖ•Ê≠£Â∏∏ÁöÑÊ∂àÊÅØÈòüÂàóËøõË°åÂ§ÑÁêÜ„ÄÇ</li>\n<li>Ê∂àÊÅØÂ§ÑÁêÜÂ§±Ë¥•ÔºöÂ¶ÇÊûúÊ∂àÊÅØÂú®ÂéüÈòüÂàó‰∏≠Âõ†‰∏∫Êüê‰∫õÂéüÂõ†Êó†Ê≥ïË¢´Ê∂àË¥πÔºå‰æãÂ¶ÇÂ§ÑÁêÜÂ§±Ë¥•„ÄÅË∂ÖÊó∂ÊàñË¢´ÊãíÁªùÔºåÊ∂àÊÅØ‰ºöË¢´Ê†áËÆ∞‰∏∫Ê≠ª‰ø°„ÄÇ</li>\n<li>Ê∂àÊÅØËΩ¨ÁßªÂà∞Ê≠ª‰ø°ÈòüÂàóÔºöË¢´Ê†áËÆ∞‰∏∫Ê≠ª‰ø°ÁöÑÊ∂àÊÅØ‰ºöË¢´Ëá™Âä®ËΩ¨ÁßªÂà∞Ê≠ª‰ø°ÈòüÂàó‰∏≠ËøõË°åÂ≠òÂÇ®„ÄÇ</li>\n<li>Ê≠ª‰ø°ÈòüÂàóÂ§ÑÁêÜÔºöÊ≠ª‰ø°ÈòüÂàó‰∏≠ÁöÑÊ∂àÊÅØÂèØ‰ª•ÈÄöËøáÁâπÂÆöÁöÑÁ≠ñÁï•ËøõË°åÂ§ÑÁêÜÔºå‰æãÂ¶ÇÈáçÊñ∞ÊäïÈÄí„ÄÅËÆ∞ÂΩïÊó•ÂøóÊàñÈÄöÁü•ÁÆ°ÁêÜÂëò„ÄÇÂºÄÂèë‰∫∫ÂëòÂèØ‰ª•Ê†πÊçÆ‰∏öÂä°ÈúÄÊ±ÇËÆæËÆ°ÂêàÈÄÇÁöÑÂ§ÑÁêÜÊú∫Âà∂„ÄÇ</li>\n</ol>\n<p><img src=\"/images/dead-message/dead-letter-exchange-1.png\" alt=\"Â∑•‰ΩúÂéüÁêÜ\"></p>\n<h1 id=\"Á§∫‰æãÔºöRabbitMQ‰∏≠ÁöÑÊ≠ª‰ø°ÈòüÂàó\"><a href=\"#Á§∫‰æãÔºöRabbitMQ‰∏≠ÁöÑÊ≠ª‰ø°ÈòüÂàó\" class=\"headerlink\" title=\"Á§∫‰æãÔºöRabbitMQ‰∏≠ÁöÑÊ≠ª‰ø°ÈòüÂàó\"></a>Á§∫‰æãÔºöRabbitMQ‰∏≠ÁöÑÊ≠ª‰ø°ÈòüÂàó</h1><p>Áõ∏‰ø°ÂæàÂ§öËÄÅÈìÅ‰πüÂê¨ËØ¥ËøáÔºåÊàë‰ª¨ÂèØ‰ª•Áî®Ê≠ª‰ø°ÈòüÂàóÊù•ÂÆûÁé∞Âª∂ËøüÊ∂àË¥πÔºå‰∏ãÈù¢ÊàëÁªìÂêà‰∏Ä‰∏™ÂÆûÈôÖÁöÑÂú∫ÊôØÊù•ÁÆÄÂçï‰ªãÁªç‰∏Ä‰∏ã„ÄÇ</p>\n<p>ÈúÄÊ±ÇËÉåÊôØÔºö‰∫ßÂìÅÁªèÁêÜË¶ÅÊ±ÇÂΩìÂëäË≠¶‰∫ßÁîüÂçäÂ∞èÊó∂ÂêéËøõË°åÁîµËØùÈÄöÁü•ÔºåËÄå‰∏çÊòØÁ´ãÂàªËøõË°åÁîµËØùÈÄöÁü•ÔºàÂ¶ÇÊûúËá™ÊÑàÊàêÂäüÂ∞±‰∏çÈúÄË¶ÅËøõË°åÈÄöÁü•‰∫ÜÔºâ„ÄÇ<br>Ëøô‰∏™Êó∂ÂÄôÂ∞±ÈúÄË¶ÅÊàë‰ª¨Áî®Âª∂ËøüÊ∂àË¥πÊù•ÂÆûÁé∞‰∫Ü</p>\n<ol>\n<li>ÂàõÂª∫ÈÄöÁü•ÈòüÂàóÂíåÁßÅ‰ø°ÈòüÂàó</li>\n</ol>\n<p>ËøôÈáåÊàë‰ª¨ÂàõÂª∫‰∏Ä‰∏™ÂëäË≠¶‰∫ßÁîüÁöÑÈòüÂàóÔºåÂπ∂‰∏îËÆæÁΩÆ‰∫ÜÊ≠ª‰ø°ÈòüÂàóÁöÑ‰∫§Êç¢Êú∫ÂíåË∑ØÁî±„ÄÇ</p>\n<figure class=\"highlight c#\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//ËØ≠Èü≥ÈÄöÁü•ÈÄöËøáÊ≠ª‰ø°ÈòüÂàóÂª∂ËøüÊé®ÈÄÅ</span></span><br><span class=\"line\">client.CreateQueueBind(<span class=\"string\">&quot;Alert-Notify2.voice&quot;</span>);</span><br><span class=\"line\">Dictionary&lt;<span class=\"built_in\">string</span>, <span class=\"built_in\">object</span>&gt; args = <span class=\"keyword\">new</span> Dictionary&lt;<span class=\"built_in\">string</span>, <span class=\"built_in\">object</span>&gt;</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    [<span class=\"string\">&quot;x-dead-letter-exchange&quot;</span>] = Exchanges.Direct,</span><br><span class=\"line\">    <span class=\"comment\">//ÊåáÂÆöÊ≠ª‰ø°Ê∂àÊÅØÁïôÂà∞‰ΩïÂ§Ñ</span></span><br><span class=\"line\">    [<span class=\"string\">&quot;x-dead-letter-routing-key&quot;</span>] = <span class=\"string\">&quot;Alert-Notify2.voice&quot;</span></span><br><span class=\"line\">&#125;;</span><br><span class=\"line\">client.CreateQueueBind(<span class=\"string\">&quot;Alert-Notify2.voice_wait&quot;</span>, <span class=\"literal\">null</span>, <span class=\"literal\">null</span>, args);</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<ol start=\"2\">\n<li>ÁªôÈòüÂàóÁªëÂÆöÊ∂àË¥πËÄÖ</li>\n</ol>\n<p>ËøôÈáåÈúÄË¶ÅÊ≥®ÊÑèÁöÑÊòØÔºåÊàë‰ª¨ÁªôÊ≠ª‰ø°ÈòüÂàóÁªëÂÆö‰∫ÜÊ∂àË¥πËÄÖÔºåËÄåÂëäË≠¶Á≠âÂæÖÁöÑÈòüÂàóÊòØÊ≤°ÊúâÊ∂àË¥πËÄÖÁöÑ„ÄÇ</p>\n<figure class=\"highlight c#\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//ÈòøÈáå‰∫ëËØ≠Èü≥</span></span><br><span class=\"line\">RabbitSubscriber.StartAsync&lt;AlertNotifyPackage, NotifyVoiceMessageHandler&gt;(<span class=\"keyword\">new</span> RabbitSubscriberArgs</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    SettingName = RabbitSettings.Rabbit,</span><br><span class=\"line\">    QueueName = <span class=\"string\">&quot;Alert-Notify2.voice&quot;</span>,</span><br><span class=\"line\">    SubscriberCount = Settings.GetInt(<span class=\"string\">&quot;Alert_Notify2_voice_SubscriberCount&quot;</span>, <span class=\"number\">2</span>)</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n<p><img src=\"/images/dead-message/delay_comsuption_1.png\" alt=\"Á≠âÂæÖÈòüÂàó1\"></p>\n<p><img src=\"/images/dead-message/delay_comsuption_2.png\" alt=\"Ê≠ª‰ø°ÈòüÂàó\"></p>\n<ol start=\"3\">\n<li>Áîü‰∫ßËÄÖ‰∫ßÁîüÊ∂àÊÅØÔºåÂπ∂‰∏îÁªôÊ∂àÊÅØËÆæÁΩÆ‰∫ÜËøáÊúüÊó∂Èó¥<figure class=\"highlight c#\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">using</span> (RabbitClient client = <span class=\"keyword\">new</span> RabbitClient(RabbitSettings.Rabbit, <span class=\"string\">&quot;NotifyService.Rabbit.MQ&quot;</span>))</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"comment\">//Ê∂àÊÅØÂèëÈÄÅÂà∞Ê≠ª‰ø°ÈòüÂàó‰∏≠ÔºåÊó∂Èó¥Âà∞ÊúüÂêé‰ºöÂèëÈÄÅÂà∞SendMessage(Alert-Notify2.voice)</span></span><br><span class=\"line\">    IBasicProperties properties = client.GetBasicProperties();</span><br><span class=\"line\">    properties.Expiration = (<span class=\"number\">60</span> * <span class=\"number\">1000</span> * Notify2RabbitInit.VoiceConfig.TimeOut).ToString();                </span><br><span class=\"line\">    client.SendMessage(package, <span class=\"literal\">null</span>, <span class=\"string\">&quot;Alert-Notify2.voice_wait&quot;</span>, properties);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\nËøôÊ†∑Êàë‰ª¨ÊääÊ∂àÊÅØÂèëÂæÄÁ≠âÂæÖÈòüÂàóÔºåËÄåÁ≠âÂæÖÈòüÂàóÊòØÊ≤°ÊúâÊ∂àË¥πËÄÖÁöÑ„ÄÇÂõ†Ê≠§Ê∂àÊÅØËøáÊúü‰πãÂêéËøõÂÖ•Ê≠ª‰ø°ÈòüÂàóËøõË°åÊ∂àË¥πÔºå‰ªéËÄåËææÂà∞Âª∂ËøüÊ∂àË¥πÁöÑÊïàÊûú<br><img src=\"/images/dead-message/dead-letter-3.png\" alt=\"Âª∂ËøüÊ∂àË¥π\"></li>\n</ol>\n<h1 id=\"ÁªìËØ≠\"><a href=\"#ÁªìËØ≠\" class=\"headerlink\" title=\"ÁªìËØ≠\"></a>ÁªìËØ≠</h1><p>Ê≠ª‰ø°ÈòüÂàóÊòØÊ∂àÊÅØÈòüÂàóÁ≥ªÁªü‰∏≠Â§ÑÁêÜÂºÇÂ∏∏Ê∂àÊÅØÁöÑÈáçË¶ÅÊú∫Âà∂„ÄÇÈÄöËøáÂêàÁêÜ‰ΩøÁî®Ê≠ª‰ø°ÈòüÂàóÔºåÂèØ‰ª•ÊèêÈ´òÁ≥ªÁªüÁöÑÂèØÈù†ÊÄßÂíåÁ®≥ÂÆöÊÄßÔºåÁ°Æ‰øùÊ∂àÊÅØ‰∏ç‰ºöÂú®Â§ÑÁêÜËøáÁ®ã‰∏≠‰∏¢Â§±ÊàñÂØºËá¥Á≥ªÁªüÂ¥©Ê∫É„ÄÇÂú®ÂÆûÈôÖÂ∫îÁî®‰∏≠ÔºåÂºÄÂèë‰∫∫ÂëòÂ∫îÊ†πÊçÆ‰∏öÂä°ÈúÄÊ±ÇËÆæËÆ°ÂêàÈÄÇÁöÑÊ≠ª‰ø°ÈòüÂàóÂ§ÑÁêÜÁ≠ñÁï•Ôºå‰ª•ÂÖÖÂàÜÂèëÊå•ÂÖ∂‰ºòÂäø„ÄÇ</p>\n"},{"title":"C# Â≠¶‰π†Á¨îËÆ∞Ôºö TaskCompletionSource","date":"2024-05-30T00:52:16.000Z","published":1,"_content":"\nÂú®ÂºÇÊ≠•ÁºñÁ®ã‰∏≠ÔºåC# Êèê‰æõ‰∫ÜËÆ∏Â§öÂº∫Â§ßÁöÑÂ∑•ÂÖ∑Êù•ÁÆÄÂåñÂºÇÊ≠•‰ªªÂä°ÁöÑÁÆ°ÁêÜ„ÄÇÂÖ∂‰∏≠ÔºåTaskCompletionSource ÊòØ‰∏Ä‰∏™ÈùûÂ∏∏ÊúâÁî®ÁöÑÁ±ªÔºåÂÆÉÂÖÅËÆ∏ÂºÄÂèëËÄÖÂàõÂª∫ÂíåÊéßÂà∂‰ªªÂä°ÁöÑÂÆåÊàêÁä∂ÊÄÅ„ÄÇÂú®ËøôÁØáÂçöÂÆ¢‰∏≠ÔºåÊàë‰ª¨Â∞Ü‰∫ÜËß£ TaskCompletionSource ÁöÑÂäüËÉΩÂíå‰ΩøÁî®ÊñπÊ≥ïÔºåÂπ∂ÁªìÂêàÂÆûÈôÖ‰ª£Á†ÅÁ§∫‰æãÊù•Â∏ÆÂä©Êõ¥Â•ΩÂú∞ÁêÜËß£ÂíåÂ∫îÁî®ÂÆÉ„ÄÇ\n\nTaskCompletionSource<T>ÊòØ .NET Â∫ì‰∏≠Áî®‰∫éÂ§ÑÁêÜ‰ªªÂä°ÁöÑÊûÅÂÖ∂ÊúâÁî®ÁöÑÂ∑•ÂÖ∑ÔºåÂ∞§ÂÖ∂ÊòØÂú®Â§ÑÁêÜÊâãÂä®ÊéßÂà∂‰ªªÂä°ÂÆåÊàêÁöÑÊó∂Èó¥ÂíåÊñπÂºèÊó∂„ÄÇTaskCompletionSource <T>Á±ªË°®Á§∫Êú™ÁªëÂÆöÂà∞ÂßîÊâòÁöÑTask<TResult>ÁöÑÁîü‰∫ßËÄÖÁ´ØÔºåÈÄöËøá Task Â±ûÊÄßÊèê‰æõÂØπÊ∂àË¥πËÄÖÁ´ØÁöÑËÆøÈóÆ„ÄÇ\n\n\n# ‰ªÄ‰πàÊòØTaskCompletionSourceÔºü\nÁÆÄÂçïÊù•ËØ¥ÔºåTaskCompletionSource<T>ÊòØ‰∏ÄÁßçÂÖÅËÆ∏Êàë‰ª¨ÂàõÂª∫Êú™ÁªëÂÆöTask<T>ÁöÑÁ±ªÂûãÔºåËøôÊÑèÂë≥ÁùÄÂÆÉ‰∏ç‰∏éÂßîÊâòÁªëÂÆö„ÄÇËøôËÆ©ÊÇ®ÂèØ‰ª•ÊâãÂä®ÊéßÂà∂‰ªªÂä°ÂÆåÊàêÁöÑÊó∂Èó¥ÂíåÊñπÂºè„ÄÇÊÇ®ÂèØ‰ª•ÊâãÂä®ËÆæÁΩÆ‰ªªÂä°ÁöÑÁªìÊûúÔºåÊàñËÄÖÂèëÂá∫‰ø°Âè∑Ë°®Á§∫‰ªªÂä°Áî±‰∫éÂèñÊ∂àÊàñÈîôËØØËÄåÂÆåÊàê„ÄÇ\n```C#\nusing System;\nusing System.Threading.Tasks;\n\npublic class Program\n{\n    public static void Main(string[] args)\n    {\n        var tcs = new TaskCompletionSource<bool>();\n        tcs.SetResult(true);\n    }\n}\n```\nÂú®Ëøô‰∏™Á§∫‰æã‰∏≠ÔºåÊàë‰ª¨ÂàõÂª∫‰∫Ü‰∏Ä‰∏™ TaskCompletionSource<bool> ÂØπË±°ÔºåÂπ∂ÈÄöËøá SetResult ÊñπÊ≥ïÊâãÂä®ÂÆåÊàê‰ªªÂä°„ÄÇ\n\n# TaskCompletionSourceÂÆûÁé∞ÂõûË∞É\nÂú®ÂºÇÊ≠•ÁºñÁ®ã‰∏≠ÔºåÂõûË∞ÉÂáΩÊï∞Â∏∏Áî®‰∫éÂú®Êìç‰ΩúÂÆåÊàêÊó∂ÊâßË°åÊüê‰∫õÈÄªËæë„ÄÇ‰ΩøÁî® TaskCompletionSourceÔºåÊàë‰ª¨ÂèØ‰ª•Â∞ÜÂõûË∞ÉÂáΩÊï∞ËΩ¨Êç¢‰∏∫‰ªªÂä°ÔºåÂπ∂Á≠âÂæÖÂÖ∂ÂÆåÊàê„ÄÇ\n```C#\nusing System;\nusing System.Threading.Tasks;\n\npublic class CallbackExample\n{\n    public static void Main(string[] args)\n    {\n        Task task = DoSomethingAsync();\n\n        task.ContinueWith(t =>\n        {\n            if (t.IsCompletedSuccessfully)\n            {\n                Console.WriteLine(\"Êìç‰ΩúÂÆåÊàê!\");\n            }\n        }).Wait();\n    }\n\n    public static Task DoSomethingAsync()\n    {\n        var tcs = new TaskCompletionSource<bool>();\n\n        // Ê®°ÊãüÂºÇÊ≠•Êìç‰ΩúÂíåÂõûË∞É\n        Task.Run(() =>\n        {\n            Task.Delay(2000).Wait(); // Ê®°ÊãüÂºÇÊ≠•Êìç‰Ωú\n            tcs.SetResult(true); // Êìç‰ΩúÂÆåÊàêÔºåËÆæÁΩÆÁªìÊûú\n        });\n\n        return tcs.Task;\n    }\n}\n```\n\n# TaskCompletionSourceÂÆûÁé∞ÊöÇÂÅú\nTaskCompletionSource ËøòÂèØ‰ª•Áî®‰∫éÂÆûÁé∞‰ªªÂä°ÁöÑÊöÇÂÅúÂíåÊÅ¢Â§ç„ÄÇÈÄöËøáÊâãÂä®ÊéßÂà∂‰ªªÂä°ÁöÑÂÆåÊàêÁä∂ÊÄÅÔºåÊàë‰ª¨ÂèØ‰ª•Âú®ÁâπÂÆöÊù°‰ª∂‰∏ãÊöÇÂÅú‰ªªÂä°ÔºåÂπ∂Âú®Êù°‰ª∂Êª°Ë∂≥Êó∂ÊÅ¢Â§ç‰ªªÂä°„ÄÇ\nÊàë‰ª¨‰ΩøÁî® TaskCompletionSource Êù•ÂÆûÁé∞‰ªªÂä°ÁöÑÊöÇÂÅúÂíåÊÅ¢Â§ç„ÄÇÂΩìÁî®Êà∑Êåâ‰∏ã‰ªªÊÑèÈîÆÊó∂Ôºå‰ªªÂä°Â∞Ü‰ªéÊöÇÂÅúÁä∂ÊÄÅÊÅ¢Â§çÂπ∂ÁªßÁª≠ÊâßË°å„ÄÇ\n```C#\nusing System;\nusing System.Threading.Tasks;\n\npublic class PauseExample\n{\n    private static TaskCompletionSource<bool> _pauseTcs;\n\n    public static async Task Main(string[] args)\n    {\n        _pauseTcs = new TaskCompletionSource<bool>();\n\n        Task longRunningTask = LongRunningOperationAsync();\n\n        Console.WriteLine(\"Êåâ‰ªªÊÑèÈîÆÁªßÁª≠...\");\n        Console.ReadKey();\n        _pauseTcs.SetResult(true); // ÊÅ¢Â§ç‰ªªÂä°\n\n        await longRunningTask;\n        Console.WriteLine(\"‰ªªÂä°ÂÆåÊàê!\");\n    }\n\n    public static async Task LongRunningOperationAsync()\n    {\n        Console.WriteLine(\"‰ªªÂä°ÂºÄÂßã...\");\n\n        await _pauseTcs.Task; // Á≠âÂæÖ‰ªªÂä°ÊÅ¢Â§ç\n\n        Console.WriteLine(\"‰ªªÂä°ÊÅ¢Â§çÔºåÁªßÁª≠ÊâßË°å...\");\n        // Ê®°ÊãüÊõ¥Â§öÂ∑•‰Ωú\n        await Task.Delay(2000);\n\n        Console.WriteLine(\"‰ªªÂä°ÁªìÊùü„ÄÇ\");\n    }\n}\n```\nËøêË°åÊàë‰ª¨ÂèØ‰ª•ÁúãÂà∞Â¶Ç‰∏ãÁªìÊûú\n![ÊöÇÂÅú1](/images/task-completion-source/pause-1.png)\nÊåâ‰ªªÊÑèÈîÆÔºå‰ªªÂä°ÁªßÁª≠ËøêË°å\n![ÊöÇÂÅú2](/images/task-completion-source/pause-2.png)\n\n# TaskCompletionSourceÁöÑÂÖ∂‰ªñÁî®ÈÄî\n\nÈô§‰∫Ü‰∏äËø∞Áî®ÈÄîÔºåTaskCompletionSource ËøòÂèØ‰ª•Áî®‰∫é‰ª•‰∏ãÂú∫ÊôØÔºö\n\n1. ‰∫ã‰ª∂Â§ÑÁêÜÔºöÂ∞Ü‰∫ã‰ª∂È©±Âä®ÁöÑÊ®°ÂûãËΩ¨Êç¢‰∏∫‰ªªÂä°Ê®°ÂûãÔºå‰ΩøÂºÇÊ≠•ÁºñÁ®ãÊõ¥Âä†ÁÆÄÊ¥Å„ÄÇ\n2. Âπ∂ÂèëÊìç‰ΩúÔºöÁÆ°ÁêÜÂíåÂçèË∞ÉÂ§ö‰∏™ÂºÇÊ≠•Êìç‰ΩúÁöÑÂÆåÊàêÁä∂ÊÄÅ„ÄÇ\n3. ‰ªªÂä°ÁªÑÂêàÔºö‰∏éÂÖ∂‰ªñ‰ªªÂä°ÁªÑÂêàÊñπÊ≥ïÔºàÂ¶Ç Task.WhenAll Âíå Task.WhenAnyÔºâÁªìÂêà‰ΩøÁî®ÔºåÂÆûÁé∞Â§çÊùÇÁöÑÂºÇÊ≠•ÈÄªËæë„ÄÇ\n\n# TaskCompletionSourceÁöÑÂª∫ËÆÆ\n\n‰ΩøÁî® TaskCompletionSource Êó∂Ôºå‰ª•‰∏ãÊòØ‰∏Ä‰∫õÂª∫ËÆÆÔºö\n\n1. ÊòéÁ°Æ‰ªªÂä°ÂÆåÊàêÊù°‰ª∂ÔºöÁ°Æ‰øùÂú®ÈÄÇÂΩìÁöÑÊó∂Èó¥ÁÇπË∞ÉÁî® SetResult„ÄÅSetException Êàñ SetCanceled ÊñπÊ≥ïÊù•ÂÆåÊàê‰ªªÂä°„ÄÇ\n2. ÈÅøÂÖçÊ≠ªÈîÅÔºöÂ¶ÇÊûúÂú® UI Á∫øÁ®ã‰∏≠‰ΩøÁî® TaskCompletionSourceÔºåÊ≥®ÊÑèÈÅøÂÖçÊ≠ªÈîÅÊÉÖÂÜµ„ÄÇ\n3. Á∫øÁ®ãÂÆâÂÖ®ÔºöÂ¶ÇÊûúÂú®Â§ö‰∏™Á∫øÁ®ã‰∏≠‰ΩøÁî® TaskCompletionSourceÔºåÁ°Æ‰øùÊìç‰ΩúÊòØÁ∫øÁ®ãÂÆâÂÖ®ÁöÑ„ÄÇ\n\n# ÁªìËÆ∫\nTaskCompletionSource ÊòØ‰∏Ä‰∏™Âº∫Â§ß‰∏îÁÅµÊ¥ªÁöÑÂ∑•ÂÖ∑ÔºåÈÄÇÁî®‰∫éÂêÑÁßçÂºÇÊ≠•ÁºñÁ®ãÂú∫ÊôØ„ÄÇÈÄöËøáÊú¨ÊñáÁöÑ‰ªãÁªçÔºåÂ∏åÊúõ‰Ω†ËÉΩÊõ¥Â•ΩÂú∞ÁêÜËß£ÂíåÂ∫îÁî® TaskCompletionSourceÔºå‰ªéËÄåÁºñÂÜôÂá∫Êõ¥Âä†È´òÊïàÂíåÂèØÁª¥Êä§ÁöÑÂºÇÊ≠•‰ª£Á†Å„ÄÇ\n\nÂ¶ÇÊûú‰Ω†Êúâ‰ªª‰ΩïÈóÆÈ¢òÊàñÂª∫ËÆÆÔºåÊ¨¢ËøéÂú®ËØÑËÆ∫Âå∫ÁïôË®ÄËÆ®ËÆ∫„ÄÇ","source":"_posts/TaskCompletionSource.md","raw":"---\ntitle: C# Â≠¶‰π†Á¨îËÆ∞Ôºö TaskCompletionSource\ndate: 2024-05-30 08:52:16\npublished: true\ntags:\n---\n\nÂú®ÂºÇÊ≠•ÁºñÁ®ã‰∏≠ÔºåC# Êèê‰æõ‰∫ÜËÆ∏Â§öÂº∫Â§ßÁöÑÂ∑•ÂÖ∑Êù•ÁÆÄÂåñÂºÇÊ≠•‰ªªÂä°ÁöÑÁÆ°ÁêÜ„ÄÇÂÖ∂‰∏≠ÔºåTaskCompletionSource ÊòØ‰∏Ä‰∏™ÈùûÂ∏∏ÊúâÁî®ÁöÑÁ±ªÔºåÂÆÉÂÖÅËÆ∏ÂºÄÂèëËÄÖÂàõÂª∫ÂíåÊéßÂà∂‰ªªÂä°ÁöÑÂÆåÊàêÁä∂ÊÄÅ„ÄÇÂú®ËøôÁØáÂçöÂÆ¢‰∏≠ÔºåÊàë‰ª¨Â∞Ü‰∫ÜËß£ TaskCompletionSource ÁöÑÂäüËÉΩÂíå‰ΩøÁî®ÊñπÊ≥ïÔºåÂπ∂ÁªìÂêàÂÆûÈôÖ‰ª£Á†ÅÁ§∫‰æãÊù•Â∏ÆÂä©Êõ¥Â•ΩÂú∞ÁêÜËß£ÂíåÂ∫îÁî®ÂÆÉ„ÄÇ\n\nTaskCompletionSource<T>ÊòØ .NET Â∫ì‰∏≠Áî®‰∫éÂ§ÑÁêÜ‰ªªÂä°ÁöÑÊûÅÂÖ∂ÊúâÁî®ÁöÑÂ∑•ÂÖ∑ÔºåÂ∞§ÂÖ∂ÊòØÂú®Â§ÑÁêÜÊâãÂä®ÊéßÂà∂‰ªªÂä°ÂÆåÊàêÁöÑÊó∂Èó¥ÂíåÊñπÂºèÊó∂„ÄÇTaskCompletionSource <T>Á±ªË°®Á§∫Êú™ÁªëÂÆöÂà∞ÂßîÊâòÁöÑTask<TResult>ÁöÑÁîü‰∫ßËÄÖÁ´ØÔºåÈÄöËøá Task Â±ûÊÄßÊèê‰æõÂØπÊ∂àË¥πËÄÖÁ´ØÁöÑËÆøÈóÆ„ÄÇ\n\n\n# ‰ªÄ‰πàÊòØTaskCompletionSourceÔºü\nÁÆÄÂçïÊù•ËØ¥ÔºåTaskCompletionSource<T>ÊòØ‰∏ÄÁßçÂÖÅËÆ∏Êàë‰ª¨ÂàõÂª∫Êú™ÁªëÂÆöTask<T>ÁöÑÁ±ªÂûãÔºåËøôÊÑèÂë≥ÁùÄÂÆÉ‰∏ç‰∏éÂßîÊâòÁªëÂÆö„ÄÇËøôËÆ©ÊÇ®ÂèØ‰ª•ÊâãÂä®ÊéßÂà∂‰ªªÂä°ÂÆåÊàêÁöÑÊó∂Èó¥ÂíåÊñπÂºè„ÄÇÊÇ®ÂèØ‰ª•ÊâãÂä®ËÆæÁΩÆ‰ªªÂä°ÁöÑÁªìÊûúÔºåÊàñËÄÖÂèëÂá∫‰ø°Âè∑Ë°®Á§∫‰ªªÂä°Áî±‰∫éÂèñÊ∂àÊàñÈîôËØØËÄåÂÆåÊàê„ÄÇ\n```C#\nusing System;\nusing System.Threading.Tasks;\n\npublic class Program\n{\n    public static void Main(string[] args)\n    {\n        var tcs = new TaskCompletionSource<bool>();\n        tcs.SetResult(true);\n    }\n}\n```\nÂú®Ëøô‰∏™Á§∫‰æã‰∏≠ÔºåÊàë‰ª¨ÂàõÂª∫‰∫Ü‰∏Ä‰∏™ TaskCompletionSource<bool> ÂØπË±°ÔºåÂπ∂ÈÄöËøá SetResult ÊñπÊ≥ïÊâãÂä®ÂÆåÊàê‰ªªÂä°„ÄÇ\n\n# TaskCompletionSourceÂÆûÁé∞ÂõûË∞É\nÂú®ÂºÇÊ≠•ÁºñÁ®ã‰∏≠ÔºåÂõûË∞ÉÂáΩÊï∞Â∏∏Áî®‰∫éÂú®Êìç‰ΩúÂÆåÊàêÊó∂ÊâßË°åÊüê‰∫õÈÄªËæë„ÄÇ‰ΩøÁî® TaskCompletionSourceÔºåÊàë‰ª¨ÂèØ‰ª•Â∞ÜÂõûË∞ÉÂáΩÊï∞ËΩ¨Êç¢‰∏∫‰ªªÂä°ÔºåÂπ∂Á≠âÂæÖÂÖ∂ÂÆåÊàê„ÄÇ\n```C#\nusing System;\nusing System.Threading.Tasks;\n\npublic class CallbackExample\n{\n    public static void Main(string[] args)\n    {\n        Task task = DoSomethingAsync();\n\n        task.ContinueWith(t =>\n        {\n            if (t.IsCompletedSuccessfully)\n            {\n                Console.WriteLine(\"Êìç‰ΩúÂÆåÊàê!\");\n            }\n        }).Wait();\n    }\n\n    public static Task DoSomethingAsync()\n    {\n        var tcs = new TaskCompletionSource<bool>();\n\n        // Ê®°ÊãüÂºÇÊ≠•Êìç‰ΩúÂíåÂõûË∞É\n        Task.Run(() =>\n        {\n            Task.Delay(2000).Wait(); // Ê®°ÊãüÂºÇÊ≠•Êìç‰Ωú\n            tcs.SetResult(true); // Êìç‰ΩúÂÆåÊàêÔºåËÆæÁΩÆÁªìÊûú\n        });\n\n        return tcs.Task;\n    }\n}\n```\n\n# TaskCompletionSourceÂÆûÁé∞ÊöÇÂÅú\nTaskCompletionSource ËøòÂèØ‰ª•Áî®‰∫éÂÆûÁé∞‰ªªÂä°ÁöÑÊöÇÂÅúÂíåÊÅ¢Â§ç„ÄÇÈÄöËøáÊâãÂä®ÊéßÂà∂‰ªªÂä°ÁöÑÂÆåÊàêÁä∂ÊÄÅÔºåÊàë‰ª¨ÂèØ‰ª•Âú®ÁâπÂÆöÊù°‰ª∂‰∏ãÊöÇÂÅú‰ªªÂä°ÔºåÂπ∂Âú®Êù°‰ª∂Êª°Ë∂≥Êó∂ÊÅ¢Â§ç‰ªªÂä°„ÄÇ\nÊàë‰ª¨‰ΩøÁî® TaskCompletionSource Êù•ÂÆûÁé∞‰ªªÂä°ÁöÑÊöÇÂÅúÂíåÊÅ¢Â§ç„ÄÇÂΩìÁî®Êà∑Êåâ‰∏ã‰ªªÊÑèÈîÆÊó∂Ôºå‰ªªÂä°Â∞Ü‰ªéÊöÇÂÅúÁä∂ÊÄÅÊÅ¢Â§çÂπ∂ÁªßÁª≠ÊâßË°å„ÄÇ\n```C#\nusing System;\nusing System.Threading.Tasks;\n\npublic class PauseExample\n{\n    private static TaskCompletionSource<bool> _pauseTcs;\n\n    public static async Task Main(string[] args)\n    {\n        _pauseTcs = new TaskCompletionSource<bool>();\n\n        Task longRunningTask = LongRunningOperationAsync();\n\n        Console.WriteLine(\"Êåâ‰ªªÊÑèÈîÆÁªßÁª≠...\");\n        Console.ReadKey();\n        _pauseTcs.SetResult(true); // ÊÅ¢Â§ç‰ªªÂä°\n\n        await longRunningTask;\n        Console.WriteLine(\"‰ªªÂä°ÂÆåÊàê!\");\n    }\n\n    public static async Task LongRunningOperationAsync()\n    {\n        Console.WriteLine(\"‰ªªÂä°ÂºÄÂßã...\");\n\n        await _pauseTcs.Task; // Á≠âÂæÖ‰ªªÂä°ÊÅ¢Â§ç\n\n        Console.WriteLine(\"‰ªªÂä°ÊÅ¢Â§çÔºåÁªßÁª≠ÊâßË°å...\");\n        // Ê®°ÊãüÊõ¥Â§öÂ∑•‰Ωú\n        await Task.Delay(2000);\n\n        Console.WriteLine(\"‰ªªÂä°ÁªìÊùü„ÄÇ\");\n    }\n}\n```\nËøêË°åÊàë‰ª¨ÂèØ‰ª•ÁúãÂà∞Â¶Ç‰∏ãÁªìÊûú\n![ÊöÇÂÅú1](/images/task-completion-source/pause-1.png)\nÊåâ‰ªªÊÑèÈîÆÔºå‰ªªÂä°ÁªßÁª≠ËøêË°å\n![ÊöÇÂÅú2](/images/task-completion-source/pause-2.png)\n\n# TaskCompletionSourceÁöÑÂÖ∂‰ªñÁî®ÈÄî\n\nÈô§‰∫Ü‰∏äËø∞Áî®ÈÄîÔºåTaskCompletionSource ËøòÂèØ‰ª•Áî®‰∫é‰ª•‰∏ãÂú∫ÊôØÔºö\n\n1. ‰∫ã‰ª∂Â§ÑÁêÜÔºöÂ∞Ü‰∫ã‰ª∂È©±Âä®ÁöÑÊ®°ÂûãËΩ¨Êç¢‰∏∫‰ªªÂä°Ê®°ÂûãÔºå‰ΩøÂºÇÊ≠•ÁºñÁ®ãÊõ¥Âä†ÁÆÄÊ¥Å„ÄÇ\n2. Âπ∂ÂèëÊìç‰ΩúÔºöÁÆ°ÁêÜÂíåÂçèË∞ÉÂ§ö‰∏™ÂºÇÊ≠•Êìç‰ΩúÁöÑÂÆåÊàêÁä∂ÊÄÅ„ÄÇ\n3. ‰ªªÂä°ÁªÑÂêàÔºö‰∏éÂÖ∂‰ªñ‰ªªÂä°ÁªÑÂêàÊñπÊ≥ïÔºàÂ¶Ç Task.WhenAll Âíå Task.WhenAnyÔºâÁªìÂêà‰ΩøÁî®ÔºåÂÆûÁé∞Â§çÊùÇÁöÑÂºÇÊ≠•ÈÄªËæë„ÄÇ\n\n# TaskCompletionSourceÁöÑÂª∫ËÆÆ\n\n‰ΩøÁî® TaskCompletionSource Êó∂Ôºå‰ª•‰∏ãÊòØ‰∏Ä‰∫õÂª∫ËÆÆÔºö\n\n1. ÊòéÁ°Æ‰ªªÂä°ÂÆåÊàêÊù°‰ª∂ÔºöÁ°Æ‰øùÂú®ÈÄÇÂΩìÁöÑÊó∂Èó¥ÁÇπË∞ÉÁî® SetResult„ÄÅSetException Êàñ SetCanceled ÊñπÊ≥ïÊù•ÂÆåÊàê‰ªªÂä°„ÄÇ\n2. ÈÅøÂÖçÊ≠ªÈîÅÔºöÂ¶ÇÊûúÂú® UI Á∫øÁ®ã‰∏≠‰ΩøÁî® TaskCompletionSourceÔºåÊ≥®ÊÑèÈÅøÂÖçÊ≠ªÈîÅÊÉÖÂÜµ„ÄÇ\n3. Á∫øÁ®ãÂÆâÂÖ®ÔºöÂ¶ÇÊûúÂú®Â§ö‰∏™Á∫øÁ®ã‰∏≠‰ΩøÁî® TaskCompletionSourceÔºåÁ°Æ‰øùÊìç‰ΩúÊòØÁ∫øÁ®ãÂÆâÂÖ®ÁöÑ„ÄÇ\n\n# ÁªìËÆ∫\nTaskCompletionSource ÊòØ‰∏Ä‰∏™Âº∫Â§ß‰∏îÁÅµÊ¥ªÁöÑÂ∑•ÂÖ∑ÔºåÈÄÇÁî®‰∫éÂêÑÁßçÂºÇÊ≠•ÁºñÁ®ãÂú∫ÊôØ„ÄÇÈÄöËøáÊú¨ÊñáÁöÑ‰ªãÁªçÔºåÂ∏åÊúõ‰Ω†ËÉΩÊõ¥Â•ΩÂú∞ÁêÜËß£ÂíåÂ∫îÁî® TaskCompletionSourceÔºå‰ªéËÄåÁºñÂÜôÂá∫Êõ¥Âä†È´òÊïàÂíåÂèØÁª¥Êä§ÁöÑÂºÇÊ≠•‰ª£Á†Å„ÄÇ\n\nÂ¶ÇÊûú‰Ω†Êúâ‰ªª‰ΩïÈóÆÈ¢òÊàñÂª∫ËÆÆÔºåÊ¨¢ËøéÂú®ËØÑËÆ∫Âå∫ÁïôË®ÄËÆ®ËÆ∫„ÄÇ","slug":"TaskCompletionSource","updated":"2024-06-06T07:22:36.858Z","_id":"clwsyjjsh00003wp1ctwte4zb","comments":1,"layout":"post","photos":[],"link":"","content":"<p>Âú®ÂºÇÊ≠•ÁºñÁ®ã‰∏≠ÔºåC# Êèê‰æõ‰∫ÜËÆ∏Â§öÂº∫Â§ßÁöÑÂ∑•ÂÖ∑Êù•ÁÆÄÂåñÂºÇÊ≠•‰ªªÂä°ÁöÑÁÆ°ÁêÜ„ÄÇÂÖ∂‰∏≠ÔºåTaskCompletionSource ÊòØ‰∏Ä‰∏™ÈùûÂ∏∏ÊúâÁî®ÁöÑÁ±ªÔºåÂÆÉÂÖÅËÆ∏ÂºÄÂèëËÄÖÂàõÂª∫ÂíåÊéßÂà∂‰ªªÂä°ÁöÑÂÆåÊàêÁä∂ÊÄÅ„ÄÇÂú®ËøôÁØáÂçöÂÆ¢‰∏≠ÔºåÊàë‰ª¨Â∞Ü‰∫ÜËß£ TaskCompletionSource ÁöÑÂäüËÉΩÂíå‰ΩøÁî®ÊñπÊ≥ïÔºåÂπ∂ÁªìÂêàÂÆûÈôÖ‰ª£Á†ÅÁ§∫‰æãÊù•Â∏ÆÂä©Êõ¥Â•ΩÂú∞ÁêÜËß£ÂíåÂ∫îÁî®ÂÆÉ„ÄÇ</p>\n<p>TaskCompletionSource<T>ÊòØ .NET Â∫ì‰∏≠Áî®‰∫éÂ§ÑÁêÜ‰ªªÂä°ÁöÑÊûÅÂÖ∂ÊúâÁî®ÁöÑÂ∑•ÂÖ∑ÔºåÂ∞§ÂÖ∂ÊòØÂú®Â§ÑÁêÜÊâãÂä®ÊéßÂà∂‰ªªÂä°ÂÆåÊàêÁöÑÊó∂Èó¥ÂíåÊñπÂºèÊó∂„ÄÇTaskCompletionSource <T>Á±ªË°®Á§∫Êú™ÁªëÂÆöÂà∞ÂßîÊâòÁöÑTask<TResult>ÁöÑÁîü‰∫ßËÄÖÁ´ØÔºåÈÄöËøá Task Â±ûÊÄßÊèê‰æõÂØπÊ∂àË¥πËÄÖÁ´ØÁöÑËÆøÈóÆ„ÄÇ</p>\n<h1 id=\"‰ªÄ‰πàÊòØTaskCompletionSourceÔºü\"><a href=\"#‰ªÄ‰πàÊòØTaskCompletionSourceÔºü\" class=\"headerlink\" title=\"‰ªÄ‰πàÊòØTaskCompletionSourceÔºü\"></a>‰ªÄ‰πàÊòØTaskCompletionSourceÔºü</h1><p>ÁÆÄÂçïÊù•ËØ¥ÔºåTaskCompletionSource<T>ÊòØ‰∏ÄÁßçÂÖÅËÆ∏Êàë‰ª¨ÂàõÂª∫Êú™ÁªëÂÆöTask<T>ÁöÑÁ±ªÂûãÔºåËøôÊÑèÂë≥ÁùÄÂÆÉ‰∏ç‰∏éÂßîÊâòÁªëÂÆö„ÄÇËøôËÆ©ÊÇ®ÂèØ‰ª•ÊâãÂä®ÊéßÂà∂‰ªªÂä°ÂÆåÊàêÁöÑÊó∂Èó¥ÂíåÊñπÂºè„ÄÇÊÇ®ÂèØ‰ª•ÊâãÂä®ËÆæÁΩÆ‰ªªÂä°ÁöÑÁªìÊûúÔºåÊàñËÄÖÂèëÂá∫‰ø°Âè∑Ë°®Á§∫‰ªªÂä°Áî±‰∫éÂèñÊ∂àÊàñÈîôËØØËÄåÂÆåÊàê„ÄÇ</p>\n<figure class=\"highlight c#\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">using</span> System;</span><br><span class=\"line\"><span class=\"keyword\">using</span> System.Threading.Tasks;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">Program</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title\">Main</span>(<span class=\"params\"><span class=\"built_in\">string</span>[] args</span>)</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">var</span> tcs = <span class=\"keyword\">new</span> TaskCompletionSource&lt;<span class=\"built_in\">bool</span>&gt;();</span><br><span class=\"line\">        tcs.SetResult(<span class=\"literal\">true</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>Âú®Ëøô‰∏™Á§∫‰æã‰∏≠ÔºåÊàë‰ª¨ÂàõÂª∫‰∫Ü‰∏Ä‰∏™ TaskCompletionSource<bool> ÂØπË±°ÔºåÂπ∂ÈÄöËøá SetResult ÊñπÊ≥ïÊâãÂä®ÂÆåÊàê‰ªªÂä°„ÄÇ</p>\n<h1 id=\"TaskCompletionSourceÂÆûÁé∞ÂõûË∞É\"><a href=\"#TaskCompletionSourceÂÆûÁé∞ÂõûË∞É\" class=\"headerlink\" title=\"TaskCompletionSourceÂÆûÁé∞ÂõûË∞É\"></a>TaskCompletionSourceÂÆûÁé∞ÂõûË∞É</h1><p>Âú®ÂºÇÊ≠•ÁºñÁ®ã‰∏≠ÔºåÂõûË∞ÉÂáΩÊï∞Â∏∏Áî®‰∫éÂú®Êìç‰ΩúÂÆåÊàêÊó∂ÊâßË°åÊüê‰∫õÈÄªËæë„ÄÇ‰ΩøÁî® TaskCompletionSourceÔºåÊàë‰ª¨ÂèØ‰ª•Â∞ÜÂõûË∞ÉÂáΩÊï∞ËΩ¨Êç¢‰∏∫‰ªªÂä°ÔºåÂπ∂Á≠âÂæÖÂÖ∂ÂÆåÊàê„ÄÇ</p>\n<figure class=\"highlight c#\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">using</span> System;</span><br><span class=\"line\"><span class=\"keyword\">using</span> System.Threading.Tasks;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">CallbackExample</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title\">Main</span>(<span class=\"params\"><span class=\"built_in\">string</span>[] args</span>)</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        Task task = DoSomethingAsync();</span><br><span class=\"line\"></span><br><span class=\"line\">        task.ContinueWith(t =&gt;</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (t.IsCompletedSuccessfully)</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                Console.WriteLine(<span class=\"string\">&quot;Êìç‰ΩúÂÆåÊàê!&quot;</span>);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;).Wait();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> Task <span class=\"title\">DoSomethingAsync</span>()</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">var</span> tcs = <span class=\"keyword\">new</span> TaskCompletionSource&lt;<span class=\"built_in\">bool</span>&gt;();</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">// Ê®°ÊãüÂºÇÊ≠•Êìç‰ΩúÂíåÂõûË∞É</span></span><br><span class=\"line\">        Task.Run(() =&gt;</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            Task.Delay(<span class=\"number\">2000</span>).Wait(); <span class=\"comment\">// Ê®°ÊãüÂºÇÊ≠•Êìç‰Ωú</span></span><br><span class=\"line\">            tcs.SetResult(<span class=\"literal\">true</span>); <span class=\"comment\">// Êìç‰ΩúÂÆåÊàêÔºåËÆæÁΩÆÁªìÊûú</span></span><br><span class=\"line\">        &#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">return</span> tcs.Task;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h1 id=\"TaskCompletionSourceÂÆûÁé∞ÊöÇÂÅú\"><a href=\"#TaskCompletionSourceÂÆûÁé∞ÊöÇÂÅú\" class=\"headerlink\" title=\"TaskCompletionSourceÂÆûÁé∞ÊöÇÂÅú\"></a>TaskCompletionSourceÂÆûÁé∞ÊöÇÂÅú</h1><p>TaskCompletionSource ËøòÂèØ‰ª•Áî®‰∫éÂÆûÁé∞‰ªªÂä°ÁöÑÊöÇÂÅúÂíåÊÅ¢Â§ç„ÄÇÈÄöËøáÊâãÂä®ÊéßÂà∂‰ªªÂä°ÁöÑÂÆåÊàêÁä∂ÊÄÅÔºåÊàë‰ª¨ÂèØ‰ª•Âú®ÁâπÂÆöÊù°‰ª∂‰∏ãÊöÇÂÅú‰ªªÂä°ÔºåÂπ∂Âú®Êù°‰ª∂Êª°Ë∂≥Êó∂ÊÅ¢Â§ç‰ªªÂä°„ÄÇ<br>Êàë‰ª¨‰ΩøÁî® TaskCompletionSource Êù•ÂÆûÁé∞‰ªªÂä°ÁöÑÊöÇÂÅúÂíåÊÅ¢Â§ç„ÄÇÂΩìÁî®Êà∑Êåâ‰∏ã‰ªªÊÑèÈîÆÊó∂Ôºå‰ªªÂä°Â∞Ü‰ªéÊöÇÂÅúÁä∂ÊÄÅÊÅ¢Â§çÂπ∂ÁªßÁª≠ÊâßË°å„ÄÇ</p>\n<figure class=\"highlight c#\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">using</span> System;</span><br><span class=\"line\"><span class=\"keyword\">using</span> System.Threading.Tasks;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">PauseExample</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">static</span> TaskCompletionSource&lt;<span class=\"built_in\">bool</span>&gt; _pauseTcs;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">async</span> Task <span class=\"title\">Main</span>(<span class=\"params\"><span class=\"built_in\">string</span>[] args</span>)</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        _pauseTcs = <span class=\"keyword\">new</span> TaskCompletionSource&lt;<span class=\"built_in\">bool</span>&gt;();</span><br><span class=\"line\"></span><br><span class=\"line\">        Task longRunningTask = LongRunningOperationAsync();</span><br><span class=\"line\"></span><br><span class=\"line\">        Console.WriteLine(<span class=\"string\">&quot;Êåâ‰ªªÊÑèÈîÆÁªßÁª≠...&quot;</span>);</span><br><span class=\"line\">        Console.ReadKey();</span><br><span class=\"line\">        _pauseTcs.SetResult(<span class=\"literal\">true</span>); <span class=\"comment\">// ÊÅ¢Â§ç‰ªªÂä°</span></span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">await</span> longRunningTask;</span><br><span class=\"line\">        Console.WriteLine(<span class=\"string\">&quot;‰ªªÂä°ÂÆåÊàê!&quot;</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">async</span> Task <span class=\"title\">LongRunningOperationAsync</span>()</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        Console.WriteLine(<span class=\"string\">&quot;‰ªªÂä°ÂºÄÂßã...&quot;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">await</span> _pauseTcs.Task; <span class=\"comment\">// Á≠âÂæÖ‰ªªÂä°ÊÅ¢Â§ç</span></span><br><span class=\"line\"></span><br><span class=\"line\">        Console.WriteLine(<span class=\"string\">&quot;‰ªªÂä°ÊÅ¢Â§çÔºåÁªßÁª≠ÊâßË°å...&quot;</span>);</span><br><span class=\"line\">        <span class=\"comment\">// Ê®°ÊãüÊõ¥Â§öÂ∑•‰Ωú</span></span><br><span class=\"line\">        <span class=\"keyword\">await</span> Task.Delay(<span class=\"number\">2000</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">        Console.WriteLine(<span class=\"string\">&quot;‰ªªÂä°ÁªìÊùü„ÄÇ&quot;</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>ËøêË°åÊàë‰ª¨ÂèØ‰ª•ÁúãÂà∞Â¶Ç‰∏ãÁªìÊûú<br><img src=\"/images/task-completion-source/pause-1.png\" alt=\"ÊöÇÂÅú1\"><br>Êåâ‰ªªÊÑèÈîÆÔºå‰ªªÂä°ÁªßÁª≠ËøêË°å<br><img src=\"/images/task-completion-source/pause-2.png\" alt=\"ÊöÇÂÅú2\"></p>\n<h1 id=\"TaskCompletionSourceÁöÑÂÖ∂‰ªñÁî®ÈÄî\"><a href=\"#TaskCompletionSourceÁöÑÂÖ∂‰ªñÁî®ÈÄî\" class=\"headerlink\" title=\"TaskCompletionSourceÁöÑÂÖ∂‰ªñÁî®ÈÄî\"></a>TaskCompletionSourceÁöÑÂÖ∂‰ªñÁî®ÈÄî</h1><p>Èô§‰∫Ü‰∏äËø∞Áî®ÈÄîÔºåTaskCompletionSource ËøòÂèØ‰ª•Áî®‰∫é‰ª•‰∏ãÂú∫ÊôØÔºö</p>\n<ol>\n<li>‰∫ã‰ª∂Â§ÑÁêÜÔºöÂ∞Ü‰∫ã‰ª∂È©±Âä®ÁöÑÊ®°ÂûãËΩ¨Êç¢‰∏∫‰ªªÂä°Ê®°ÂûãÔºå‰ΩøÂºÇÊ≠•ÁºñÁ®ãÊõ¥Âä†ÁÆÄÊ¥Å„ÄÇ</li>\n<li>Âπ∂ÂèëÊìç‰ΩúÔºöÁÆ°ÁêÜÂíåÂçèË∞ÉÂ§ö‰∏™ÂºÇÊ≠•Êìç‰ΩúÁöÑÂÆåÊàêÁä∂ÊÄÅ„ÄÇ</li>\n<li>‰ªªÂä°ÁªÑÂêàÔºö‰∏éÂÖ∂‰ªñ‰ªªÂä°ÁªÑÂêàÊñπÊ≥ïÔºàÂ¶Ç Task.WhenAll Âíå Task.WhenAnyÔºâÁªìÂêà‰ΩøÁî®ÔºåÂÆûÁé∞Â§çÊùÇÁöÑÂºÇÊ≠•ÈÄªËæë„ÄÇ</li>\n</ol>\n<h1 id=\"TaskCompletionSourceÁöÑÂª∫ËÆÆ\"><a href=\"#TaskCompletionSourceÁöÑÂª∫ËÆÆ\" class=\"headerlink\" title=\"TaskCompletionSourceÁöÑÂª∫ËÆÆ\"></a>TaskCompletionSourceÁöÑÂª∫ËÆÆ</h1><p>‰ΩøÁî® TaskCompletionSource Êó∂Ôºå‰ª•‰∏ãÊòØ‰∏Ä‰∫õÂª∫ËÆÆÔºö</p>\n<ol>\n<li>ÊòéÁ°Æ‰ªªÂä°ÂÆåÊàêÊù°‰ª∂ÔºöÁ°Æ‰øùÂú®ÈÄÇÂΩìÁöÑÊó∂Èó¥ÁÇπË∞ÉÁî® SetResult„ÄÅSetException Êàñ SetCanceled ÊñπÊ≥ïÊù•ÂÆåÊàê‰ªªÂä°„ÄÇ</li>\n<li>ÈÅøÂÖçÊ≠ªÈîÅÔºöÂ¶ÇÊûúÂú® UI Á∫øÁ®ã‰∏≠‰ΩøÁî® TaskCompletionSourceÔºåÊ≥®ÊÑèÈÅøÂÖçÊ≠ªÈîÅÊÉÖÂÜµ„ÄÇ</li>\n<li>Á∫øÁ®ãÂÆâÂÖ®ÔºöÂ¶ÇÊûúÂú®Â§ö‰∏™Á∫øÁ®ã‰∏≠‰ΩøÁî® TaskCompletionSourceÔºåÁ°Æ‰øùÊìç‰ΩúÊòØÁ∫øÁ®ãÂÆâÂÖ®ÁöÑ„ÄÇ</li>\n</ol>\n<h1 id=\"ÁªìËÆ∫\"><a href=\"#ÁªìËÆ∫\" class=\"headerlink\" title=\"ÁªìËÆ∫\"></a>ÁªìËÆ∫</h1><p>TaskCompletionSource ÊòØ‰∏Ä‰∏™Âº∫Â§ß‰∏îÁÅµÊ¥ªÁöÑÂ∑•ÂÖ∑ÔºåÈÄÇÁî®‰∫éÂêÑÁßçÂºÇÊ≠•ÁºñÁ®ãÂú∫ÊôØ„ÄÇÈÄöËøáÊú¨ÊñáÁöÑ‰ªãÁªçÔºåÂ∏åÊúõ‰Ω†ËÉΩÊõ¥Â•ΩÂú∞ÁêÜËß£ÂíåÂ∫îÁî® TaskCompletionSourceÔºå‰ªéËÄåÁºñÂÜôÂá∫Êõ¥Âä†È´òÊïàÂíåÂèØÁª¥Êä§ÁöÑÂºÇÊ≠•‰ª£Á†Å„ÄÇ</p>\n<p>Â¶ÇÊûú‰Ω†Êúâ‰ªª‰ΩïÈóÆÈ¢òÊàñÂª∫ËÆÆÔºåÊ¨¢ËøéÂú®ËØÑËÆ∫Âå∫ÁïôË®ÄËÆ®ËÆ∫„ÄÇ</p>\n","site":{"data":{}},"excerpt":"","more":"<p>Âú®ÂºÇÊ≠•ÁºñÁ®ã‰∏≠ÔºåC# Êèê‰æõ‰∫ÜËÆ∏Â§öÂº∫Â§ßÁöÑÂ∑•ÂÖ∑Êù•ÁÆÄÂåñÂºÇÊ≠•‰ªªÂä°ÁöÑÁÆ°ÁêÜ„ÄÇÂÖ∂‰∏≠ÔºåTaskCompletionSource ÊòØ‰∏Ä‰∏™ÈùûÂ∏∏ÊúâÁî®ÁöÑÁ±ªÔºåÂÆÉÂÖÅËÆ∏ÂºÄÂèëËÄÖÂàõÂª∫ÂíåÊéßÂà∂‰ªªÂä°ÁöÑÂÆåÊàêÁä∂ÊÄÅ„ÄÇÂú®ËøôÁØáÂçöÂÆ¢‰∏≠ÔºåÊàë‰ª¨Â∞Ü‰∫ÜËß£ TaskCompletionSource ÁöÑÂäüËÉΩÂíå‰ΩøÁî®ÊñπÊ≥ïÔºåÂπ∂ÁªìÂêàÂÆûÈôÖ‰ª£Á†ÅÁ§∫‰æãÊù•Â∏ÆÂä©Êõ¥Â•ΩÂú∞ÁêÜËß£ÂíåÂ∫îÁî®ÂÆÉ„ÄÇ</p>\n<p>TaskCompletionSource<T>ÊòØ .NET Â∫ì‰∏≠Áî®‰∫éÂ§ÑÁêÜ‰ªªÂä°ÁöÑÊûÅÂÖ∂ÊúâÁî®ÁöÑÂ∑•ÂÖ∑ÔºåÂ∞§ÂÖ∂ÊòØÂú®Â§ÑÁêÜÊâãÂä®ÊéßÂà∂‰ªªÂä°ÂÆåÊàêÁöÑÊó∂Èó¥ÂíåÊñπÂºèÊó∂„ÄÇTaskCompletionSource <T>Á±ªË°®Á§∫Êú™ÁªëÂÆöÂà∞ÂßîÊâòÁöÑTask<TResult>ÁöÑÁîü‰∫ßËÄÖÁ´ØÔºåÈÄöËøá Task Â±ûÊÄßÊèê‰æõÂØπÊ∂àË¥πËÄÖÁ´ØÁöÑËÆøÈóÆ„ÄÇ</p>\n<h1 id=\"‰ªÄ‰πàÊòØTaskCompletionSourceÔºü\"><a href=\"#‰ªÄ‰πàÊòØTaskCompletionSourceÔºü\" class=\"headerlink\" title=\"‰ªÄ‰πàÊòØTaskCompletionSourceÔºü\"></a>‰ªÄ‰πàÊòØTaskCompletionSourceÔºü</h1><p>ÁÆÄÂçïÊù•ËØ¥ÔºåTaskCompletionSource<T>ÊòØ‰∏ÄÁßçÂÖÅËÆ∏Êàë‰ª¨ÂàõÂª∫Êú™ÁªëÂÆöTask<T>ÁöÑÁ±ªÂûãÔºåËøôÊÑèÂë≥ÁùÄÂÆÉ‰∏ç‰∏éÂßîÊâòÁªëÂÆö„ÄÇËøôËÆ©ÊÇ®ÂèØ‰ª•ÊâãÂä®ÊéßÂà∂‰ªªÂä°ÂÆåÊàêÁöÑÊó∂Èó¥ÂíåÊñπÂºè„ÄÇÊÇ®ÂèØ‰ª•ÊâãÂä®ËÆæÁΩÆ‰ªªÂä°ÁöÑÁªìÊûúÔºåÊàñËÄÖÂèëÂá∫‰ø°Âè∑Ë°®Á§∫‰ªªÂä°Áî±‰∫éÂèñÊ∂àÊàñÈîôËØØËÄåÂÆåÊàê„ÄÇ</p>\n<figure class=\"highlight c#\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">using</span> System;</span><br><span class=\"line\"><span class=\"keyword\">using</span> System.Threading.Tasks;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">Program</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title\">Main</span>(<span class=\"params\"><span class=\"built_in\">string</span>[] args</span>)</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">var</span> tcs = <span class=\"keyword\">new</span> TaskCompletionSource&lt;<span class=\"built_in\">bool</span>&gt;();</span><br><span class=\"line\">        tcs.SetResult(<span class=\"literal\">true</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>Âú®Ëøô‰∏™Á§∫‰æã‰∏≠ÔºåÊàë‰ª¨ÂàõÂª∫‰∫Ü‰∏Ä‰∏™ TaskCompletionSource<bool> ÂØπË±°ÔºåÂπ∂ÈÄöËøá SetResult ÊñπÊ≥ïÊâãÂä®ÂÆåÊàê‰ªªÂä°„ÄÇ</p>\n<h1 id=\"TaskCompletionSourceÂÆûÁé∞ÂõûË∞É\"><a href=\"#TaskCompletionSourceÂÆûÁé∞ÂõûË∞É\" class=\"headerlink\" title=\"TaskCompletionSourceÂÆûÁé∞ÂõûË∞É\"></a>TaskCompletionSourceÂÆûÁé∞ÂõûË∞É</h1><p>Âú®ÂºÇÊ≠•ÁºñÁ®ã‰∏≠ÔºåÂõûË∞ÉÂáΩÊï∞Â∏∏Áî®‰∫éÂú®Êìç‰ΩúÂÆåÊàêÊó∂ÊâßË°åÊüê‰∫õÈÄªËæë„ÄÇ‰ΩøÁî® TaskCompletionSourceÔºåÊàë‰ª¨ÂèØ‰ª•Â∞ÜÂõûË∞ÉÂáΩÊï∞ËΩ¨Êç¢‰∏∫‰ªªÂä°ÔºåÂπ∂Á≠âÂæÖÂÖ∂ÂÆåÊàê„ÄÇ</p>\n<figure class=\"highlight c#\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">using</span> System;</span><br><span class=\"line\"><span class=\"keyword\">using</span> System.Threading.Tasks;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">CallbackExample</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title\">Main</span>(<span class=\"params\"><span class=\"built_in\">string</span>[] args</span>)</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        Task task = DoSomethingAsync();</span><br><span class=\"line\"></span><br><span class=\"line\">        task.ContinueWith(t =&gt;</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (t.IsCompletedSuccessfully)</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                Console.WriteLine(<span class=\"string\">&quot;Êìç‰ΩúÂÆåÊàê!&quot;</span>);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;).Wait();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> Task <span class=\"title\">DoSomethingAsync</span>()</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">var</span> tcs = <span class=\"keyword\">new</span> TaskCompletionSource&lt;<span class=\"built_in\">bool</span>&gt;();</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">// Ê®°ÊãüÂºÇÊ≠•Êìç‰ΩúÂíåÂõûË∞É</span></span><br><span class=\"line\">        Task.Run(() =&gt;</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            Task.Delay(<span class=\"number\">2000</span>).Wait(); <span class=\"comment\">// Ê®°ÊãüÂºÇÊ≠•Êìç‰Ωú</span></span><br><span class=\"line\">            tcs.SetResult(<span class=\"literal\">true</span>); <span class=\"comment\">// Êìç‰ΩúÂÆåÊàêÔºåËÆæÁΩÆÁªìÊûú</span></span><br><span class=\"line\">        &#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">return</span> tcs.Task;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h1 id=\"TaskCompletionSourceÂÆûÁé∞ÊöÇÂÅú\"><a href=\"#TaskCompletionSourceÂÆûÁé∞ÊöÇÂÅú\" class=\"headerlink\" title=\"TaskCompletionSourceÂÆûÁé∞ÊöÇÂÅú\"></a>TaskCompletionSourceÂÆûÁé∞ÊöÇÂÅú</h1><p>TaskCompletionSource ËøòÂèØ‰ª•Áî®‰∫éÂÆûÁé∞‰ªªÂä°ÁöÑÊöÇÂÅúÂíåÊÅ¢Â§ç„ÄÇÈÄöËøáÊâãÂä®ÊéßÂà∂‰ªªÂä°ÁöÑÂÆåÊàêÁä∂ÊÄÅÔºåÊàë‰ª¨ÂèØ‰ª•Âú®ÁâπÂÆöÊù°‰ª∂‰∏ãÊöÇÂÅú‰ªªÂä°ÔºåÂπ∂Âú®Êù°‰ª∂Êª°Ë∂≥Êó∂ÊÅ¢Â§ç‰ªªÂä°„ÄÇ<br>Êàë‰ª¨‰ΩøÁî® TaskCompletionSource Êù•ÂÆûÁé∞‰ªªÂä°ÁöÑÊöÇÂÅúÂíåÊÅ¢Â§ç„ÄÇÂΩìÁî®Êà∑Êåâ‰∏ã‰ªªÊÑèÈîÆÊó∂Ôºå‰ªªÂä°Â∞Ü‰ªéÊöÇÂÅúÁä∂ÊÄÅÊÅ¢Â§çÂπ∂ÁªßÁª≠ÊâßË°å„ÄÇ</p>\n<figure class=\"highlight c#\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">using</span> System;</span><br><span class=\"line\"><span class=\"keyword\">using</span> System.Threading.Tasks;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">PauseExample</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">static</span> TaskCompletionSource&lt;<span class=\"built_in\">bool</span>&gt; _pauseTcs;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">async</span> Task <span class=\"title\">Main</span>(<span class=\"params\"><span class=\"built_in\">string</span>[] args</span>)</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        _pauseTcs = <span class=\"keyword\">new</span> TaskCompletionSource&lt;<span class=\"built_in\">bool</span>&gt;();</span><br><span class=\"line\"></span><br><span class=\"line\">        Task longRunningTask = LongRunningOperationAsync();</span><br><span class=\"line\"></span><br><span class=\"line\">        Console.WriteLine(<span class=\"string\">&quot;Êåâ‰ªªÊÑèÈîÆÁªßÁª≠...&quot;</span>);</span><br><span class=\"line\">        Console.ReadKey();</span><br><span class=\"line\">        _pauseTcs.SetResult(<span class=\"literal\">true</span>); <span class=\"comment\">// ÊÅ¢Â§ç‰ªªÂä°</span></span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">await</span> longRunningTask;</span><br><span class=\"line\">        Console.WriteLine(<span class=\"string\">&quot;‰ªªÂä°ÂÆåÊàê!&quot;</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">async</span> Task <span class=\"title\">LongRunningOperationAsync</span>()</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        Console.WriteLine(<span class=\"string\">&quot;‰ªªÂä°ÂºÄÂßã...&quot;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">await</span> _pauseTcs.Task; <span class=\"comment\">// Á≠âÂæÖ‰ªªÂä°ÊÅ¢Â§ç</span></span><br><span class=\"line\"></span><br><span class=\"line\">        Console.WriteLine(<span class=\"string\">&quot;‰ªªÂä°ÊÅ¢Â§çÔºåÁªßÁª≠ÊâßË°å...&quot;</span>);</span><br><span class=\"line\">        <span class=\"comment\">// Ê®°ÊãüÊõ¥Â§öÂ∑•‰Ωú</span></span><br><span class=\"line\">        <span class=\"keyword\">await</span> Task.Delay(<span class=\"number\">2000</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">        Console.WriteLine(<span class=\"string\">&quot;‰ªªÂä°ÁªìÊùü„ÄÇ&quot;</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>ËøêË°åÊàë‰ª¨ÂèØ‰ª•ÁúãÂà∞Â¶Ç‰∏ãÁªìÊûú<br><img src=\"/images/task-completion-source/pause-1.png\" alt=\"ÊöÇÂÅú1\"><br>Êåâ‰ªªÊÑèÈîÆÔºå‰ªªÂä°ÁªßÁª≠ËøêË°å<br><img src=\"/images/task-completion-source/pause-2.png\" alt=\"ÊöÇÂÅú2\"></p>\n<h1 id=\"TaskCompletionSourceÁöÑÂÖ∂‰ªñÁî®ÈÄî\"><a href=\"#TaskCompletionSourceÁöÑÂÖ∂‰ªñÁî®ÈÄî\" class=\"headerlink\" title=\"TaskCompletionSourceÁöÑÂÖ∂‰ªñÁî®ÈÄî\"></a>TaskCompletionSourceÁöÑÂÖ∂‰ªñÁî®ÈÄî</h1><p>Èô§‰∫Ü‰∏äËø∞Áî®ÈÄîÔºåTaskCompletionSource ËøòÂèØ‰ª•Áî®‰∫é‰ª•‰∏ãÂú∫ÊôØÔºö</p>\n<ol>\n<li>‰∫ã‰ª∂Â§ÑÁêÜÔºöÂ∞Ü‰∫ã‰ª∂È©±Âä®ÁöÑÊ®°ÂûãËΩ¨Êç¢‰∏∫‰ªªÂä°Ê®°ÂûãÔºå‰ΩøÂºÇÊ≠•ÁºñÁ®ãÊõ¥Âä†ÁÆÄÊ¥Å„ÄÇ</li>\n<li>Âπ∂ÂèëÊìç‰ΩúÔºöÁÆ°ÁêÜÂíåÂçèË∞ÉÂ§ö‰∏™ÂºÇÊ≠•Êìç‰ΩúÁöÑÂÆåÊàêÁä∂ÊÄÅ„ÄÇ</li>\n<li>‰ªªÂä°ÁªÑÂêàÔºö‰∏éÂÖ∂‰ªñ‰ªªÂä°ÁªÑÂêàÊñπÊ≥ïÔºàÂ¶Ç Task.WhenAll Âíå Task.WhenAnyÔºâÁªìÂêà‰ΩøÁî®ÔºåÂÆûÁé∞Â§çÊùÇÁöÑÂºÇÊ≠•ÈÄªËæë„ÄÇ</li>\n</ol>\n<h1 id=\"TaskCompletionSourceÁöÑÂª∫ËÆÆ\"><a href=\"#TaskCompletionSourceÁöÑÂª∫ËÆÆ\" class=\"headerlink\" title=\"TaskCompletionSourceÁöÑÂª∫ËÆÆ\"></a>TaskCompletionSourceÁöÑÂª∫ËÆÆ</h1><p>‰ΩøÁî® TaskCompletionSource Êó∂Ôºå‰ª•‰∏ãÊòØ‰∏Ä‰∫õÂª∫ËÆÆÔºö</p>\n<ol>\n<li>ÊòéÁ°Æ‰ªªÂä°ÂÆåÊàêÊù°‰ª∂ÔºöÁ°Æ‰øùÂú®ÈÄÇÂΩìÁöÑÊó∂Èó¥ÁÇπË∞ÉÁî® SetResult„ÄÅSetException Êàñ SetCanceled ÊñπÊ≥ïÊù•ÂÆåÊàê‰ªªÂä°„ÄÇ</li>\n<li>ÈÅøÂÖçÊ≠ªÈîÅÔºöÂ¶ÇÊûúÂú® UI Á∫øÁ®ã‰∏≠‰ΩøÁî® TaskCompletionSourceÔºåÊ≥®ÊÑèÈÅøÂÖçÊ≠ªÈîÅÊÉÖÂÜµ„ÄÇ</li>\n<li>Á∫øÁ®ãÂÆâÂÖ®ÔºöÂ¶ÇÊûúÂú®Â§ö‰∏™Á∫øÁ®ã‰∏≠‰ΩøÁî® TaskCompletionSourceÔºåÁ°Æ‰øùÊìç‰ΩúÊòØÁ∫øÁ®ãÂÆâÂÖ®ÁöÑ„ÄÇ</li>\n</ol>\n<h1 id=\"ÁªìËÆ∫\"><a href=\"#ÁªìËÆ∫\" class=\"headerlink\" title=\"ÁªìËÆ∫\"></a>ÁªìËÆ∫</h1><p>TaskCompletionSource ÊòØ‰∏Ä‰∏™Âº∫Â§ß‰∏îÁÅµÊ¥ªÁöÑÂ∑•ÂÖ∑ÔºåÈÄÇÁî®‰∫éÂêÑÁßçÂºÇÊ≠•ÁºñÁ®ãÂú∫ÊôØ„ÄÇÈÄöËøáÊú¨ÊñáÁöÑ‰ªãÁªçÔºåÂ∏åÊúõ‰Ω†ËÉΩÊõ¥Â•ΩÂú∞ÁêÜËß£ÂíåÂ∫îÁî® TaskCompletionSourceÔºå‰ªéËÄåÁºñÂÜôÂá∫Êõ¥Âä†È´òÊïàÂíåÂèØÁª¥Êä§ÁöÑÂºÇÊ≠•‰ª£Á†Å„ÄÇ</p>\n<p>Â¶ÇÊûú‰Ω†Êúâ‰ªª‰ΩïÈóÆÈ¢òÊàñÂª∫ËÆÆÔºåÊ¨¢ËøéÂú®ËØÑËÆ∫Âå∫ÁïôË®ÄËÆ®ËÆ∫„ÄÇ</p>\n"},{"title":"‰ªéÈõ∂ÂºÄÂßãÊê≠Âª∫Ëá™Â∑±ÁöÑÁõ∏‰ººÂõæÁâáÊêúÁ¥¢ÂºïÊìé","date":"2024-05-30T08:02:51.000Z","_content":"\n\nÂú®‰∫íËÅîÁΩëÊó∂‰ª£ÔºåÂõæÁâáÊêúÁ¥¢ÂºïÊìéÂ∑≤Êàê‰∏∫‰∏ÄÁßçÈáçË¶ÅÁöÑÂ∑•ÂÖ∑„ÄÇÊú¨ÊñáÂ∞ÜËØ¶ÁªÜ‰ªãÁªçÂ¶Ç‰Ωï‰ΩøÁî®ÂêëÈáèÂµåÂÖ•„ÄÅÂêëÈáèÊï∞ÊçÆÂ∫ìÂíå CLIPÔºàContrastive Language-Image Pre-TrainingÔºâÊ®°ÂûãÔºå‰ªéÈõ∂ÂºÄÂßãÊê≠Âª∫‰∏Ä‰∏™ÂäüËÉΩÂº∫Â§ßÁöÑÂõæÁâáÊêúÁ¥¢ÂºïÊìé„ÄÇÊàë‰ª¨Â∞ÜÂàÜÊ≠•È™§ËÆ≤Ëß£ÊØè‰∏™ÁªÑ‰ª∂ÁöÑ‰ΩúÁî®ÂèäÂÖ∂ÂÆûÁé∞ÊñπÊ≥ïÔºåÊúÄÁªàÂÆûÁé∞‰∏Ä‰∏™ËÉΩÂ§üÂü∫‰∫éÂõæÁâáÂÜÖÂÆπËøõË°åÊêúÁ¥¢ÁöÑÁ≥ªÁªü„ÄÇ\n\nÂú®ÂºÄÂßãÈòÖËØªÊú¨ÁØáÊñáÁ´†‰πãÂâçÔºåÂ¶ÇÊûú‰Ω†Ê≤°ÊúâÊé•Ëß¶ËøáÂµåÂÖ•ÔºåclipÔºåÂêëÈáèÊï∞ÊçÆÂ∫ìÁ≠âÔºå‰πüÊ≤°ÂÖ≥Á≥ª„ÄÇÊñáÁ´†ÂÜÖÂÆπÂ∑≤ÁªèÂ∞ΩÊàëÊâÄËÉΩÂÜôÁöÑÈÄö‰øóÊòìÊáÇÔºåËÄÅÂ∞ëÂí∏ÂÆú„ÄÇ\n\n    ËØªËÄÖÂ¶ÇÊûúÊÑüÂÖ¥Ë∂£ÂèØ‰ª•Ë∑≥ËΩ¨ËÄÅÂ§´‰πãÂâç‰ªãÁªçÂµåÂÖ•ÁöÑÊñáÁ´†[ÂµåÂÖ•ÔºöÂÆÉÊòØ‰ªÄ‰πà‰ª•ÂèäÂÆÉ‰∏∫‰ªÄ‰πàÈáçË¶Å](https://juejin.cn/post/7325356387152707634)\n\n# ÂâçÁΩÆËæìÂÖ•\nÂú®ÂºÄÂßãÈòÖËØªÂêéÈù¢ÊñáÁ´†ÁöÑÂÜÖÂÆπ‰πãÂâçÔºåÊàë‰ª¨ÂÖàÁÆÄÂçï‰ªãÁªç‰ª•‰∏ãÂêéÈù¢ÂèØËÉΩ‰ºöÂá∫Áé∞ÁöÑÊúØËØ≠Ôºö\n+ ÂµåÂÖ•ÔºöÂµåÂÖ•Â∞ÜÂõæÂÉèÊñáÊú¨ËΩ¨Êç¢‰∏∫Êï∞Â≠óË°®Á§∫Ôºå‰ΩøÊàë‰ª¨ËÉΩÂ§üÊâæÂà∞Áõ∏‰ººÁöÑÂõæÁâáÂπ∂ÊúâÊïàÂú∞ÊêúÁ¥¢Êàë‰ª¨ÁöÑÂ∫ì„ÄÇ\n+ ÂêëÈáèÊï∞ÊçÆÂ∫ìÔºöÂêëÈáèÊï∞ÊçÆÂ∫ìÊòØ‰∏ÄÁßçÂ≠òÂÇ®ÂíåÊêúÁ¥¢ÁºñÁ†ÅÈ°πÁõÆÁöÑÊñπÊ≥ïÔºå‰ΩøÊàë‰ª¨ËÉΩÂ§üÊâæÂà∞Áõ∏‰ººÁöÑÈ°πÁõÆ„ÄÇ\n+ Word2VecÔºöord2Vec ÊòØ‰∏ÄÁßçÁ™ÅÁ†¥ÊÄßÁöÑÊäÄÊúØÔºåÂèØÂ∞ÜÂçïËØçËΩ¨Êç¢‰∏∫Êï∞Â≠óÂêëÈáèÔºå‰ΩøÊàë‰ª¨ËÉΩÂ§üÊâßË°åÊü•ÊâæËØ≠‰πâÁõ∏‰ººÁöÑËØ≠Âè•Ôºå‰∏çÂÜçÊòØÂçïÁ∫ØÁöÑÂàÜËØç„ÄÇ\n+ OpenCLIPÔºö CLIP ÊòØ OpenAI ÁöÑÊ®°ÂûãÔºåÂèØÂ∞ÜÂõæÂÉèÂíåÊñáÊú¨ÁºñÁ†Å‰∏∫Êï∞Â≠óÂêëÈáè„ÄÇOpenCLIPÊòØCLIPÁöÑÂºÄÊ∫êÂÆûÁé∞„ÄÇËÆ∏‰ªª‰Ωï‰∫∫‰ΩøÁî®ÂíåÊûÑÂª∫ËøôÁßçÂº∫Â§ßÁöÑÂõæÂÉèÂíåÊñáÊú¨ÁºñÁ†ÅÊäÄÊúØÔºåËÄåÊó†ÈúÄÁâπÊÆäËÆøÈóÆÊàñÊùÉÈôê„ÄÇ\n+ QdrantÔºö Qdrant ÊòØ‰∏Ä‰∏™È´òÊïàÁöÑÂ∫ìÔºåÁî®‰∫éÁÆ°ÁêÜÂíåÊêúÁ¥¢Â§ßÈáèÂõæÂÉèÂêëÈáè„ÄÇ\n\n# Êï¥‰ΩìÊÄùË∑Ø\n1. Áà¨Ëô´Ëé∑ÂèñÂõæÁâáÔºõ\n2. Áî®CLIPËé∑ÂèñÊØè‰∏™ÂõæÁâáÂêëÈáèÁºñÁ†ÅÔºõ\n3. ÊääÂõæÁâáÁöÑË∑ØÂæÑÂíåÂêëÈáèÁºñÁ†ÅÂ≠òÂÖ•ÂêëÈáèÊï∞ÊçÆÂ∫ìÔºõ\n4. Áî®Êà∑‰∏ä‰º†ÂõæÁâáÔºõ\n5. Áî®CLIPËé∑ÂèñÂõæÁâáÂêëÈáèÁºñÁ†ÅÔºõ\n6. Âú®ÂêëÈáèÊï∞ÊçÆÂ∫ì‰∏≠ÊêúÁ¥¢Ëé∑ÂèñÁõ∏‰ººÂõæÁâáÔºåÂπ∂Ëé∑ÂèñÂõæÁâáË∑ØÂæÑÔºõ\n7. ËøîÂõûÁõ∏‰ººÂõæÁâáÔºõ\n\n# Áà¨Ëô´\nÊó¢ÁÑ∂ÊòØÂõæÁâáÊêúÁ¥¢ÔºåÈÇ£‰πàÊàë‰ª¨ÁöÑÁ¨¨‰∏ÄÊ≠•Â∞±ÊòØÊúâ‰∏Ä‰∏™ÂõæÁâáÂ∫ì„ÄÇËøôÈáåÊàëÁõ¥Êé•Áî®pythonÊí∏‰∫Ü‰∏Ä‰∏™ÁÆÄÂçïÁöÑÁà¨Ëô´Á®ãÂ∫èÔºåÁõ¥Êé•‰ªéWBÁà¨ÂèñÂõæÁâá‰Ωú‰∏∫ÊêúÁ¥¢ÁöÑÊ∫ê„ÄÇ\nËøôÈáåÊúâ‰∏™Âú∞ÊñπÈúÄË¶ÅÊ≥®ÊÑè‰∏Ä‰∏ãÔºåÂõ†‰∏∫Áé∞Âú®ÂõæÁâáÂü∫Êú¨‰∏äÈÉΩÊòØÂä®ÊÄÅÂä†ËΩΩÁöÑÔºåÊâÄ‰ª•ËøôÈáåÊàë‰ª¨ËøòÈúÄË¶ÅÁî®SeleniumÊù•Ëé∑ÂèñÈ°µÈù¢ÂÜÖÂÆπ„ÄÇ\n```python\nimport os\nimport scrapy\nfrom selenium import webdriver\nfrom selenium.webdriver.chrome.service import Service\nfrom selenium.webdriver.chrome.options import Options\nfrom scrapy.crawler import CrawlerProcess\nfrom scrapy.http import Request\nimport re  # Á°Æ‰øùÂØºÂÖ• re Ê®°Âùó\n\nclass WeiboSpider(scrapy.Spider):\n    name = 'wb'\n    start_urls = ['xxx.xxx.com']  # ÊõøÊç¢‰∏∫‰Ω†Ë¶ÅÁà¨ÂèñÁöÑÁõÆÊ†áURL\n\n    def __init__(self, *args, **kwargs):\n        super(WeiboSpider, self).__init__(*args, **kwargs)\n        # ÈÖçÁΩÆSeleniumÁöÑChromeDriver\n        chrome_options = Options()\n        chrome_options.add_argument(\"--headless\")  # Êó†Â§¥Ê®°ÂºèËøêË°åÔºå‰∏çÊâìÂºÄÊµèËßàÂô®ÁïåÈù¢\n        chrome_service = Service('D:\\\\Program Files\\\\chromedriver\\\\chromedriver.exe')\n        self.driver = webdriver.Chrome(service=chrome_service, options=chrome_options)\n\n    def parse(self, response):\n        # ‰ΩøÁî®SeleniumÂä†ËΩΩÈ°µÈù¢\n        self.driver.get(response.url)\n        # Á≠âÂæÖJavaScriptÂä†ËΩΩÂÆåÊàêÔºàËøôÈáåÈúÄË¶ÅÊ†πÊçÆ‰Ω†ÁöÑÂÆûÈôÖÊÉÖÂÜµË∞ÉÊï¥Á≠âÂæÖÊó∂Èó¥ÊàñÊñπÂºèÔºâ\n        self.driver.implicitly_wait(10)  # ÈöêÂºèÁ≠âÂæÖÊúÄÂ§ö10Áßí\n        \n        # ÂàõÂª∫ images ÁõÆÂΩï\n        images_dir = 'images'\n        if not os.path.exists(images_dir):\n            os.makedirs(images_dir)\n        \n        # ÊèêÂèñÂõæÁâáURLÊàñËøõË°åÂÖ∂‰ªñÊìç‰Ωú...\n        # ËøôÈáåÂè™ÊòØ‰∏Ä‰∏™Á§∫‰æãÔºå‰Ω†ÈúÄË¶ÅÊ†πÊçÆÈ°µÈù¢ÁöÑÂÆûÈôÖÁªìÊûÑÊù•ÂÆö‰ΩçÂõæÁâáÂÖÉÁ¥†\n        images = self.driver.find_elements('tag name', 'img')\n        for image in images:\n            image_url = image.get_attribute('src')\n            if image_url:\n                yield Request(image_url, callback=self.save_image)\n\n        # ÂÖ≥Èó≠SeleniumÁöÑChromeDriver\n        self.driver.quit()\n\n    def save_image(self, response):\n        # ‰øùÂ≠òÂõæÁâáÂà∞Êú¨Âú∞\n\n```\n‰∏ãÈù¢ÊòØÊàëÁà¨ÂèñÁöÑÂõæÁâáÁªìÊûú\n![ÂõæÁâá](/images/image-search/images.png)\n\n\n\n\n![ÂõæÁâá](/images/image-search/search.gif)","source":"_posts/similar-image-search.md","raw":"---\ntitle: ‰ªéÈõ∂ÂºÄÂßãÊê≠Âª∫Ëá™Â∑±ÁöÑÁõ∏‰ººÂõæÁâáÊêúÁ¥¢ÂºïÊìé\ndate: 2024-05-30 16:02:51\ntags:\n---\n\n\nÂú®‰∫íËÅîÁΩëÊó∂‰ª£ÔºåÂõæÁâáÊêúÁ¥¢ÂºïÊìéÂ∑≤Êàê‰∏∫‰∏ÄÁßçÈáçË¶ÅÁöÑÂ∑•ÂÖ∑„ÄÇÊú¨ÊñáÂ∞ÜËØ¶ÁªÜ‰ªãÁªçÂ¶Ç‰Ωï‰ΩøÁî®ÂêëÈáèÂµåÂÖ•„ÄÅÂêëÈáèÊï∞ÊçÆÂ∫ìÂíå CLIPÔºàContrastive Language-Image Pre-TrainingÔºâÊ®°ÂûãÔºå‰ªéÈõ∂ÂºÄÂßãÊê≠Âª∫‰∏Ä‰∏™ÂäüËÉΩÂº∫Â§ßÁöÑÂõæÁâáÊêúÁ¥¢ÂºïÊìé„ÄÇÊàë‰ª¨Â∞ÜÂàÜÊ≠•È™§ËÆ≤Ëß£ÊØè‰∏™ÁªÑ‰ª∂ÁöÑ‰ΩúÁî®ÂèäÂÖ∂ÂÆûÁé∞ÊñπÊ≥ïÔºåÊúÄÁªàÂÆûÁé∞‰∏Ä‰∏™ËÉΩÂ§üÂü∫‰∫éÂõæÁâáÂÜÖÂÆπËøõË°åÊêúÁ¥¢ÁöÑÁ≥ªÁªü„ÄÇ\n\nÂú®ÂºÄÂßãÈòÖËØªÊú¨ÁØáÊñáÁ´†‰πãÂâçÔºåÂ¶ÇÊûú‰Ω†Ê≤°ÊúâÊé•Ëß¶ËøáÂµåÂÖ•ÔºåclipÔºåÂêëÈáèÊï∞ÊçÆÂ∫ìÁ≠âÔºå‰πüÊ≤°ÂÖ≥Á≥ª„ÄÇÊñáÁ´†ÂÜÖÂÆπÂ∑≤ÁªèÂ∞ΩÊàëÊâÄËÉΩÂÜôÁöÑÈÄö‰øóÊòìÊáÇÔºåËÄÅÂ∞ëÂí∏ÂÆú„ÄÇ\n\n    ËØªËÄÖÂ¶ÇÊûúÊÑüÂÖ¥Ë∂£ÂèØ‰ª•Ë∑≥ËΩ¨ËÄÅÂ§´‰πãÂâç‰ªãÁªçÂµåÂÖ•ÁöÑÊñáÁ´†[ÂµåÂÖ•ÔºöÂÆÉÊòØ‰ªÄ‰πà‰ª•ÂèäÂÆÉ‰∏∫‰ªÄ‰πàÈáçË¶Å](https://juejin.cn/post/7325356387152707634)\n\n# ÂâçÁΩÆËæìÂÖ•\nÂú®ÂºÄÂßãÈòÖËØªÂêéÈù¢ÊñáÁ´†ÁöÑÂÜÖÂÆπ‰πãÂâçÔºåÊàë‰ª¨ÂÖàÁÆÄÂçï‰ªãÁªç‰ª•‰∏ãÂêéÈù¢ÂèØËÉΩ‰ºöÂá∫Áé∞ÁöÑÊúØËØ≠Ôºö\n+ ÂµåÂÖ•ÔºöÂµåÂÖ•Â∞ÜÂõæÂÉèÊñáÊú¨ËΩ¨Êç¢‰∏∫Êï∞Â≠óË°®Á§∫Ôºå‰ΩøÊàë‰ª¨ËÉΩÂ§üÊâæÂà∞Áõ∏‰ººÁöÑÂõæÁâáÂπ∂ÊúâÊïàÂú∞ÊêúÁ¥¢Êàë‰ª¨ÁöÑÂ∫ì„ÄÇ\n+ ÂêëÈáèÊï∞ÊçÆÂ∫ìÔºöÂêëÈáèÊï∞ÊçÆÂ∫ìÊòØ‰∏ÄÁßçÂ≠òÂÇ®ÂíåÊêúÁ¥¢ÁºñÁ†ÅÈ°πÁõÆÁöÑÊñπÊ≥ïÔºå‰ΩøÊàë‰ª¨ËÉΩÂ§üÊâæÂà∞Áõ∏‰ººÁöÑÈ°πÁõÆ„ÄÇ\n+ Word2VecÔºöord2Vec ÊòØ‰∏ÄÁßçÁ™ÅÁ†¥ÊÄßÁöÑÊäÄÊúØÔºåÂèØÂ∞ÜÂçïËØçËΩ¨Êç¢‰∏∫Êï∞Â≠óÂêëÈáèÔºå‰ΩøÊàë‰ª¨ËÉΩÂ§üÊâßË°åÊü•ÊâæËØ≠‰πâÁõ∏‰ººÁöÑËØ≠Âè•Ôºå‰∏çÂÜçÊòØÂçïÁ∫ØÁöÑÂàÜËØç„ÄÇ\n+ OpenCLIPÔºö CLIP ÊòØ OpenAI ÁöÑÊ®°ÂûãÔºåÂèØÂ∞ÜÂõæÂÉèÂíåÊñáÊú¨ÁºñÁ†Å‰∏∫Êï∞Â≠óÂêëÈáè„ÄÇOpenCLIPÊòØCLIPÁöÑÂºÄÊ∫êÂÆûÁé∞„ÄÇËÆ∏‰ªª‰Ωï‰∫∫‰ΩøÁî®ÂíåÊûÑÂª∫ËøôÁßçÂº∫Â§ßÁöÑÂõæÂÉèÂíåÊñáÊú¨ÁºñÁ†ÅÊäÄÊúØÔºåËÄåÊó†ÈúÄÁâπÊÆäËÆøÈóÆÊàñÊùÉÈôê„ÄÇ\n+ QdrantÔºö Qdrant ÊòØ‰∏Ä‰∏™È´òÊïàÁöÑÂ∫ìÔºåÁî®‰∫éÁÆ°ÁêÜÂíåÊêúÁ¥¢Â§ßÈáèÂõæÂÉèÂêëÈáè„ÄÇ\n\n# Êï¥‰ΩìÊÄùË∑Ø\n1. Áà¨Ëô´Ëé∑ÂèñÂõæÁâáÔºõ\n2. Áî®CLIPËé∑ÂèñÊØè‰∏™ÂõæÁâáÂêëÈáèÁºñÁ†ÅÔºõ\n3. ÊääÂõæÁâáÁöÑË∑ØÂæÑÂíåÂêëÈáèÁºñÁ†ÅÂ≠òÂÖ•ÂêëÈáèÊï∞ÊçÆÂ∫ìÔºõ\n4. Áî®Êà∑‰∏ä‰º†ÂõæÁâáÔºõ\n5. Áî®CLIPËé∑ÂèñÂõæÁâáÂêëÈáèÁºñÁ†ÅÔºõ\n6. Âú®ÂêëÈáèÊï∞ÊçÆÂ∫ì‰∏≠ÊêúÁ¥¢Ëé∑ÂèñÁõ∏‰ººÂõæÁâáÔºåÂπ∂Ëé∑ÂèñÂõæÁâáË∑ØÂæÑÔºõ\n7. ËøîÂõûÁõ∏‰ººÂõæÁâáÔºõ\n\n# Áà¨Ëô´\nÊó¢ÁÑ∂ÊòØÂõæÁâáÊêúÁ¥¢ÔºåÈÇ£‰πàÊàë‰ª¨ÁöÑÁ¨¨‰∏ÄÊ≠•Â∞±ÊòØÊúâ‰∏Ä‰∏™ÂõæÁâáÂ∫ì„ÄÇËøôÈáåÊàëÁõ¥Êé•Áî®pythonÊí∏‰∫Ü‰∏Ä‰∏™ÁÆÄÂçïÁöÑÁà¨Ëô´Á®ãÂ∫èÔºåÁõ¥Êé•‰ªéWBÁà¨ÂèñÂõæÁâá‰Ωú‰∏∫ÊêúÁ¥¢ÁöÑÊ∫ê„ÄÇ\nËøôÈáåÊúâ‰∏™Âú∞ÊñπÈúÄË¶ÅÊ≥®ÊÑè‰∏Ä‰∏ãÔºåÂõ†‰∏∫Áé∞Âú®ÂõæÁâáÂü∫Êú¨‰∏äÈÉΩÊòØÂä®ÊÄÅÂä†ËΩΩÁöÑÔºåÊâÄ‰ª•ËøôÈáåÊàë‰ª¨ËøòÈúÄË¶ÅÁî®SeleniumÊù•Ëé∑ÂèñÈ°µÈù¢ÂÜÖÂÆπ„ÄÇ\n```python\nimport os\nimport scrapy\nfrom selenium import webdriver\nfrom selenium.webdriver.chrome.service import Service\nfrom selenium.webdriver.chrome.options import Options\nfrom scrapy.crawler import CrawlerProcess\nfrom scrapy.http import Request\nimport re  # Á°Æ‰øùÂØºÂÖ• re Ê®°Âùó\n\nclass WeiboSpider(scrapy.Spider):\n    name = 'wb'\n    start_urls = ['xxx.xxx.com']  # ÊõøÊç¢‰∏∫‰Ω†Ë¶ÅÁà¨ÂèñÁöÑÁõÆÊ†áURL\n\n    def __init__(self, *args, **kwargs):\n        super(WeiboSpider, self).__init__(*args, **kwargs)\n        # ÈÖçÁΩÆSeleniumÁöÑChromeDriver\n        chrome_options = Options()\n        chrome_options.add_argument(\"--headless\")  # Êó†Â§¥Ê®°ÂºèËøêË°åÔºå‰∏çÊâìÂºÄÊµèËßàÂô®ÁïåÈù¢\n        chrome_service = Service('D:\\\\Program Files\\\\chromedriver\\\\chromedriver.exe')\n        self.driver = webdriver.Chrome(service=chrome_service, options=chrome_options)\n\n    def parse(self, response):\n        # ‰ΩøÁî®SeleniumÂä†ËΩΩÈ°µÈù¢\n        self.driver.get(response.url)\n        # Á≠âÂæÖJavaScriptÂä†ËΩΩÂÆåÊàêÔºàËøôÈáåÈúÄË¶ÅÊ†πÊçÆ‰Ω†ÁöÑÂÆûÈôÖÊÉÖÂÜµË∞ÉÊï¥Á≠âÂæÖÊó∂Èó¥ÊàñÊñπÂºèÔºâ\n        self.driver.implicitly_wait(10)  # ÈöêÂºèÁ≠âÂæÖÊúÄÂ§ö10Áßí\n        \n        # ÂàõÂª∫ images ÁõÆÂΩï\n        images_dir = 'images'\n        if not os.path.exists(images_dir):\n            os.makedirs(images_dir)\n        \n        # ÊèêÂèñÂõæÁâáURLÊàñËøõË°åÂÖ∂‰ªñÊìç‰Ωú...\n        # ËøôÈáåÂè™ÊòØ‰∏Ä‰∏™Á§∫‰æãÔºå‰Ω†ÈúÄË¶ÅÊ†πÊçÆÈ°µÈù¢ÁöÑÂÆûÈôÖÁªìÊûÑÊù•ÂÆö‰ΩçÂõæÁâáÂÖÉÁ¥†\n        images = self.driver.find_elements('tag name', 'img')\n        for image in images:\n            image_url = image.get_attribute('src')\n            if image_url:\n                yield Request(image_url, callback=self.save_image)\n\n        # ÂÖ≥Èó≠SeleniumÁöÑChromeDriver\n        self.driver.quit()\n\n    def save_image(self, response):\n        # ‰øùÂ≠òÂõæÁâáÂà∞Êú¨Âú∞\n\n```\n‰∏ãÈù¢ÊòØÊàëÁà¨ÂèñÁöÑÂõæÁâáÁªìÊûú\n![ÂõæÁâá](/images/image-search/images.png)\n\n\n\n\n![ÂõæÁâá](/images/image-search/search.gif)","slug":"similar-image-search","published":1,"updated":"2024-06-07T13:09:17.632Z","_id":"clx2wbfft0000usp1aprk4rln","comments":1,"layout":"post","photos":[],"link":"","content":"<p>Âú®‰∫íËÅîÁΩëÊó∂‰ª£ÔºåÂõæÁâáÊêúÁ¥¢ÂºïÊìéÂ∑≤Êàê‰∏∫‰∏ÄÁßçÈáçË¶ÅÁöÑÂ∑•ÂÖ∑„ÄÇÊú¨ÊñáÂ∞ÜËØ¶ÁªÜ‰ªãÁªçÂ¶Ç‰Ωï‰ΩøÁî®ÂêëÈáèÂµåÂÖ•„ÄÅÂêëÈáèÊï∞ÊçÆÂ∫ìÂíå CLIPÔºàContrastive Language-Image Pre-TrainingÔºâÊ®°ÂûãÔºå‰ªéÈõ∂ÂºÄÂßãÊê≠Âª∫‰∏Ä‰∏™ÂäüËÉΩÂº∫Â§ßÁöÑÂõæÁâáÊêúÁ¥¢ÂºïÊìé„ÄÇÊàë‰ª¨Â∞ÜÂàÜÊ≠•È™§ËÆ≤Ëß£ÊØè‰∏™ÁªÑ‰ª∂ÁöÑ‰ΩúÁî®ÂèäÂÖ∂ÂÆûÁé∞ÊñπÊ≥ïÔºåÊúÄÁªàÂÆûÁé∞‰∏Ä‰∏™ËÉΩÂ§üÂü∫‰∫éÂõæÁâáÂÜÖÂÆπËøõË°åÊêúÁ¥¢ÁöÑÁ≥ªÁªü„ÄÇ</p>\n<p>Âú®ÂºÄÂßãÈòÖËØªÊú¨ÁØáÊñáÁ´†‰πãÂâçÔºåÂ¶ÇÊûú‰Ω†Ê≤°ÊúâÊé•Ëß¶ËøáÂµåÂÖ•ÔºåclipÔºåÂêëÈáèÊï∞ÊçÆÂ∫ìÁ≠âÔºå‰πüÊ≤°ÂÖ≥Á≥ª„ÄÇÊñáÁ´†ÂÜÖÂÆπÂ∑≤ÁªèÂ∞ΩÊàëÊâÄËÉΩÂÜôÁöÑÈÄö‰øóÊòìÊáÇÔºåËÄÅÂ∞ëÂí∏ÂÆú„ÄÇ</p>\n<pre><code>ËØªËÄÖÂ¶ÇÊûúÊÑüÂÖ¥Ë∂£ÂèØ‰ª•Ë∑≥ËΩ¨ËÄÅÂ§´‰πãÂâç‰ªãÁªçÂµåÂÖ•ÁöÑÊñáÁ´†[ÂµåÂÖ•ÔºöÂÆÉÊòØ‰ªÄ‰πà‰ª•ÂèäÂÆÉ‰∏∫‰ªÄ‰πàÈáçË¶Å](https://juejin.cn/post/7325356387152707634)\n</code></pre>\n<h1 id=\"ÂâçÁΩÆËæìÂÖ•\"><a href=\"#ÂâçÁΩÆËæìÂÖ•\" class=\"headerlink\" title=\"ÂâçÁΩÆËæìÂÖ•\"></a>ÂâçÁΩÆËæìÂÖ•</h1><p>Âú®ÂºÄÂßãÈòÖËØªÂêéÈù¢ÊñáÁ´†ÁöÑÂÜÖÂÆπ‰πãÂâçÔºåÊàë‰ª¨ÂÖàÁÆÄÂçï‰ªãÁªç‰ª•‰∏ãÂêéÈù¢ÂèØËÉΩ‰ºöÂá∫Áé∞ÁöÑÊúØËØ≠Ôºö</p>\n<ul>\n<li>ÂµåÂÖ•ÔºöÂµåÂÖ•Â∞ÜÂõæÂÉèÊñáÊú¨ËΩ¨Êç¢‰∏∫Êï∞Â≠óË°®Á§∫Ôºå‰ΩøÊàë‰ª¨ËÉΩÂ§üÊâæÂà∞Áõ∏‰ººÁöÑÂõæÁâáÂπ∂ÊúâÊïàÂú∞ÊêúÁ¥¢Êàë‰ª¨ÁöÑÂ∫ì„ÄÇ</li>\n<li>ÂêëÈáèÊï∞ÊçÆÂ∫ìÔºöÂêëÈáèÊï∞ÊçÆÂ∫ìÊòØ‰∏ÄÁßçÂ≠òÂÇ®ÂíåÊêúÁ¥¢ÁºñÁ†ÅÈ°πÁõÆÁöÑÊñπÊ≥ïÔºå‰ΩøÊàë‰ª¨ËÉΩÂ§üÊâæÂà∞Áõ∏‰ººÁöÑÈ°πÁõÆ„ÄÇ</li>\n<li>Word2VecÔºöord2Vec ÊòØ‰∏ÄÁßçÁ™ÅÁ†¥ÊÄßÁöÑÊäÄÊúØÔºåÂèØÂ∞ÜÂçïËØçËΩ¨Êç¢‰∏∫Êï∞Â≠óÂêëÈáèÔºå‰ΩøÊàë‰ª¨ËÉΩÂ§üÊâßË°åÊü•ÊâæËØ≠‰πâÁõ∏‰ººÁöÑËØ≠Âè•Ôºå‰∏çÂÜçÊòØÂçïÁ∫ØÁöÑÂàÜËØç„ÄÇ</li>\n<li>OpenCLIPÔºö CLIP ÊòØ OpenAI ÁöÑÊ®°ÂûãÔºåÂèØÂ∞ÜÂõæÂÉèÂíåÊñáÊú¨ÁºñÁ†Å‰∏∫Êï∞Â≠óÂêëÈáè„ÄÇOpenCLIPÊòØCLIPÁöÑÂºÄÊ∫êÂÆûÁé∞„ÄÇËÆ∏‰ªª‰Ωï‰∫∫‰ΩøÁî®ÂíåÊûÑÂª∫ËøôÁßçÂº∫Â§ßÁöÑÂõæÂÉèÂíåÊñáÊú¨ÁºñÁ†ÅÊäÄÊúØÔºåËÄåÊó†ÈúÄÁâπÊÆäËÆøÈóÆÊàñÊùÉÈôê„ÄÇ</li>\n<li>QdrantÔºö Qdrant ÊòØ‰∏Ä‰∏™È´òÊïàÁöÑÂ∫ìÔºåÁî®‰∫éÁÆ°ÁêÜÂíåÊêúÁ¥¢Â§ßÈáèÂõæÂÉèÂêëÈáè„ÄÇ</li>\n</ul>\n<h1 id=\"Êï¥‰ΩìÊÄùË∑Ø\"><a href=\"#Êï¥‰ΩìÊÄùË∑Ø\" class=\"headerlink\" title=\"Êï¥‰ΩìÊÄùË∑Ø\"></a>Êï¥‰ΩìÊÄùË∑Ø</h1><ol>\n<li>Áà¨Ëô´Ëé∑ÂèñÂõæÁâáÔºõ</li>\n<li>Áî®CLIPËé∑ÂèñÊØè‰∏™ÂõæÁâáÂêëÈáèÁºñÁ†ÅÔºõ</li>\n<li>ÊääÂõæÁâáÁöÑË∑ØÂæÑÂíåÂêëÈáèÁºñÁ†ÅÂ≠òÂÖ•ÂêëÈáèÊï∞ÊçÆÂ∫ìÔºõ</li>\n<li>Áî®Êà∑‰∏ä‰º†ÂõæÁâáÔºõ</li>\n<li>Áî®CLIPËé∑ÂèñÂõæÁâáÂêëÈáèÁºñÁ†ÅÔºõ</li>\n<li>Âú®ÂêëÈáèÊï∞ÊçÆÂ∫ì‰∏≠ÊêúÁ¥¢Ëé∑ÂèñÁõ∏‰ººÂõæÁâáÔºåÂπ∂Ëé∑ÂèñÂõæÁâáË∑ØÂæÑÔºõ</li>\n<li>ËøîÂõûÁõ∏‰ººÂõæÁâáÔºõ</li>\n</ol>\n<h1 id=\"Áà¨Ëô´\"><a href=\"#Áà¨Ëô´\" class=\"headerlink\" title=\"Áà¨Ëô´\"></a>Áà¨Ëô´</h1><p>Êó¢ÁÑ∂ÊòØÂõæÁâáÊêúÁ¥¢ÔºåÈÇ£‰πàÊàë‰ª¨ÁöÑÁ¨¨‰∏ÄÊ≠•Â∞±ÊòØÊúâ‰∏Ä‰∏™ÂõæÁâáÂ∫ì„ÄÇËøôÈáåÊàëÁõ¥Êé•Áî®pythonÊí∏‰∫Ü‰∏Ä‰∏™ÁÆÄÂçïÁöÑÁà¨Ëô´Á®ãÂ∫èÔºåÁõ¥Êé•‰ªéWBÁà¨ÂèñÂõæÁâá‰Ωú‰∏∫ÊêúÁ¥¢ÁöÑÊ∫ê„ÄÇ<br>ËøôÈáåÊúâ‰∏™Âú∞ÊñπÈúÄË¶ÅÊ≥®ÊÑè‰∏Ä‰∏ãÔºåÂõ†‰∏∫Áé∞Âú®ÂõæÁâáÂü∫Êú¨‰∏äÈÉΩÊòØÂä®ÊÄÅÂä†ËΩΩÁöÑÔºåÊâÄ‰ª•ËøôÈáåÊàë‰ª¨ËøòÈúÄË¶ÅÁî®SeleniumÊù•Ëé∑ÂèñÈ°µÈù¢ÂÜÖÂÆπ„ÄÇ</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> os</span><br><span class=\"line\"><span class=\"keyword\">import</span> scrapy</span><br><span class=\"line\"><span class=\"keyword\">from</span> selenium <span class=\"keyword\">import</span> webdriver</span><br><span class=\"line\"><span class=\"keyword\">from</span> selenium.webdriver.chrome.service <span class=\"keyword\">import</span> Service</span><br><span class=\"line\"><span class=\"keyword\">from</span> selenium.webdriver.chrome.options <span class=\"keyword\">import</span> Options</span><br><span class=\"line\"><span class=\"keyword\">from</span> scrapy.crawler <span class=\"keyword\">import</span> CrawlerProcess</span><br><span class=\"line\"><span class=\"keyword\">from</span> scrapy.http <span class=\"keyword\">import</span> Request</span><br><span class=\"line\"><span class=\"keyword\">import</span> re  <span class=\"comment\"># Á°Æ‰øùÂØºÂÖ• re Ê®°Âùó</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">WeiboSpider</span>(scrapy.Spider):</span><br><span class=\"line\">    name = <span class=\"string\">&#x27;wb&#x27;</span></span><br><span class=\"line\">    start_urls = [<span class=\"string\">&#x27;xxx.xxx.com&#x27;</span>]  <span class=\"comment\"># ÊõøÊç¢‰∏∫‰Ω†Ë¶ÅÁà¨ÂèñÁöÑÁõÆÊ†áURL</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">def</span> <span class=\"title function_\">__init__</span>(<span class=\"params\">self, *args, **kwargs</span>):</span><br><span class=\"line\">        <span class=\"built_in\">super</span>(WeiboSpider, self).__init__(*args, **kwargs)</span><br><span class=\"line\">        <span class=\"comment\"># ÈÖçÁΩÆSeleniumÁöÑChromeDriver</span></span><br><span class=\"line\">        chrome_options = Options()</span><br><span class=\"line\">        chrome_options.add_argument(<span class=\"string\">&quot;--headless&quot;</span>)  <span class=\"comment\"># Êó†Â§¥Ê®°ÂºèËøêË°åÔºå‰∏çÊâìÂºÄÊµèËßàÂô®ÁïåÈù¢</span></span><br><span class=\"line\">        chrome_service = Service(<span class=\"string\">&#x27;D:\\\\Program Files\\\\chromedriver\\\\chromedriver.exe&#x27;</span>)</span><br><span class=\"line\">        self.driver = webdriver.Chrome(service=chrome_service, options=chrome_options)</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">def</span> <span class=\"title function_\">parse</span>(<span class=\"params\">self, response</span>):</span><br><span class=\"line\">        <span class=\"comment\"># ‰ΩøÁî®SeleniumÂä†ËΩΩÈ°µÈù¢</span></span><br><span class=\"line\">        self.driver.get(response.url)</span><br><span class=\"line\">        <span class=\"comment\"># Á≠âÂæÖJavaScriptÂä†ËΩΩÂÆåÊàêÔºàËøôÈáåÈúÄË¶ÅÊ†πÊçÆ‰Ω†ÁöÑÂÆûÈôÖÊÉÖÂÜµË∞ÉÊï¥Á≠âÂæÖÊó∂Èó¥ÊàñÊñπÂºèÔºâ</span></span><br><span class=\"line\">        self.driver.implicitly_wait(<span class=\"number\">10</span>)  <span class=\"comment\"># ÈöêÂºèÁ≠âÂæÖÊúÄÂ§ö10Áßí</span></span><br><span class=\"line\">        </span><br><span class=\"line\">        <span class=\"comment\"># ÂàõÂª∫ images ÁõÆÂΩï</span></span><br><span class=\"line\">        images_dir = <span class=\"string\">&#x27;images&#x27;</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> os.path.exists(images_dir):</span><br><span class=\"line\">            os.makedirs(images_dir)</span><br><span class=\"line\">        </span><br><span class=\"line\">        <span class=\"comment\"># ÊèêÂèñÂõæÁâáURLÊàñËøõË°åÂÖ∂‰ªñÊìç‰Ωú...</span></span><br><span class=\"line\">        <span class=\"comment\"># ËøôÈáåÂè™ÊòØ‰∏Ä‰∏™Á§∫‰æãÔºå‰Ω†ÈúÄË¶ÅÊ†πÊçÆÈ°µÈù¢ÁöÑÂÆûÈôÖÁªìÊûÑÊù•ÂÆö‰ΩçÂõæÁâáÂÖÉÁ¥†</span></span><br><span class=\"line\">        images = self.driver.find_elements(<span class=\"string\">&#x27;tag name&#x27;</span>, <span class=\"string\">&#x27;img&#x27;</span>)</span><br><span class=\"line\">        <span class=\"keyword\">for</span> image <span class=\"keyword\">in</span> images:</span><br><span class=\"line\">            image_url = image.get_attribute(<span class=\"string\">&#x27;src&#x27;</span>)</span><br><span class=\"line\">            <span class=\"keyword\">if</span> image_url:</span><br><span class=\"line\">                <span class=\"keyword\">yield</span> Request(image_url, callback=self.save_image)</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\"># ÂÖ≥Èó≠SeleniumÁöÑChromeDriver</span></span><br><span class=\"line\">        self.driver.quit()</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">def</span> <span class=\"title function_\">save_image</span>(<span class=\"params\">self, response</span>):</span><br><span class=\"line\">        <span class=\"comment\"># ‰øùÂ≠òÂõæÁâáÂà∞Êú¨Âú∞</span></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<p>‰∏ãÈù¢ÊòØÊàëÁà¨ÂèñÁöÑÂõæÁâáÁªìÊûú<br><img src=\"/images/image-search/images.png\" alt=\"ÂõæÁâá\"></p>\n<p><img src=\"/images/image-search/search.gif\" alt=\"ÂõæÁâá\"></p>\n","site":{"data":{}},"excerpt":"","more":"<p>Âú®‰∫íËÅîÁΩëÊó∂‰ª£ÔºåÂõæÁâáÊêúÁ¥¢ÂºïÊìéÂ∑≤Êàê‰∏∫‰∏ÄÁßçÈáçË¶ÅÁöÑÂ∑•ÂÖ∑„ÄÇÊú¨ÊñáÂ∞ÜËØ¶ÁªÜ‰ªãÁªçÂ¶Ç‰Ωï‰ΩøÁî®ÂêëÈáèÂµåÂÖ•„ÄÅÂêëÈáèÊï∞ÊçÆÂ∫ìÂíå CLIPÔºàContrastive Language-Image Pre-TrainingÔºâÊ®°ÂûãÔºå‰ªéÈõ∂ÂºÄÂßãÊê≠Âª∫‰∏Ä‰∏™ÂäüËÉΩÂº∫Â§ßÁöÑÂõæÁâáÊêúÁ¥¢ÂºïÊìé„ÄÇÊàë‰ª¨Â∞ÜÂàÜÊ≠•È™§ËÆ≤Ëß£ÊØè‰∏™ÁªÑ‰ª∂ÁöÑ‰ΩúÁî®ÂèäÂÖ∂ÂÆûÁé∞ÊñπÊ≥ïÔºåÊúÄÁªàÂÆûÁé∞‰∏Ä‰∏™ËÉΩÂ§üÂü∫‰∫éÂõæÁâáÂÜÖÂÆπËøõË°åÊêúÁ¥¢ÁöÑÁ≥ªÁªü„ÄÇ</p>\n<p>Âú®ÂºÄÂßãÈòÖËØªÊú¨ÁØáÊñáÁ´†‰πãÂâçÔºåÂ¶ÇÊûú‰Ω†Ê≤°ÊúâÊé•Ëß¶ËøáÂµåÂÖ•ÔºåclipÔºåÂêëÈáèÊï∞ÊçÆÂ∫ìÁ≠âÔºå‰πüÊ≤°ÂÖ≥Á≥ª„ÄÇÊñáÁ´†ÂÜÖÂÆπÂ∑≤ÁªèÂ∞ΩÊàëÊâÄËÉΩÂÜôÁöÑÈÄö‰øóÊòìÊáÇÔºåËÄÅÂ∞ëÂí∏ÂÆú„ÄÇ</p>\n<pre><code>ËØªËÄÖÂ¶ÇÊûúÊÑüÂÖ¥Ë∂£ÂèØ‰ª•Ë∑≥ËΩ¨ËÄÅÂ§´‰πãÂâç‰ªãÁªçÂµåÂÖ•ÁöÑÊñáÁ´†[ÂµåÂÖ•ÔºöÂÆÉÊòØ‰ªÄ‰πà‰ª•ÂèäÂÆÉ‰∏∫‰ªÄ‰πàÈáçË¶Å](https://juejin.cn/post/7325356387152707634)\n</code></pre>\n<h1 id=\"ÂâçÁΩÆËæìÂÖ•\"><a href=\"#ÂâçÁΩÆËæìÂÖ•\" class=\"headerlink\" title=\"ÂâçÁΩÆËæìÂÖ•\"></a>ÂâçÁΩÆËæìÂÖ•</h1><p>Âú®ÂºÄÂßãÈòÖËØªÂêéÈù¢ÊñáÁ´†ÁöÑÂÜÖÂÆπ‰πãÂâçÔºåÊàë‰ª¨ÂÖàÁÆÄÂçï‰ªãÁªç‰ª•‰∏ãÂêéÈù¢ÂèØËÉΩ‰ºöÂá∫Áé∞ÁöÑÊúØËØ≠Ôºö</p>\n<ul>\n<li>ÂµåÂÖ•ÔºöÂµåÂÖ•Â∞ÜÂõæÂÉèÊñáÊú¨ËΩ¨Êç¢‰∏∫Êï∞Â≠óË°®Á§∫Ôºå‰ΩøÊàë‰ª¨ËÉΩÂ§üÊâæÂà∞Áõ∏‰ººÁöÑÂõæÁâáÂπ∂ÊúâÊïàÂú∞ÊêúÁ¥¢Êàë‰ª¨ÁöÑÂ∫ì„ÄÇ</li>\n<li>ÂêëÈáèÊï∞ÊçÆÂ∫ìÔºöÂêëÈáèÊï∞ÊçÆÂ∫ìÊòØ‰∏ÄÁßçÂ≠òÂÇ®ÂíåÊêúÁ¥¢ÁºñÁ†ÅÈ°πÁõÆÁöÑÊñπÊ≥ïÔºå‰ΩøÊàë‰ª¨ËÉΩÂ§üÊâæÂà∞Áõ∏‰ººÁöÑÈ°πÁõÆ„ÄÇ</li>\n<li>Word2VecÔºöord2Vec ÊòØ‰∏ÄÁßçÁ™ÅÁ†¥ÊÄßÁöÑÊäÄÊúØÔºåÂèØÂ∞ÜÂçïËØçËΩ¨Êç¢‰∏∫Êï∞Â≠óÂêëÈáèÔºå‰ΩøÊàë‰ª¨ËÉΩÂ§üÊâßË°åÊü•ÊâæËØ≠‰πâÁõ∏‰ººÁöÑËØ≠Âè•Ôºå‰∏çÂÜçÊòØÂçïÁ∫ØÁöÑÂàÜËØç„ÄÇ</li>\n<li>OpenCLIPÔºö CLIP ÊòØ OpenAI ÁöÑÊ®°ÂûãÔºåÂèØÂ∞ÜÂõæÂÉèÂíåÊñáÊú¨ÁºñÁ†Å‰∏∫Êï∞Â≠óÂêëÈáè„ÄÇOpenCLIPÊòØCLIPÁöÑÂºÄÊ∫êÂÆûÁé∞„ÄÇËÆ∏‰ªª‰Ωï‰∫∫‰ΩøÁî®ÂíåÊûÑÂª∫ËøôÁßçÂº∫Â§ßÁöÑÂõæÂÉèÂíåÊñáÊú¨ÁºñÁ†ÅÊäÄÊúØÔºåËÄåÊó†ÈúÄÁâπÊÆäËÆøÈóÆÊàñÊùÉÈôê„ÄÇ</li>\n<li>QdrantÔºö Qdrant ÊòØ‰∏Ä‰∏™È´òÊïàÁöÑÂ∫ìÔºåÁî®‰∫éÁÆ°ÁêÜÂíåÊêúÁ¥¢Â§ßÈáèÂõæÂÉèÂêëÈáè„ÄÇ</li>\n</ul>\n<h1 id=\"Êï¥‰ΩìÊÄùË∑Ø\"><a href=\"#Êï¥‰ΩìÊÄùË∑Ø\" class=\"headerlink\" title=\"Êï¥‰ΩìÊÄùË∑Ø\"></a>Êï¥‰ΩìÊÄùË∑Ø</h1><ol>\n<li>Áà¨Ëô´Ëé∑ÂèñÂõæÁâáÔºõ</li>\n<li>Áî®CLIPËé∑ÂèñÊØè‰∏™ÂõæÁâáÂêëÈáèÁºñÁ†ÅÔºõ</li>\n<li>ÊääÂõæÁâáÁöÑË∑ØÂæÑÂíåÂêëÈáèÁºñÁ†ÅÂ≠òÂÖ•ÂêëÈáèÊï∞ÊçÆÂ∫ìÔºõ</li>\n<li>Áî®Êà∑‰∏ä‰º†ÂõæÁâáÔºõ</li>\n<li>Áî®CLIPËé∑ÂèñÂõæÁâáÂêëÈáèÁºñÁ†ÅÔºõ</li>\n<li>Âú®ÂêëÈáèÊï∞ÊçÆÂ∫ì‰∏≠ÊêúÁ¥¢Ëé∑ÂèñÁõ∏‰ººÂõæÁâáÔºåÂπ∂Ëé∑ÂèñÂõæÁâáË∑ØÂæÑÔºõ</li>\n<li>ËøîÂõûÁõ∏‰ººÂõæÁâáÔºõ</li>\n</ol>\n<h1 id=\"Áà¨Ëô´\"><a href=\"#Áà¨Ëô´\" class=\"headerlink\" title=\"Áà¨Ëô´\"></a>Áà¨Ëô´</h1><p>Êó¢ÁÑ∂ÊòØÂõæÁâáÊêúÁ¥¢ÔºåÈÇ£‰πàÊàë‰ª¨ÁöÑÁ¨¨‰∏ÄÊ≠•Â∞±ÊòØÊúâ‰∏Ä‰∏™ÂõæÁâáÂ∫ì„ÄÇËøôÈáåÊàëÁõ¥Êé•Áî®pythonÊí∏‰∫Ü‰∏Ä‰∏™ÁÆÄÂçïÁöÑÁà¨Ëô´Á®ãÂ∫èÔºåÁõ¥Êé•‰ªéWBÁà¨ÂèñÂõæÁâá‰Ωú‰∏∫ÊêúÁ¥¢ÁöÑÊ∫ê„ÄÇ<br>ËøôÈáåÊúâ‰∏™Âú∞ÊñπÈúÄË¶ÅÊ≥®ÊÑè‰∏Ä‰∏ãÔºåÂõ†‰∏∫Áé∞Âú®ÂõæÁâáÂü∫Êú¨‰∏äÈÉΩÊòØÂä®ÊÄÅÂä†ËΩΩÁöÑÔºåÊâÄ‰ª•ËøôÈáåÊàë‰ª¨ËøòÈúÄË¶ÅÁî®SeleniumÊù•Ëé∑ÂèñÈ°µÈù¢ÂÜÖÂÆπ„ÄÇ</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> os</span><br><span class=\"line\"><span class=\"keyword\">import</span> scrapy</span><br><span class=\"line\"><span class=\"keyword\">from</span> selenium <span class=\"keyword\">import</span> webdriver</span><br><span class=\"line\"><span class=\"keyword\">from</span> selenium.webdriver.chrome.service <span class=\"keyword\">import</span> Service</span><br><span class=\"line\"><span class=\"keyword\">from</span> selenium.webdriver.chrome.options <span class=\"keyword\">import</span> Options</span><br><span class=\"line\"><span class=\"keyword\">from</span> scrapy.crawler <span class=\"keyword\">import</span> CrawlerProcess</span><br><span class=\"line\"><span class=\"keyword\">from</span> scrapy.http <span class=\"keyword\">import</span> Request</span><br><span class=\"line\"><span class=\"keyword\">import</span> re  <span class=\"comment\"># Á°Æ‰øùÂØºÂÖ• re Ê®°Âùó</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">WeiboSpider</span>(scrapy.Spider):</span><br><span class=\"line\">    name = <span class=\"string\">&#x27;wb&#x27;</span></span><br><span class=\"line\">    start_urls = [<span class=\"string\">&#x27;xxx.xxx.com&#x27;</span>]  <span class=\"comment\"># ÊõøÊç¢‰∏∫‰Ω†Ë¶ÅÁà¨ÂèñÁöÑÁõÆÊ†áURL</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">def</span> <span class=\"title function_\">__init__</span>(<span class=\"params\">self, *args, **kwargs</span>):</span><br><span class=\"line\">        <span class=\"built_in\">super</span>(WeiboSpider, self).__init__(*args, **kwargs)</span><br><span class=\"line\">        <span class=\"comment\"># ÈÖçÁΩÆSeleniumÁöÑChromeDriver</span></span><br><span class=\"line\">        chrome_options = Options()</span><br><span class=\"line\">        chrome_options.add_argument(<span class=\"string\">&quot;--headless&quot;</span>)  <span class=\"comment\"># Êó†Â§¥Ê®°ÂºèËøêË°åÔºå‰∏çÊâìÂºÄÊµèËßàÂô®ÁïåÈù¢</span></span><br><span class=\"line\">        chrome_service = Service(<span class=\"string\">&#x27;D:\\\\Program Files\\\\chromedriver\\\\chromedriver.exe&#x27;</span>)</span><br><span class=\"line\">        self.driver = webdriver.Chrome(service=chrome_service, options=chrome_options)</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">def</span> <span class=\"title function_\">parse</span>(<span class=\"params\">self, response</span>):</span><br><span class=\"line\">        <span class=\"comment\"># ‰ΩøÁî®SeleniumÂä†ËΩΩÈ°µÈù¢</span></span><br><span class=\"line\">        self.driver.get(response.url)</span><br><span class=\"line\">        <span class=\"comment\"># Á≠âÂæÖJavaScriptÂä†ËΩΩÂÆåÊàêÔºàËøôÈáåÈúÄË¶ÅÊ†πÊçÆ‰Ω†ÁöÑÂÆûÈôÖÊÉÖÂÜµË∞ÉÊï¥Á≠âÂæÖÊó∂Èó¥ÊàñÊñπÂºèÔºâ</span></span><br><span class=\"line\">        self.driver.implicitly_wait(<span class=\"number\">10</span>)  <span class=\"comment\"># ÈöêÂºèÁ≠âÂæÖÊúÄÂ§ö10Áßí</span></span><br><span class=\"line\">        </span><br><span class=\"line\">        <span class=\"comment\"># ÂàõÂª∫ images ÁõÆÂΩï</span></span><br><span class=\"line\">        images_dir = <span class=\"string\">&#x27;images&#x27;</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> os.path.exists(images_dir):</span><br><span class=\"line\">            os.makedirs(images_dir)</span><br><span class=\"line\">        </span><br><span class=\"line\">        <span class=\"comment\"># ÊèêÂèñÂõæÁâáURLÊàñËøõË°åÂÖ∂‰ªñÊìç‰Ωú...</span></span><br><span class=\"line\">        <span class=\"comment\"># ËøôÈáåÂè™ÊòØ‰∏Ä‰∏™Á§∫‰æãÔºå‰Ω†ÈúÄË¶ÅÊ†πÊçÆÈ°µÈù¢ÁöÑÂÆûÈôÖÁªìÊûÑÊù•ÂÆö‰ΩçÂõæÁâáÂÖÉÁ¥†</span></span><br><span class=\"line\">        images = self.driver.find_elements(<span class=\"string\">&#x27;tag name&#x27;</span>, <span class=\"string\">&#x27;img&#x27;</span>)</span><br><span class=\"line\">        <span class=\"keyword\">for</span> image <span class=\"keyword\">in</span> images:</span><br><span class=\"line\">            image_url = image.get_attribute(<span class=\"string\">&#x27;src&#x27;</span>)</span><br><span class=\"line\">            <span class=\"keyword\">if</span> image_url:</span><br><span class=\"line\">                <span class=\"keyword\">yield</span> Request(image_url, callback=self.save_image)</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\"># ÂÖ≥Èó≠SeleniumÁöÑChromeDriver</span></span><br><span class=\"line\">        self.driver.quit()</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">def</span> <span class=\"title function_\">save_image</span>(<span class=\"params\">self, response</span>):</span><br><span class=\"line\">        <span class=\"comment\"># ‰øùÂ≠òÂõæÁâáÂà∞Êú¨Âú∞</span></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<p>‰∏ãÈù¢ÊòØÊàëÁà¨ÂèñÁöÑÂõæÁâáÁªìÊûú<br><img src=\"/images/image-search/images.png\" alt=\"ÂõæÁâá\"></p>\n<p><img src=\"/images/image-search/search.gif\" alt=\"ÂõæÁâá\"></p>\n"}],"PostAsset":[],"PostCategory":[],"PostTag":[{"post_id":"cltzedeaa0000d0p1ajbjc7gt","tag_id":"clu6lbm020000qgp12xagd7wt","_id":"clu6lbm030001qgp1fqm351zz"},{"post_id":"cluc17m5x0000qsp19fjj1lmy","tag_id":"cluc17m5z0001qsp12a5n6e97","_id":"cluc17m600002qsp19wrd4b20"},{"post_id":"clup9vupa0000okp14bz96eiy","tag_id":"clup9vupr0001okp1b20obw5k","_id":"clup9vups0002okp1f72rhs2r"},{"post_id":"cluuzgyxx000088p1frvnfrom","tag_id":"clv0mvgiy0002x4p19oeo5n65","_id":"clv0mvgiy0003x4p186o50a2h"},{"post_id":"clv5zlgr50003fcp11585dpte","tag_id":"clv4x0del0001fcp16qpg9jfq","_id":"clv5zlgr70004fcp1a7h78bur"},{"post_id":"clvj8jhdc0000pop171ud7xg2","tag_id":"clvxfh3ap0000zkp1cdrwco6s","_id":"clvxfh3as0001zkp12iuz6c4w"}],"Tag":[{"name":"http ÂçèËÆÆ httpÂçèËÆÆ","_id":"cltzedeah0001d0p1gd2rdzoo"},{"name":"http httpÂçèËÆÆ Connection","_id":"clu6lbm020000qgp12xagd7wt"},{"name":"ÁªÑÁªá ÂÜÖËÄó","_id":"cluc17m5z0001qsp12a5n6e97"},{"name":"Garnet ÁºìÂ≠ò ÂæÆËΩØ","_id":"clup9vupr0001okp1b20obw5k"},{"name":"https http ssl tlc","_id":"clv0mvfpx0000x4p1cun49e2q"},{"name":"https http ssl tls","_id":"clv0mvgiy0002x4p19oeo5n65"},{"name":"redis Èù¢ËØï Ê±ÇËÅå","_id":"clv4x0del0001fcp16qpg9jfq"},{"name":"dump","_id":"clvj8jhdt0001pop1f18veod2"},{"name":"dump ÊÄßËÉΩ ÂºÇÂ∏∏","_id":"clvxfh3ap0000zkp1cdrwco6s"}]}}